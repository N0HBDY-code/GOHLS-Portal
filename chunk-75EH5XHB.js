var RN=Object.defineProperty,NN=Object.defineProperties;var MN=Object.getOwnPropertyDescriptors;var yI=Object.getOwnPropertySymbols,PN=Object.getPrototypeOf,kN=Object.prototype.hasOwnProperty,xN=Object.prototype.propertyIsEnumerable,ON=Reflect.get;var vI=(t,e,n)=>e in t?RN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ue=(t,e)=>{for(var n in e||={})kN.call(e,n)&&vI(t,n,e[n]);if(yI)for(var n of yI(e))xN.call(e,n)&&vI(t,n,e[n]);return t},fe=(t,e)=>NN(t,MN(e));var ar=(t,e,n)=>ON(PN(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var cf;function Zc(){return cf}function cn(t){let e=cf;return cf=t,e}var _I=Symbol("NotFound");function io(t){return t===_I||t?.name==="\u0275NotFound"}function nu(t,e){return Object.is(t,e)}var tt=null,Jc=!1,uf=1,FN=null,nt=Symbol("SIGNAL");function Q(t){let e=tt;return tt=t,e}function ru(){return tt}var Zr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oo(t){if(Jc)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(t);let e=tt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=tt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:tt.producers,n!==void 0&&n.producer===t)){tt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===tt&&(!r||LN(i,tt)))return;let o=ao(tt),s={producer:t,consumer:tt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};tt.producersTail=s,e!==void 0?e.nextProducer=s:tt.producers=s,o&&II(t,s)}function EI(){uf++}function iu(t){if(!(ao(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===uf)){if(!t.producerMustRecompute(t)&&!qs(t)){tu(t);return}t.producerRecomputeValue(t),tu(t)}}function lf(t){if(t.consumers===void 0)return;let e=Jc;Jc=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||VN(r)}}finally{Jc=e}}function df(){return tt?.consumerAllowSignalWrites!==!1}function VN(t){t.dirty=!0,lf(t),t.consumerMarkedDirty?.(t)}function tu(t){t.dirty=!1,t.lastCleanEpoch=uf}function Jr(t){return t&&(t.producersTail=void 0,t.recomputing=!0),Q(t)}function so(t,e){if(Q(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(ao(t))do r=hf(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function qs(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(iu(n),r!==n.version))return!0}return!1}function ou(t){if(ao(t)){let e=t.producers;for(;e!==void 0;)e=hf(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function II(t,e){let n=t.consumersTail,r=ao(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)II(i.producer,i)}function hf(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ao(e)){let o=e.producers;for(;o!==void 0;)o=hf(o)}return n}function ao(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function su(t){FN?.(t)}function LN(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function au(t,e){let n=Object.create(jN);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(iu(n),oo(n),n.value===Hs)throw n.error;return n.value};return r[nt]=n,su(n),r}var Xc=Symbol("UNSET"),eu=Symbol("COMPUTING"),Hs=Symbol("ERRORED"),jN=fe(ue({},Zr),{value:Xc,dirty:!0,error:null,equal:nu,kind:"computed",producerMustRecompute(t){return t.value===Xc||t.value===eu},producerRecomputeValue(t){if(t.value===eu)throw new Error("");let e=t.value;t.value=eu;let n=Jr(t),r,i=!1;try{r=t.computation(),Q(null),i=e!==Xc&&e!==Hs&&r!==Hs&&t.equal(e,r)}catch(o){r=Hs,t.error=o}finally{so(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function BN(){throw new Error}var wI=BN;function DI(t){wI(t)}function ff(t){wI=t}var UN=null;function pf(t,e){let n=Object.create(cu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>TI(n);return r[nt]=n,su(n),[r,s=>co(n,s),s=>gf(n,s)]}function TI(t){return oo(t),t.value}function co(t,e){df()||DI(t),t.equal(t.value,e)||(t.value=e,$N(t))}function gf(t,e){df()||DI(t),co(t,e(t.value))}var cu=fe(ue({},Zr),{equal:nu,value:void 0,kind:"signal"});function $N(t){t.version++,EI(),lf(t),UN?.(t)}function W(t){return typeof t=="function"}function uo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var uu=uo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(o){e=o instanceof uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bI(o)}catch(s){e=e??[],s instanceof uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xr(n,e)}remove(e){let{_finalizers:n}=this;n&&Xr(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var mf=Pe.EMPTY;function lu(t){return t instanceof Pe||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function bI(t){W(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lo={setTimeout(t,e,...n){let{delegate:r}=lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function du(t){lo.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function zs(){}var CI=yf("C",void 0,void 0);function AI(t){return yf("E",void 0,t)}function SI(t){return yf("N",t,void 0)}function yf(t,e,n){return{kind:t,value:e,error:n}}var ei=null;function ho(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!ei;if(e&&(ei={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ei;if(ei=null,n)throw r}}else t()}function RI(t){Ht.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=t)}var ti=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lu(e)&&e.add(this)):this.destination=zN}static create(e,n,r){return new fo(e,n,r)}next(e){this.isStopped?_f(SI(e),this):this._next(e)}error(e){this.isStopped?_f(AI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_f(CI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HN=Function.prototype.bind;function vf(t,e){return HN.call(t,e)}var Ef=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hu(r)}else hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hu(n)}}},fo=class extends ti{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vf(e.next,o),error:e.error&&vf(e.error,o),complete:e.complete&&vf(e.complete,o)}):i=e}this.destination=new Ef(i)}};function hu(t){Ht.useDeprecatedSynchronousErrorHandling?RI(t):du(t)}function qN(t){throw t}function _f(t,e){let{onStoppedNotification:n}=Ht;n&&lo.setTimeout(()=>n(t,e))}var zN={closed:!0,next:zs,error:qN,complete:zs};var po=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function GN(...t){return If(t)}function If(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=KN(n)?n:new fo(n,r,i);return ho(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=NI(r),new r((i,o)=>{let s=new fo({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[po](){return this}pipe(...n){return If(n)(this)}toPromise(n){return n=NI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function NI(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function WN(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function KN(t){return t&&t instanceof ti||WN(t)&&lu(t)}function wf(t){return W(t?.lift)}function oe(t){return e=>{if(wf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(t,e,n,r,i){return new Df(t,e,n,r,i)}var Df=class extends ti{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Tf(){return oe((t,e)=>{let n=null;t._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var bf=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Tf()(this)}};var MI=uo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qt=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new fu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new MI}next(n){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?mf:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,Xr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new fu(e,n),t})(),fu=class extends qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mf}};var On=class extends qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cf={now(){return(Cf.delegate||Date).now()},delegate:void 0};var pu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Gs={setInterval(t,e,...n){let{delegate:r}=Gs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Gs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var go=class extends pu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Gs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Gs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mo.now=Cf.now;var yo=class extends mo{constructor(e,n=mo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Af=new yo(go);var gu=class extends go{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var mu=class extends yo{};var Sf=new mu(gu);var Ws=new ee(t=>t.complete());function PI(t){return t&&W(t.schedule)}function kI(t){return t[t.length-1]}function yu(t){return W(kI(t))?t.pop():void 0}function cr(t){return PI(kI(t))?t.pop():void 0}function Rf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function xI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(t){return this instanceof ni?(this.v=t,this):new ni(t)}function FI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function c(y,A){r[y]&&(i[y]=function(M){return new Promise(function(N,O){o.push([y,M,N,O])>1||u(y,M)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof ni?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function VI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xI=="function"?xI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var vu=t=>t&&typeof t.length=="number"&&typeof t!="function";function _u(t){return W(t?.then)}function Eu(t){return W(t[po])}function Iu(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function wu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Du=QN();function Tu(t){return W(t?.[Du])}function bu(t){return FI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ni(n.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{n.releaseLock()}})}function Cu(t){return W(t?.getReader)}function ke(t){if(t instanceof ee)return t;if(t!=null){if(Eu(t))return YN(t);if(vu(t))return ZN(t);if(_u(t))return JN(t);if(Iu(t))return LI(t);if(Tu(t))return XN(t);if(Cu(t))return eM(t)}throw wu(t)}function YN(t){return new ee(e=>{let n=t[po]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZN(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function JN(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,du)})}function XN(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function LI(t){return new ee(e=>{tM(t,e).catch(n=>e.error(n))})}function eM(t){return LI(bu(t))}function tM(t,e){var n,r,i,o;return OI(this,void 0,void 0,function*(){try{for(n=VI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ur(t,e=0){return oe((n,r)=>{n.subscribe(re(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function lr(t,e=0){return oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jI(t,e){return ke(t).pipe(lr(e),ur(e))}function BI(t,e){return ke(t).pipe(lr(e),ur(e))}function UI(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $I(t,e){return new ee(n=>{let r;return mt(n,e,()=>{r=t[Du](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function Au(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function HI(t,e){return Au(bu(t),e)}function qI(t,e){if(t!=null){if(Eu(t))return jI(t,e);if(vu(t))return UI(t,e);if(_u(t))return BI(t,e);if(Iu(t))return Au(t,e);if(Tu(t))return $I(t,e);if(Cu(t))return HI(t,e)}throw wu(t)}function un(t,e){return e?qI(t,e):ke(t)}function nM(...t){let e=cr(t);return un(t,e)}function rM(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function iM(t){return!!t&&(t instanceof ee||W(t.lift)&&W(t.subscribe))}var ri=uo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zt(t,e){return oe((n,r)=>{let i=0;n.subscribe(re(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:oM}=Array;function sM(t,e){return oM(e)?t(...e):t(e)}function Su(t){return zt(e=>sM(t,e))}var{isArray:aM}=Array,{getPrototypeOf:cM,prototype:uM,keys:lM}=Object;function Ru(t){if(t.length===1){let e=t[0];if(aM(e))return{args:e,keys:null};if(dM(e)){let n=lM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function dM(t){return t&&typeof t=="object"&&cM(t)===uM}function Nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Nf(...t){let e=cr(t),n=yu(t),{args:r,keys:i}=Ru(t);if(r.length===0)return un([],e);let o=new ee(hM(r,e,i?s=>Nu(i,s):Tt));return n?o.pipe(Su(n)):o}function hM(t,e,n=Tt){return r=>{zI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)zI(e,()=>{let l=un(t[u],e),h=!1;l.subscribe(re(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zI(t,e,n){t?mt(n,t,e):e()}function GI(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?A(M):u.push(M),A=M=>{o&&e.next(M),l++;let N=!1;ke(n(M,h++)).subscribe(re(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let O=u.shift();s?mt(e,s,()=>A(O)):A(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(re(e,y,()=>{p=!0,m()})),()=>{c?.()}}function ii(t,e,n=1/0){return W(e)?ii((r,i)=>zt((o,s)=>e(r,o,i,s))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),oe((r,i)=>GI(r,i,t,n)))}function Mf(t=1/0){return ii(Tt,t)}function WI(){return Mf(1)}function Mu(...t){return WI()(un(t,cr(t)))}function fM(t){return new ee(e=>{ke(t()).subscribe(e)})}function Pf(...t){let e=yu(t),{args:n,keys:r}=Ru(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ke(n[h]).subscribe(re(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Nu(r,c):c),o.complete())}))}});return e?i.pipe(Su(e)):i}function Ks(t,e){return oe((n,r)=>{let i=0;n.subscribe(re(r,o=>t.call(e,o,i++)&&r.next(o)))})}function KI(t){return oe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(re(n,void 0,void 0,s=>{o=ke(t(s,KI(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function QI(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(re(s,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function pM(t,e){return W(e)?ii(t,e,1):ii(t,1)}function Qs(t){return oe((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function kf(t){return t<=0?()=>Ws:oe((e,n)=>{let r=0;e.subscribe(re(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pu(t=gM){return oe((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function gM(){return new ri}function mM(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function yM(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ks((i,o)=>t(i,o,r)):Tt,kf(1),n?Qs(e):Pu(()=>new ri))}function xf(t){return t<=0?()=>Ws:oe((e,n)=>{let r=[];e.subscribe(re(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vM(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ks((i,o)=>t(i,o,r)):Tt,xf(1),n?Qs(e):Pu(()=>new ri))}function _M(t,e){return oe(QI(t,e,arguments.length>=2,!0))}function EM(...t){let e=cr(t);return oe((n,r)=>{(e?Mu(t,n,e):Mu(t,n)).subscribe(r)})}function IM(t,e){return oe((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(re(r,u=>{i?.unsubscribe();let l=0,h=o++;ke(t(u,h)).subscribe(i=re(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function wM(t){return oe((e,n)=>{ke(t).subscribe(re(n,()=>n.complete(),zs)),!n.closed&&e.subscribe(n)})}function DM(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?oe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(re(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}function YI(t){let e=Q(null);try{return t()}finally{Q(e)}}var Vu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,n){super(ui(e,n)),this.code=e}};function TM(t){return`NG0${Math.abs(t)}`}function ui(t,e){return`${TM(t)}${e?": "+e:""}`}var ln=globalThis;function le(t){for(let e in t)if(t[e]===le)return e;throw Error("")}function XI(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Vn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Vn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Lu(t,e){return t?e?`${t} ${e}`:t:e||""}var bM=le({__forward_ref__:le});function pt(t){return t.__forward_ref__=pt,t.toString=function(){return Vn(this())},t}function Ke(t){return Wf(t)?t():t}function Wf(t){return typeof t=="function"&&t.hasOwnProperty(bM)&&t.__forward_ref__===pt}function ew(t,e){t==null&&Kf(e,t,null,"!=")}function Kf(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function li(t){return{providers:t.providers||[],imports:t.imports||[]}}function ea(t){return AM(t,ju)}function CM(t){return ea(t)!==null}function AM(t,e){return t.hasOwnProperty(e)&&t[e]||null}function SM(t){let e=t?.[ju]??null;return e||null}function Ff(t){return t&&t.hasOwnProperty(xu)?t[xu]:null}var ju=le({\u0275prov:le}),xu=le({\u0275inj:le}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qf(t){return t&&!!t.\u0275providers}var Yf=le({\u0275cmp:le}),Zf=le({\u0275dir:le}),Jf=le({\u0275pipe:le}),Xf=le({\u0275mod:le}),Js=le({\u0275fac:le}),di=le({__NG_ELEMENT_ID__:le}),ZI=le({__NG_ENV_ID__:le});function Gt(t){return typeof t=="string"?t:t==null?"":String(t)}function Ou(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gt(t)}var ep=le({ngErrorCode:le}),tw=le({ngErrorMessage:le}),Zs=le({ngTokenPath:le});function tp(t,e){return nw("",-200,e)}function Bu(t,e){throw new B(-201,!1)}function RM(t,e){t[Zs]??=[];let n=t[Zs],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(ew(e.provide,"Token with multi: true should have a provide property"),r=Ou(e.provide)):r=Ou(e),n[0]!==r&&t[Zs].unshift(r)}function NM(t,e){let n=t[Zs],r=t[ep],i=t[tw]||t.message;return t.message=PM(i,r,n,e),t}function nw(t,e,n){let r=new B(e,t);return r[ep]=e,r[tw]=t,n&&(r[Zs]=n),r}function MM(t){return t[ep]}function PM(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return ui(e,`${t}${o}${i}`)}var Vf;function rw(){return Vf}function ht(t){let e=Vf;return Vf=t,e}function np(t,e,n){let r=ea(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Bu(t,"Injector")}var kM={},oi=kM,Lf="__NG_DI_FLAG__",jf=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=si(n)||0;try{return this.injector.get(e,r&8?null:oi,r)}catch(i){if(io(i))return i;throw i}}};function xM(t,e=0){let n=Zc();if(n===void 0)throw new B(-203,!1);if(n===null)return np(t,void 0,e);{let r=OM(e),i=n.retrieve(t,r);if(io(i)){if(r.optional)return null;throw i}return i}}function Se(t,e=0){return(rw()||xM)(Ke(t),e)}function V(t,e){return Se(t,si(e))}function si(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function OM(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Bf(t){let e=[];for(let n=0;n<t.length;n++){let r=Ke(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=FM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Se(i,o))}else e.push(Se(r))}return e}function rp(t,e){return t[Lf]=e,t.prototype[Lf]=e,t}function FM(t){return t[Lf]}function dr(t,e){let n=t.hasOwnProperty(Js);return n?t[Js]:null}function Uu(t,e){t.forEach(n=>Array.isArray(n)?Uu(n,e):e(n))}function ip(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ta(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function iw(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function $u(t,e,n){let r=_o(t,e);return r>=0?t[r|1]=n:(r=~r,iw(t,r,e,n)),r}function Hu(t,e){let n=_o(t,e);if(n>=0)return t[n|1]}function _o(t,e){return VM(t,e,1)}function VM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var pr={},ft=[],hi=new $(""),op=new $("",-1),sp=new $(""),Xs=class{get(e,n=oi){if(n===oi){let i=nw("",-201);throw i.name="\u0275NotFound",i}return n}};function ap(t){return t[Xf]||null}function jn(t){return t[Yf]||null}function cp(t){return t[Zf]||null}function ow(t){return t[Jf]||null}function dn(t){return{\u0275providers:t}}function sw(...t){return{\u0275providers:up(!0,t),\u0275fromNgModule:!0}}function up(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Uu(e,s=>{let c=s;Fu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&aw(i,o),n}function aw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];lp(i,o=>{e(o,r)})}}function Fu(t,e,n,r){if(t=Ke(t),!t)return!1;let i=null,o=Ff(t),s=!o&&jn(t);if(!o&&!s){let u=t.ngModule;if(o=Ff(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Fu(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Uu(o.imports,h=>{Fu(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&aw(l,e)}if(!c){let l=dr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:sp,useValue:i,multi:!0},i),e({provide:hi,useValue:()=>Se(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;lp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function lp(t,e){for(let n of t)Qf(n)&&(n=n.\u0275providers),Array.isArray(n)?lp(n,e):e(n)}var LM=le({provide:String,useValue:le});function cw(t){return t!==null&&typeof t=="object"&&LM in t}function jM(t){return!!(t&&t.useExisting)}function BM(t){return!!(t&&t.useFactory)}function ai(t){return typeof t=="function"}function uw(t){return!!t.useClass}var dp=new $(""),ku={},JI={},Of;function na(){return Of===void 0&&(Of=new Xs),Of}var yt=class{},ci=class extends yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,$f(e,s=>this.processProvider(s)),this.records.set(op,vo(void 0,this)),i.has("environment")&&this.records.set(yt,vo(void 0,this));let o=this.records.get(dp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(sp,ft,{self:!0}))}retrieve(e,n){let r=si(n)||0;try{return this.get(e,oi,r)}catch(i){if(io(i))return i;throw i}}destroy(){Ys(this),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return Ys(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ys(this);let n=cn(this),r=ht(void 0),i;try{return e()}finally{cn(n),ht(r)}}get(e,n=oi,r){if(Ys(this),e.hasOwnProperty(ZI))return e[ZI](this);let i=si(r),o,s=cn(this),c=ht(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=zM(e)&&ea(e);h&&this.injectableDefInScope(h)?l=vo(Uf(e),ku):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?na():this.parent;return n=i&8&&n===oi?null:n,u.get(e,n)}catch(u){let l=MM(u);throw l===-200||l===-201?new B(l,null):u}finally{ht(c),cn(s)}}resolveInjectorInitializers(){let e=Q(null),n=cn(this),r=ht(void 0),i;try{let o=this.get(hi,ft,{self:!0});for(let s of o)s()}finally{cn(n),ht(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Vn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ke(e);let n=ai(e)?e:Ke(e&&e.provide),r=$M(e);if(!ai(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vo(void 0,ku,!0),i.factory=()=>Bf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Q(null);try{if(n.value===JI)throw tp(Vn(e));return n.value===ku&&(n.value=JI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&qM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ke(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Uf(t){let e=ea(t),n=e!==null?e.factory:dr(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return UM(t);throw new B(204,!1)}function UM(t){if(t.length>0)throw new B(204,!1);let n=SM(t);return n!==null?()=>n.factory(t):()=>new t}function $M(t){if(cw(t))return vo(void 0,t.useValue);{let e=hp(t);return vo(e,ku)}}function hp(t,e,n){let r;if(ai(t)){let i=Ke(t);return dr(i)||Uf(i)}else if(cw(t))r=()=>Ke(t.useValue);else if(BM(t))r=()=>t.useFactory(...Bf(t.deps||[]));else if(jM(t))r=(i,o)=>Se(Ke(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ke(t&&(t.useClass||t.provide));if(HM(t))r=()=>new i(...Bf(t.deps));else return dr(i)||Uf(i)}return r}function Ys(t){if(t.destroyed)throw new B(205,!1)}function vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function HM(t){return!!t.deps}function qM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zM(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function $f(t,e){for(let n of t)Array.isArray(n)?$f(n,e):n&&Qf(n)?$f(n.\u0275providers,e):e(n)}function gr(t,e){let n;t instanceof ci?(Ys(t),n=t):n=new jf(t);let r,i=cn(n),o=ht(void 0);try{return e()}finally{cn(i),ht(o)}}function lw(){return rw()!==void 0||Zc()!=null}var Wt=0,H=1,z=2,Qe=3,Mt=4,Pt=5,ra=6,Eo=7,rt=8,fi=9,hn=10,we=11,Io=12,fp=13,pi=14,kt=15,gi=16,mi=17,yi=18,ia=19,pp=20,Fn=21,qu=22,oa=23,bt=24,vi=25,Be=26,dw=1;var mr=7,sa=8,aa=9,vt=10;function fn(t){return Array.isArray(t)&&typeof t[dw]=="object"}function Kt(t){return Array.isArray(t)&&t[dw]===!0}function gp(t){return(t.flags&4)!==0}function yr(t){return t.componentOffset>-1}function wo(t){return(t.flags&1)===1}function pn(t){return!!t.template}function Do(t){return(t[z]&512)!==0}function _i(t){return(t[z]&256)===256}var hw="svg",fw="math";function xt(t){for(;Array.isArray(t);)t=t[Wt];return t}function mp(t,e){return xt(e[t])}function Qt(t,e){return xt(e[t.index])}function zu(t,e){return t.data[e]}function Gu(t,e){return t[e]}function yp(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ot(t,e){let n=e[t];return fn(n)?n:n[Wt]}function Wu(t){return(t[z]&128)===128}function pw(t){return Kt(t[Qe])}function Ei(t,e){return e==null?null:t[e]}function vp(t){t[mi]=0}function _p(t){t[z]&1024||(t[z]|=1024,Wu(t)&&To(t))}function gw(t,e){for(;t>0;)e=e[pi],t--;return e}function ca(t){return!!(t[z]&9216||t[bt]?.dirty)}function Ku(t){t[hn].changeDetectionScheduler?.notify(8),t[z]&64&&(t[z]|=1024),ca(t)&&To(t)}function To(t){t[hn].changeDetectionScheduler?.notify(0);let e=hr(t);for(;e!==null&&!(e[z]&8192||(e[z]|=8192,!Wu(e)));)e=hr(e)}function Ep(t,e){if(_i(t))throw new B(911,!1);t[Fn]===null&&(t[Fn]=[]),t[Fn].push(e)}function mw(t,e){if(t[Fn]===null)return;let n=t[Fn].indexOf(e);n!==-1&&t[Fn].splice(n,1)}function hr(t){let e=t[Qe];return Kt(e)?e[Qe]:e}function yw(t){return t[Eo]??=[]}function vw(t){return t.cleanup??=[]}var Z={lFrame:kw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ua=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(ua||{}),GM=0,Hf=!1;function _w(){return Z.lFrame.elementDepthCount}function Ew(){Z.lFrame.elementDepthCount++}function Ip(){Z.lFrame.elementDepthCount--}function Qu(){return Z.bindingsEnabled}function Iw(){return Z.skipHydrationRootTNode!==null}function wp(t){return Z.skipHydrationRootTNode===t}function Dp(){Z.skipHydrationRootTNode=null}function te(){return Z.lFrame.lView}function it(){return Z.lFrame.tView}function ww(t){return Z.lFrame.contextLView=t,t[rt]}function Dw(t){return Z.lFrame.contextLView=null,t}function $e(){let t=Tp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Tp(){return Z.lFrame.currentTNode}function Tw(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bo(t,e){let n=Z.lFrame;n.currentTNode=t,n.isParent=e}function bp(){return Z.lFrame.isParent}function bw(){Z.lFrame.isParent=!1}function Cw(){return Z.lFrame.contextLView}function Cp(t){Kf("Must never be called in production mode"),GM=t}function Ap(){return Hf}function Sp(t){let e=Hf;return Hf=t,e}function la(){let t=Z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Rp(){return Z.lFrame.bindingIndex}function Aw(t){return Z.lFrame.bindingIndex=t}function Co(){return Z.lFrame.bindingIndex++}function da(t){let e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Sw(){return Z.lFrame.inI18n}function Rw(t,e){let n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yu(e)}function Nw(){return Z.lFrame.currentDirectiveIndex}function Yu(t){Z.lFrame.currentDirectiveIndex=t}function Mw(t){let e=Z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Np(t){Z.lFrame.currentQueryIndex=t}function WM(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[Pt]:null}function Mp(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=WM(o),i===null||(o=o[pi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Z.lFrame=Pw();return r.currentTNode=e,r.lView=t,!0}function Zu(t){let e=Pw(),n=t[H];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Pw(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?kw(t):e}function kw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xw(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pp=xw;function Ju(){let t=xw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ow(t){return(Z.lFrame.contextLView=gw(t,Z.lFrame.contextLView))[rt]}function gn(){return Z.lFrame.selectedIndex}function vr(t){Z.lFrame.selectedIndex=t}function Xu(){let t=Z.lFrame;return zu(t.tView,t.selectedIndex)}function Fw(){return Z.lFrame.currentNamespace}var Vw=!0;function el(){return Vw}function ha(t){Vw=t}function qf(t,e=null,n=null,r){let i=kp(t,e,n,r);return i.resolveInjectorInitializers(),i}function kp(t,e=null,n=null,r,i=new Set){let o=[n||ft,sw(t)];return r=r||(typeof t=="object"?void 0:Vn(t)),new ci(o,e||na(),r||null,i)}var Ue=class t{static THROW_IF_NOT_FOUND=oi;static NULL=new Xs;static create(e,n){if(Array.isArray(e))return qf({name:""},n,e,"");{let r=e.name??"";return qf({name:r},e.parent,e.providers,r)}}static \u0275prov=se({token:t,providedIn:"any",factory:()=>Se(op)});static __NG_ELEMENT_ID__=-1},Ii=new $(""),_r=(()=>{class t{static __NG_ELEMENT_ID__=KM;static __NG_ENV_ID__=n=>n}return t})(),zf=class extends _r{_lView;constructor(e){super(),this._lView=e}get destroyed(){return _i(this._lView)}onDestroy(e){let n=this._lView;return Ep(n,e),()=>mw(n,e)}};function KM(){return new zf(te())}var fr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},mn=new $("",{providedIn:"root",factory:()=>{let t=V(yt),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(fr),e.handleError(n))}}}),Lw={provide:hi,useValue:()=>void V(fr),multi:!0};function xp(t){return typeof t=="function"&&t[nt]!==void 0}function Er(t,e){let[n,r,i]=pf(t,e?.equal),o=n,s=o[nt];return o.set=r,o.update=i,o.asReadonly=jw.bind(o),o}function jw(){let t=this[nt];if(t.readonlyFn===void 0){let e=()=>this();e[nt]=t,t.readonlyFn=e}return t.readonlyFn}function Op(t){return xp(t)&&typeof t.set=="function"}var Ln=class{},fa=new $("",{providedIn:"root",factory:()=>!1});var Fp=new $(""),Vp=new $("");var tl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=QM}return t})();function QM(){return new tl(te(),$e())}var Ir=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new On(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=se({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ao=(()=>{class t{internalPendingTasks=V(Ir);scheduler=V(Ln);errorHandler=V(mn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=se({token:t,providedIn:"root",factory:()=>new t})}return t})();function pa(...t){}var Lp=(()=>{class t{static \u0275prov=se({token:t,providedIn:"root",factory:()=>new Gf})}return t})(),Gf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function xo(t){return{toString:t}.toString()}var nl="__parameters__";function iP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pD(t,e,n){return xo(()=>{let r=iP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(nl)?u[nl]:Object.defineProperty(u,nl,{value:[]})[nl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Et=rp(pD("Optional"),8);var gD=rp(pD("SkipSelf"),4);function oP(t){return typeof t=="function"}var ul=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function mD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var wa=(()=>{let t=()=>yD;return t.ngInherit=!0,t})();function yD(t){return t.type.prototype.ngOnChanges&&(t.setInput=aP),sP}function sP(){let t=_D(this),e=t?.current;if(e){let n=t.previous;if(n===pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function aP(t,e,n,r,i){let o=this.declaredInputs[r],s=_D(t)||cP(t,{previous:pr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new ul(l&&l.currentValue,n,u===pr),mD(t,e,i,n)}var vD="__ngSimpleChanges__";function _D(t){return t[vD]||null}function cP(t,e){return t[vD]=e}var Bw=[];var pe=function(t,e=null,n){for(let r=0;r<Bw.length;r++){let i=Bw[r];i(t,e,n)}};function uP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=yD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ED(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function sl(t,e,n){ID(t,e,3,n)}function al(t,e,n,r){(t[z]&3)===n&&ID(t,e,n,r)}function jp(t,e){let n=t[z];(n&3)===e&&(n&=16383,n+=1,t[z]=n)}function ID(t,e,n,r){let i=r!==void 0?t[mi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[mi]+=65536),(c<o||o==-1)&&(lP(t,n,e,u),t[mi]=(t[mi]&4294901760)+u+2),u++}function Uw(t,e){pe(4,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),pe(5,t,e)}}function lP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[z]>>14<t[mi]>>16&&(t[z]&3)===e&&(t[z]+=16384,Uw(c,o)):Uw(c,o)}var Ro=-1,Ti=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function dP(t){return(t.flags&8)!==0}function hP(t){return(t.flags&16)!==0}function fP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];pP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function wD(t){return t===3||t===4||t===6}function pP(t){return t.charCodeAt(0)===64}function No(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?$w(t,n,i,null,e[++r]):$w(t,n,i,null,null))}}return t}function $w(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function DD(t){return t!==Ro}function ll(t){return t&32767}function gP(t){return t>>16}function dl(t,e){let n=gP(t),r=e;for(;n>0;)r=r[pi],n--;return r}var Yp=!0;function hl(t){let e=Yp;return Yp=t,e}var mP=256,TD=mP-1,bD=5,yP=0,yn={};function vP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(di)&&(r=n[di]),r==null&&(r=n[di]=yP++);let i=r&TD,o=1<<i;e.data[t+(i>>bD)]|=o}function fl(t,e){let n=CD(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Bp(r.data,t),Bp(e,null),Bp(r.blueprint,null));let i=mg(t,e),o=t.injectorIndex;if(DD(i)){let s=ll(i),c=dl(i,e),u=c[H].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Bp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function mg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=MD(i),r===null)return Ro;if(n++,i=i[pi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ro}function Zp(t,e,n){vP(t,e,n)}function _P(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(wD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function AD(t,e,n){if(n&8||t!==void 0)return t;Bu(e,"NodeInjector")}function SD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[fi],o=ht(void 0);try{return i?i.get(e,r,n&8):np(e,r,n&8)}finally{ht(o)}}return AD(r,e,n)}function RD(t,e,n,r=0,i){if(t!==null){if(e[z]&2048&&!(r&2)){let s=TP(t,e,n,r,yn);if(s!==yn)return s}let o=ND(t,e,n,r,yn);if(o!==yn)return o}return SD(e,n,r,i)}function ND(t,e,n,r,i){let o=wP(n);if(typeof o=="function"){if(!Mp(e,t,r))return r&1?AD(i,n,r):SD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Bu(n);else return s}finally{Pp()}}else if(typeof o=="number"){let s=null,c=CD(t,e),u=Ro,l=r&1?e[kt][Pt]:null;for((c===-1||r&4)&&(u=c===-1?mg(t,e):e[c+8],u===Ro||!qw(r,!1)?c=-1:(s=e[H],c=ll(u),e=dl(u,e)));c!==-1;){let h=e[H];if(Hw(o,c,h.data)){let p=EP(c,e,n,s,r,l);if(p!==yn)return p}u=e[c+8],u!==Ro&&qw(r,e[H].data[c+8]===l)&&Hw(o,c,e)?(s=h,c=ll(u),e=dl(u,e)):c=-1}}return i}function EP(t,e,n,r,i,o){let s=e[H],c=s.data[t+8],u=r==null?yr(c)&&Yp:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=IP(c,s,n,u,l);return h!==null?pl(e,s,h,c,i):yn}function IP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&n===A||y>=u&&A.type===n)return y}if(i){let y=s[u];if(y&&pn(y)&&y.type===n)return u}return null}function pl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ti){let c=o;if(c.resolving){let y=Ou(s[n]);throw tp(y)}let u=hl(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],h,p=c.injectImpl?ht(c.injectImpl):null,m=Mp(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&uP(n,s[n],e)}finally{p!==null&&ht(p),hl(u),c.resolving=!1,Pp()}}return o}function wP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(di)?t[di]:void 0;return typeof e=="number"?e>=0?e&TD:DP:e}function Hw(t,e,n){let r=1<<t;return!!(n[e+(t>>bD)]&r)}function qw(t,e){return!(t&2)&&!(t&1&&e)}var Di=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return RD(this._tNode,this._lView,e,si(r),n)}};function DP(){return new Di($e(),te())}function vn(t){return xo(()=>{let e=t.prototype.constructor,n=e[Js]||Jp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Js]||Jp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jp(t){return Wf(t)?()=>{let e=Jp(Ke(t));return e&&e()}:dr(t)}function TP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[z]&2048&&!Do(s);){let c=ND(o,s,n,r|2,yn);if(c!==yn)return c;let u=o.parent;if(!u){let l=s[pp];if(l){let h=l.get(n,yn,r);if(h!==yn)return h}u=MD(s),s=s[pi]}o=u}return i}function MD(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[Pt]:null}function yg(t){return _P($e(),t)}function bP(){return Al($e(),te())}function Al(t,e){return new _n(Qt(t,e))}var _n=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=bP}return t})();function PD(t){return(t.flags&128)===128}var vg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vg||{}),kD=new Map,CP=0;function AP(){return CP++}function SP(t){kD.set(t[ia],t)}function Xp(t){kD.delete(t[ia])}var zw="__ngContext__";function Mo(t,e){fn(e)?(t[zw]=e[ia],SP(e)):t[zw]=e}function xD(t){return FD(t[Io])}function OD(t){return FD(t[Mt])}function FD(t){for(;t!==null&&!Kt(t);)t=t[Mt];return t}var eg;function RP(t){eg=t}function VD(){if(eg!==void 0)return eg;if(typeof document<"u")return document;throw new B(210,!1)}var NP=new $("",{providedIn:"root",factory:()=>MP}),MP="ng",LD=new $(""),_g=new $("",{providedIn:"platform",factory:()=>"unknown"});var PP=new $("",{providedIn:"root",factory:()=>VD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kP="h",xP="b";var jD=!1,BD=new $("",{providedIn:"root",factory:()=>jD});var OP=(t,e,n,r)=>{};function FP(t,e,n,r){OP(t,e,n,r)}function Eg(t){return(t.flags&32)===32}var VP=()=>null;function UD(t,e,n=!1){return VP(t,e,n)}function $D(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Np(o),c.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function tg(t,e,n){Np(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function Ig(t,e,n){if(gp(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{Q(r)}}}var Po=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Po||{}),rl;function LP(){if(rl===void 0&&(rl=null,ln.trustedTypes))try{rl=ln.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rl}function jP(t){return LP()?.createScriptURL(t)||t}var il;function BP(){if(il===void 0&&(il=null,ln.trustedTypes))try{il=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return il}function Gw(t){return BP()?.createScriptURL(t)||t}var gl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vu})`}};function Oo(t){return t instanceof gl?t.changingThisBreaksApplicationSecurity:t}function wg(t,e){let n=HD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Vu})`)}return n===e}function HD(t){return t instanceof gl&&t.getTypeName()||null}var UP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qD(t){return t=String(t),t.match(UP)?t:"unsafe:"+t}var Sl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sl||{});function zD(t){let e=WD();return e?e.sanitize(Sl.URL,t)||"":wg(t,"URL")?Oo(t):qD(Gt(t))}function GD(t){let e=WD();if(e)return Gw(e.sanitize(Sl.RESOURCE_URL,t)||"");if(wg(t,"ResourceURL"))return Gw(Oo(t));throw new B(904,!1)}function $P(t){return jP(t[0])}function HP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?GD:zD}function qP(t,e,n){return HP(e,n)(t)}function WD(){let t=te();return t&&t[hn].sanitizer}var zP=/^>|^->|<!--|-->|--!>|<!-$/g,GP=/(<|>)/g,WP="\u200B$1\u200B";function KP(t){return t.replace(zP,e=>e.replace(GP,WP))}function KD(t){return t instanceof Function?t():t}function QP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var QD="ng-template";function YP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Dg(t){return t.type===4&&t.value!==QD}function ZP(t,e,n){let r=t.type===4&&!n?QD:t.value;return e===r}function JP(t,e,n){let r=4,i=t.attrs,o=i!==null?tk(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Yt(r)&&!Yt(u))return!1;if(s&&Yt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!ZP(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;s=!0}}else if(r&8){if(i===null||!YP(t,i,u,n)){if(Yt(r))return!1;s=!0}}else{let l=e[++c],h=XP(u,i,Dg(t),n);if(h===-1){if(Yt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;s=!0}}}}return Yt(r)||s}function Yt(t){return(t&1)===0}function XP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nk(e,t)}function ek(t,e,n=!1){for(let r=0;r<e.length;r++)if(JP(t,e[r],n))return!0;return!1}function tk(t){for(let e=0;e<t.length;e++){let n=t[e];if(wD(n))return e}return t.length}function nk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ww(t,e){return t?":not("+e.trim()+")":e}function rk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Yt(s)&&(e+=Ww(o,i),i=""),r=s,o=o||!Yt(r);n++}return i!==""&&(e+=Ww(o,i)),e}function ik(t){return t.map(rk).join(",")}function ok(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Yt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ye={};function sk(t,e){return t.createText(e)}function ak(t,e,n){t.setValue(e,n)}function ck(t,e){return t.createComment(KP(e))}function YD(t,e,n){return t.createElement(e,n)}function ml(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZD(t,e,n){t.appendChild(e,n)}function Kw(t,e,n,r,i){r!==null?ml(t,e,n,r,i):ZD(t,e,n)}function uk(t,e,n){t.removeChild(null,e,n)}function lk(t,e,n){t.setAttribute(e,"style",n)}function dk(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function JD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&fP(t,e,r),i!==null&&dk(t,e,i),o!==null&&lk(t,e,o)}function Tg(t,e,n,r,i,o,s,c,u,l,h){let p=Be+r,m=p+i,y=hk(p,m),A=typeof l=="function"?l():l;return y[H]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function hk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ye);return n}function fk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bg(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[Wt]=i,p[z]=r|4|128|8|64|1024,(l!==null||t&&t[z]&2048)&&(p[z]|=2048),vp(p),p[Qe]=p[pi]=t,p[rt]=n,p[hn]=s||t&&t[hn],p[we]=c||t&&t[we],p[fi]=u||t&&t[fi]||null,p[Pt]=o,p[ia]=AP(),p[ra]=h,p[pp]=l,p[kt]=e.type==2?t[kt]:p,p}function pk(t,e,n){let r=Qt(e,t),i=fk(n),o=t[hn].rendererFactory,s=Cg(t,bg(t,i,null,XD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function XD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function eT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Cg(t,e){return t[Io]?t[fp][Mt]=e:t[Io]=e,t[fp]=e,e}function gk(t=1){tT(it(),te(),gn()+t,!1)}function tT(t,e,n,r){if(!r)if((e[z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&sl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&al(e,o,0,n)}vr(n)}var Rl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rl||{});function ng(t,e,n,r){let i=Q(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Rl.SignalBased)!==0&&(u=e[o][nt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):mD(e,u,o,r)}finally{Q(i)}}var ya=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ya||{}),mk;function Ag(t,e){return mk(t,e)}function So(t,e,n,r,i){if(r!=null){let o,s=!1;Kt(r)?o=r:fn(r)&&(s=!0,r=r[Wt]);let c=xt(r);t===0&&n!==null?i==null?ZD(e,n,c):ml(e,n,c,i||null,!0):t===1&&n!==null?ml(e,n,c,i||null,!0):t===2?uk(e,c,s):t===3&&e.destroyNode(c),o!=null&&Sk(e,t,o,n,i)}}function yk(t,e){nT(t,e),e[Wt]=null,e[Pt]=null}function vk(t,e,n,r,i,o){r[Wt]=i,r[Pt]=e,Nl(t,r,n,1,i,o)}function nT(t,e){e[hn].changeDetectionScheduler?.notify(9),Nl(t,e,e[we],2,null,null)}function _k(t){let e=t[Io];if(!e)return Up(t[H],t);for(;e;){let n=null;if(fn(e))n=e[Io];else{let r=e[vt];r&&(n=r)}if(!n){for(;e&&!e[Mt]&&e!==t;)fn(e)&&Up(e[H],e),e=e[Qe];e===null&&(e=t),fn(e)&&Up(e[H],e),n=e&&e[Mt]}e=n}}function Sg(t,e){let n=t[aa],r=n.indexOf(e);n.splice(r,1)}function rT(t,e){if(_i(e))return;let n=e[we];n.destroyNode&&Nl(t,e,n,3,null,null),_k(e)}function Up(t,e){if(_i(e))return;let n=Q(null);try{e[z]&=-129,e[z]|=256,e[bt]&&ou(e[bt]),Ik(t,e),Ek(t,e),e[H].type===1&&e[we].destroy();let r=e[gi];if(r!==null&&Kt(e[Qe])){r!==e[Qe]&&Sg(r,e);let i=e[yi];i!==null&&i.detachView(t)}Xp(e)}finally{Q(n)}}function Ek(t,e){let n=t.cleanup,r=e[Eo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Eo]=null);let i=e[Fn];if(i!==null){e[Fn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[oa];if(o!==null){e[oa]=null;for(let s of o)s.destroy()}}function Ik(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ti)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];pe(4,c,u);try{u.call(c)}finally{pe(5,c,u)}}else{pe(4,i,o);try{o.call(i)}finally{pe(5,i,o)}}}}}function wk(t,e,n){return Dk(t,e.parent,n)}function Dk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Wt];if(yr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Po.None||i===Po.Emulated)return null}return Qt(r,n)}function Tk(t,e,n){return Ck(t,e,n)}function bk(t,e,n){return t.type&40?Qt(t,n):null}var Ck=bk,Qw;function Rg(t,e,n,r){let i=wk(t,r,e),o=e[we],s=r.parent||e[Pt],c=Tk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Kw(o,i,n[u],c,!1);else Kw(o,i,n,c,!1);Qw!==void 0&&Qw(o,r,e,n,i)}function ga(t,e){if(e!==null){let n=e.type;if(n&3)return Qt(e,t);if(n&4)return rg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ga(t,r);{let i=t[e.index];return Kt(i)?rg(-1,i):xt(i)}}else{if(n&128)return ga(t,e.next);if(n&32)return Ag(e,t)()||xt(t[e.index]);{let r=iT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hr(t[kt]);return ga(i,r)}else return ga(t,e.next)}}}return null}function iT(t,e){if(e!==null){let r=t[kt][Pt],i=e.projection;return r.projection[i]}return null}function rg(t,e){let n=vt+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return ga(r,i)}return e[mr]}function Ng(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Mo(xt(c),r),n.flags|=2),!Eg(n))if(u&8)Ng(t,e,n.child,r,i,o,!1),So(e,t,i,c,o);else if(u&32){let l=Ag(n,r),h;for(;h=l();)So(e,t,i,h,o);So(e,t,i,c,o)}else u&16?Ak(t,e,r,n,i,o):So(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Nl(t,e,n,r,i,o){Ng(n,r,t.firstChild,e,i,o,!1)}function Ak(t,e,n,r,i,o){let s=n[kt],u=s[Pt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];So(e,t,i,h,o)}else{let l=u,h=s[Qe];PD(r)&&(l.flags|=128),Ng(t,e,l,h,i,o,!0)}}function Sk(t,e,n,r,i){let o=n[mr],s=xt(n);o!==s&&So(e,t,r,o,i);for(let c=vt;c<n.length;c++){let u=n[c];Nl(u[H],u,t,e,r,o)}}function Rk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ya.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ya.Important),t.setStyle(n,r,i,o))}}function oT(t,e,n,r,i){let o=gn(),s=r&2;try{vr(-1),s&&e.length>Be&&tT(t,e,Be,!1),pe(s?2:0,i,n),n(r,i)}finally{vr(o),pe(s?3:1,i,n)}}function Ml(t,e,n){Fk(t,e,n),(n.flags&64)===64&&Vk(t,e,n)}function Pl(t,e,n=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function Nk(t,e,n,r){let o=r.get(BD,jD)||n===Po.ShadowDom,s=t.selectRootElement(e,o);return Mk(s),s}function Mk(t){Pk(t)}var Pk=()=>null;function kk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function sT(t,e,n,r,i,o){let s=e[H];if(xg(t,s,e,n,r)){yr(t)&&Ok(e,t.index);return}t.type&3&&(n=kk(n)),xk(t,e,n,r,i,o)}function xk(t,e,n,r,i,o){if(t.type&3){let s=Qt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function Ok(t,e){let n=Ot(e,t);n[z]&16||(n[z]|=64)}function Fk(t,e,n){let r=n.directiveStart,i=n.directiveEnd;yr(n)&&pk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||fl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=pl(e,t,s,n);if(Mo(u,e),o!==null&&Uk(e,s-r,u,c,n,o),pn(c)){let l=Ot(n.index,e);l[rt]=pl(e,t,s,n)}}}function Vk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Nw();try{vr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Yu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Lk(u,l)}}finally{vr(-1),Yu(s)}}function Lk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Mg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];ek(e,o.selectors,!1)&&(r??=[],pn(o)?r.unshift(o):r.push(o))}return r}function jk(t,e,n,r,i,o){let s=Qt(t,e);Bk(e[we],s,o,t.value,n,r,i)}function Bk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Gt(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function Uk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];ng(r,n,u,l)}}function Pg(t,e,n,r,i){let o=Be+n,s=e[H],c=i(s,e,t,r,n);e[o]=c,bo(t,!0);let u=t.type===2;return u?(JD(e[we],c,t),(_w()===0||wo(t))&&Mo(c,e),Ew()):Mo(c,e),el()&&(!u||!Eg(t))&&Rg(s,e,c,t),t}function kg(t){let e=t;return bp()?bw():(e=e.parent,bo(e,!1)),e}function $k(t,e){let n=t[fi];if(!n)return;n.get(mn,null)?.(e)}function xg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];ng(p,n[l],h,i),c=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];ng(h,l,r,i),c=!0}return c}function Hk(t,e){let n=Ot(e,t),r=n[H];qk(r,n);let i=n[Wt];i!==null&&n[ra]===null&&(n[ra]=UD(i,n[fi])),pe(18),Og(r,n,n[rt]),pe(19,n[rt])}function qk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Og(t,e,n){Zu(e);try{let r=t.viewQuery;r!==null&&tg(1,r,n);let i=t.template;i!==null&&oT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yi]?.finishViewCreation(t),t.staticContentQueries&&$D(t,e),t.staticViewQueries&&tg(2,t.viewQuery,n);let o=t.components;o!==null&&zk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[z]&=-5,Ju()}}function zk(t,e){for(let n=0;n<e.length;n++)Hk(t,e[n])}function Gk(t,e,n,r){let i=Q(null);try{let o=e.tView,c=t[z]&4096?4096:16,u=bg(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[gi]=l;let h=t[yi];return h!==null&&(u[yi]=h.createEmbeddedView(o)),Og(o,u,n),u}finally{Q(i)}}function Yw(t,e){return!e||e.firstChild===null||PD(t)}var Zw=!1,Wk=new $("");function va(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(xt(o)),Kt(o)&&aT(o,r);let s=n.type;if(s&8)va(t,e,n.child,r);else if(s&32){let c=Ag(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=iT(e,n);if(Array.isArray(c))r.push(...c);else{let u=hr(e[kt]);va(u[H],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function aT(t,e){for(let n=vt;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&va(r[H],r,i,e)}t[mr]!==t[Wt]&&e.push(t[mr])}function cT(t){if(t[vi]!==null){for(let e of t[vi])e.impl.addSequence(e);t[vi].length=0}}var uT=[];function Kk(t){return t[bt]??Qk(t)}function Qk(t){let e=uT.pop()??Object.create(Zk);return e.lView=t,e}function Yk(t){t.lView[bt]!==t&&(t.lView=null,uT.push(t))}var Zk=fe(ue({},Zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{To(t.lView)},consumerOnSignalRead(){this.lView[bt]=this}});function Jk(t){let e=t[bt]??Object.create(Xk);return e.lView=t,e}var Xk=fe(ue({},Zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=hr(t.lView);for(;e&&!lT(e[H]);)e=hr(e);e&&_p(e)},consumerOnSignalRead(){this.lView[bt]=this}});function lT(t){return t.type!==2}function dT(t){if(t[oa]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[oa])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[z]&8192)}}var ex=100;function Fg(t,e=0){let r=t[hn].rendererFactory,i=!1;i||r.begin?.();try{tx(t,e)}finally{i||r.end?.()}}function tx(t,e){let n=Ap();try{Sp(!0),ig(t,e);let r=0;for(;ca(t);){if(r===ex)throw new B(103,!1);r++,ig(t,1)}}finally{Sp(n)}}function hT(t,e){Cp(e?ua.Exhaustive:ua.OnlyDirtyViews);try{Fg(t)}finally{Cp(ua.Off)}}function nx(t,e,n,r){if(_i(e))return;let i=e[z],o=!1,s=!1;Zu(e);let c=!0,u=null,l=null;o||(lT(t)?(l=Kk(e),u=Jr(l)):ru()===null?(c=!1,l=Jk(e),u=Jr(l)):e[bt]&&(ou(e[bt]),e[bt]=null));try{vp(e),Aw(t.bindingStartIndex),n!==null&&oT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&sl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&al(e,y,0,null),jp(e,0)}if(s||rx(e),dT(e),fT(e,0),t.contentQueries!==null&&$D(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&sl(e,y)}else{let y=t.contentHooks;y!==null&&al(e,y,1),jp(e,1)}ox(t,e);let p=t.components;p!==null&&gT(e,p,0);let m=t.viewQuery;if(m!==null&&tg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&sl(e,y)}else{let y=t.viewHooks;y!==null&&al(e,y,2),jp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qu]){for(let y of e[qu])y();e[qu]=null}o||(cT(e),e[z]&=-73)}catch(h){throw o||To(e),h}finally{l!==null&&(so(l,u),c&&Yk(l)),Ju()}}function fT(t,e){for(let n=xD(t);n!==null;n=OD(n))for(let r=vt;r<n.length;r++){let i=n[r];pT(i,e)}}function rx(t){for(let e=xD(t);e!==null;e=OD(e)){if(!(e[z]&2))continue;let n=e[aa];for(let r=0;r<n.length;r++){let i=n[r];_p(i)}}}function ix(t,e,n){pe(18);let r=Ot(e,t);pT(r,n),pe(19,r[rt])}function pT(t,e){Wu(t)&&ig(t,e)}function ig(t,e){let r=t[H],i=t[z],o=t[bt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&qs(o)),s||=!1,o&&(o.dirty=!1),t[z]&=-9217,s)nx(r,t,r.template,t[rt]);else if(i&8192){let c=Q(null);try{dT(t),fT(t,1);let u=r.components;u!==null&&gT(t,u,1),cT(t)}finally{Q(c)}}}function gT(t,e,n){for(let r=0;r<e.length;r++)ix(t,e[r],n)}function ox(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vr(~i);else{let o=i,s=n[++r],c=n[++r];Rw(s,o);let u=e[o];pe(24,u),c(2,u),pe(25,u)}}}finally{vr(-1)}}function Vg(t,e){let n=Ap()?64:1088;for(t[hn].changeDetectionScheduler?.notify(e);t;){t[z]|=n;let r=hr(t);if(Do(t)&&!r)return t;t=r}return null}function mT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sx(t,e,n,r=!0){let i=e[H];if(ax(i,e,t,n),r){let s=rg(n,t),c=e[we],u=c.parentNode(t[mr]);u!==null&&vk(i,t[Pt],c,e,u,s)}let o=e[ra];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function og(t,e){if(t.length<=vt)return;let n=vt+e,r=t[n];if(r){let i=r[gi];i!==null&&i!==t&&Sg(i,r),e>0&&(t[n-1][Mt]=r[Mt]);let o=ta(t,vt+e);yk(r[H],r);let s=o[yi];s!==null&&s.detachView(o[H]),r[Qe]=null,r[Mt]=null,r[z]&=-129}return r}function ax(t,e,n,r){let i=vt+r,o=n.length;r>0&&(n[i-1][Mt]=e),r<o-vt?(e[Mt]=n[i],ip(n,vt+r,e)):(n.push(e),e[Mt]=null),e[Qe]=n;let s=e[gi];s!==null&&n!==s&&yT(s,e);let c=e[yi];c!==null&&c.insertView(t),Ku(e),e[z]|=128}function yT(t,e){let n=t[aa],r=e[Qe];if(fn(r))t[z]|=2;else{let i=r[Qe][kt];e[kt]!==i&&(t[z]|=2)}n===null?t[aa]=[e]:n.push(e)}var wr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[H];return va(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return _i(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(Kt(e)){let n=e[sa],r=n?n.indexOf(this):-1;r>-1&&(og(e,r),ta(n,r))}this._attachedToViewContainer=!1}rT(this._lView[H],this._lView)}onDestroy(e){Ep(this._lView,e)}markForCheck(){Vg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){Ku(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,Fg(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[fi].get(Wk,Zw)}catch{this.exhaustive=Zw}}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Do(this._lView),n=this._lView[gi];n!==null&&!e&&Sg(n,this._lView),nT(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Do(this._lView),r=this._lView[gi];r!==null&&!n&&yT(r,this._lView),Ku(this._lView)}};var Da=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=cx;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Gk(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new wr(o)}}return t})();function cx(){return vT($e(),te())}function vT(t,e){return t.type&4?new Da(e,t,Al(t,e)):null}function kl(t,e,n,r,i){let o=t.data[e];if(o===null)o=ux(t,e,n,r,i),Sw()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Tw();o.injectorIndex=s===null?-1:s.injectorIndex}return bo(o,!0),o}function ux(t,e,n,r,i){let o=Tp(),s=bp(),c=s?o:o&&o.parent,u=t.data[e]=dx(t,c,n,e,r,i);return lx(t,u,o,s),u}function lx(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function dx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Iw()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var P9=new RegExp(`^(\\d+)*(${xP}|${kP})*(.*)`);var hx=()=>null;function Jw(t,e){return hx(t,e)}var _T=class{},xl=class{},sg=class{resolveComponentFactory(e){throw new B(917,!1)}},Ta=class{static NULL=new sg},_a=class{},Bn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>fx()}return t})();function fx(){let t=te(),e=$e(),n=Ot(e.index,t);return(fn(n)?n:t)[we]}var ET=(()=>{class t{static \u0275prov=se({token:t,providedIn:"root",factory:()=>null})}return t})();var cl={},ag=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,cl,r);return i!==cl||n===cl?i:this.parentInjector.get(e,n,r)}};function yl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Lu(i,c);else if(o==2){let u=c,l=e[++s];r=Lu(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function J(t,e=0){let n=te();if(n===null)return Se(t,e);let r=$e();return RD(r,n,Ke(t),e)}function px(){let t="invalid";throw new Error(t)}function IT(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}yx(t,e,n,c,o,u,l)}o!==null&&r!==null&&gx(n,r,o)}function gx(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function mx(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yx(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&pn(y)&&(u=!0,mx(t,n,m)),Zp(fl(n,e),t,y.type)}Dx(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=eT(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=No(n.mergedAttrs,y.hostAttrs),_x(t,n,e,p,y),wx(p,y,i),s!==null&&s.has(y)){let[M,N]=s.get(y);n.directiveToIndex.set(y.type,[p,M+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}vx(t,n,o)}function vx(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Xw(0,e,i,r),Xw(1,e,i,r),tD(e,r,!1);else{let o=n.get(i);eD(0,e,o,r),eD(1,e,o,r),tD(e,r,!0)}}}function Xw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),wT(e,o)}}function eD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),wT(e,s)}}function wT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function tD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Dg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function _x(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=dr(i.type,!0)),s=new Ti(o,pn(i),J,null);t.blueprint[r]=s,n[r]=s,Ex(t,e,r,eT(t,n,i.hostVars,Ye),i)}function Ex(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Ix(s)!=c&&s.push(c),s.push(n,r,o)}}function Ix(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pn(e)&&(n[""]=t)}}function Dx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Lg(t,e,n,r,i,o,s,c){let u=e[H],l=u.consts,h=Ei(l,s),p=kl(u,t,n,r,h);return o&&IT(u,e,p,Ei(l,c),i),p.mergedAttrs=No(p.mergedAttrs,p.attrs),p.attrs!==null&&yl(p,p.attrs,!1),p.mergedAttrs!==null&&yl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function jg(t,e){ED(t,e),gp(e)&&t.queries.elementEnd(e)}function Tx(t,e,n,r,i,o){let s=e.consts,c=Ei(s,i),u=kl(e,t,n,r,c);if(u.mergedAttrs=No(u.mergedAttrs,u.attrs),o!=null){let l=Ei(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&yl(u,u.attrs,!1),u.mergedAttrs!==null&&yl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Bg(t){return TT(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function DT(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function TT(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ug(t,e,n){return t[e]=n}function bx(t,e){return t[e]}function Jt(t,e,n){if(n===Ye)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $g(t,e,n,r){let i=Jt(t,e,n);return Jt(t,e+1,r)||i}function Cx(t,e,n,r,i){let o=$g(t,e,n,r);return Jt(t,e+2,i)||o}function $p(t,e,n){return function r(i){let o=yr(t)?Ot(t.index,e):e;Vg(o,5);let s=e[rt],c=nD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=nD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function nD(t,e,n,r){let i=Q(null);try{return pe(6,e,n),n(r)!==!1}catch(o){return $k(t,o),!1}finally{pe(7,e,n),Q(i)}}function Ax(t,e,n,r,i,o,s,c){let u=wo(t),l=!1,h=null;if(!r&&u&&(h=Sx(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Qt(t,n),m=r?r(p):p;FP(n,m,o,c);let y=i.listen(m,o,c),A=r?M=>r(xt(M[t.index])):t.index;bT(A,e,n,o,c,y,!1)}return l}function Sx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Eo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function bT(t,e,n,r,i,o,s){let c=e.firstCreatePass?vw(e):null,u=yw(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function rD(t,e,n,r,i,o){let s=e[n],c=e[H],l=c.data[n].outputs[r],p=s[l].subscribe(o);bT(t.index,c,e,i,o,p,!0)}var cg=Symbol("BINDING");var vl=class extends Ta{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=jn(e);return new bi(n,this.ngModule)}};function Rx(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Rl.SignalBased)!==0};return i&&(o.transform=i),o})}function Nx(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Mx(t,e,n){let r=e instanceof yt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ag(n,r):n}function Px(t){let e=t.get(_a,null);if(e===null)throw new B(407,!1);let n=t.get(ET,null),r=t.get(Ln,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function kx(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return YD(e,n,n==="svg"?hw:n==="math"?fw:null)}var bi=class extends xl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Rx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Nx(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ik(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){pe(22);let c=Q(null);try{let u=this.componentDef,l=xx(r,u,s,o),h=Mx(u,i||this.ngModule,e),p=Px(h),m=p.rendererFactory.createRenderer(null,u),y=r?Nk(m,r,u.encapsulation,h):kx(u,m),A=s?.some(iD)||o?.some(O=>typeof O!="function"&&O.bindings.some(iD)),M=bg(null,l,null,512|XD(u),null,null,p,m,h,null,UD(y,h,!0));M[Be]=y,Zu(M);let N=null;try{let O=Lg(Be,M,2,"#host",()=>l.directiveRegistry,!0,0);y&&(JD(m,y,O),Mo(y,M)),Ml(l,M,O),Ig(l,O,M),jg(l,O),n!==void 0&&Fx(O,this.ngContentSelectors,n),N=Ot(O.index,M),M[rt]=N[rt],Og(l,M,null)}catch(O){throw N!==null&&Xp(N),Xp(M),O}finally{pe(23),Ju()}return new _l(this.componentType,M,!!A)}finally{Q(c)}}};function xx(t,e,n,r){let i=t?["ng-version","20.1.6"]:ok(e.selectors[0]),o=null,s=null,c=0;if(n)for(let h of n)c+=h[cg].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[cg].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=cp(p);u.push(m)}return Tg(0,null,Ox(o,s),1,c,u,null,null,null,[i],null)}function Ox(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function iD(t){let e=t[cg].kind;return e==="input"||e==="twoWay"}var _l=class extends _T{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=zu(n[H],Be),this.location=Al(this._tNode,n),this.instance=Ot(this._tNode.index,n)[rt],this.hostView=this.changeDetectorRef=new wr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=xg(r,i[H],i,e,n);this.previousInputValues.set(e,n);let s=Ot(r.index,i);Vg(s,1)}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Fx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ba=(()=>{class t{static __NG_ELEMENT_ID__=Vx}return t})();function Vx(){let t=$e();return jx(t,te())}var Lx=ba,CT=class extends Lx{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Al(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){let e=mg(this._hostTNode,this._hostLView);if(DD(e)){let n=dl(e,this._hostLView),r=ll(e),i=n[H].data[r+8];return new Di(i,n)}else return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=oD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Yw(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!oP(e),l;if(u)l=n;else{let N=n||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,c=N.bindings}let h=u?e:new bi(jn(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(yt,null);O&&(o=O)}let m=jn(h.componentType??{}),y=Jw(this._lContainer,m?.id??null),A=y?.firstChild??null,M=h.create(p,i,A,o,s,c);return this.insertImpl(M.hostView,l,Yw(this._hostTNode,y)),M}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(pw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Qe],l=new CT(u,u[Pt],u[Qe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return sx(s,i,o,r),e.attachToViewContainerRef(),ip(Hp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=oD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=og(this._lContainer,n);r&&(ta(Hp(this._lContainer),n),rT(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=og(this._lContainer,n);return r&&ta(Hp(this._lContainer),n)!=null?new wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function oD(t){return t[sa]}function Hp(t){return t[sa]||(t[sa]=[])}function jx(t,e){let n,r=e[t.index];return Kt(r)?n=r:(n=mT(r,e,null,t),e[t.index]=n,Cg(e,n)),Ux(n,e,t,r),new CT(n,t,e)}function Bx(t,e){let n=t[we],r=n.createComment(""),i=Qt(e,t),o=n.parentNode(i);return ml(n,o,r,n.nextSibling(i),!1),r}var Ux=qx,$x=()=>!1;function Hx(t,e,n){return $x(t,e,n)}function qx(t,e,n,r){if(t[mr])return;let i;n.type&8?i=xt(r):i=Bx(e,n),t[mr]=i}var sD=new Set;function Ca(t){sD.has(t)||(sD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Ci=class{},AT=class{};var El=class extends Ci{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=ap(e);this._bootstrapComponents=KD(o.bootstrap),this._r3Injector=kp(e,n,[{provide:Ci,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver},...r],Vn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Il=class extends AT{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new El(this.moduleType,e,[])}};var Ea=class extends Ci{injector;componentFactoryResolver=new vl(this);instance=null;constructor(e){super();let n=new ci([...e.providers,{provide:Ci,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver}],e.parent||na(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ST(t,e,n=null){return new Ea({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zx=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=up(!1,n.type),i=r.length>0?ST([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=se({token:t,providedIn:"environment",factory:()=>new t(Se(yt))})}return t})();function Gx(t){return xo(()=>{let e=RT(t),n=fe(ue({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(zx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Po.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ca("NgStandalone"),NT(n);let r=t.dependencies;return n.directiveDefs=aD(r,Wx),n.pipeDefs=aD(r,ow),n.id=Yx(n),n})}function Wx(t){return jn(t)||cp(t)}function Fo(t){return xo(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Kx(t,e){if(t==null)return pr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Rl.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function Qx(t){if(t==null)return pr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function De(t){return xo(()=>{let e=RT(t);return NT(e),e})}function Ol(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function RT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||pr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Kx(t.inputs,e),outputs:Qx(t.outputs),debugInfo:null}}function NT(t){t.features?.forEach(e=>e(t))}function aD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function Yx(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Zx(t){return Object.getPrototypeOf(t.prototype).constructor}function ot(t){let e=Zx(t.type),n=!0,r=[t];for(;e;){let i;if(pn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=qp(t.inputs),s.declaredInputs=qp(t.declaredInputs),s.outputs=qp(t.outputs);let c=i.hostBindings;c&&nO(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&eO(t,u),l&&tO(t,l),Jx(t,i),XI(t.outputs,i.outputs),pn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===ot&&(n=!1)}}e=Object.getPrototypeOf(e)}Xx(r)}function Jx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Xx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=No(i.hostAttrs,n=No(n,i.hostAttrs))}}function qp(t){return t===pr?{}:t===ft?[]:t}function eO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function nO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function rO(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=No(t.mergedAttrs,t.attrs);let h=t.tView=Tg(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),bo(t,!1);let u=oO(n,e,t,r);el()&&Rg(n,e,u,t),Mo(u,e);let l=mT(u,e,u,t);e[r+Be]=l,Cg(e,l),Hx(l,t,e)}function iO(t,e,n,r,i,o,s,c,u,l,h){let p=n+Be,m;return e.firstCreatePass?(m=kl(e,p,4,s||null,c||null),Qu()&&IT(e,t,m,Ei(e.consts,l),Mg),ED(e,m)):m=e.data[p],rO(m,t,e,n,r,i,o,u),wo(m)&&Ml(e,t,m),l!=null&&Pl(t,m,h),m}function MT(t,e,n,r,i,o,s,c){let u=te(),l=it(),h=Ei(l.consts,o);return iO(u,l,t,e,n,r,i,h,void 0,s,c),MT}var oO=sO;function sO(t,e,n,r){return ha(!0),e[we].createComment("")}var Fl=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Fl||{}),Aa=new $(""),PT=!1,ug=class extends qt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,lw()&&(this.destroyRef=V(_r,{optional:!0})??void 0,this.pendingTasks=V(Ir,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_t=ug;function kT(t){let e,n;function r(){t=pa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function cD(t){return queueMicrotask(()=>t()),()=>{t=pa}}var Hg="isAngularZone",wl=Hg+"_ID",aO=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=PT}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,lO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Hg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,cO,pa,pa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},cO={};function qg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){kT(()=>{t.callbackScheduled=!1,lg(t),t.isCheckStableRunning=!0,qg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),lg(t)}function lO(t){let e=()=>{uO(t)},n=aO++;t._inner=t._inner.fork({name:"angular",properties:{[Hg]:!0,[wl]:n,[wl+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(dO(u))return r.invokeTask(o,s,c,u);try{return uD(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lD(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return uD(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!hO(u)&&e(),lD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,lg(t),qg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function lg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lD(t){t._nesting--,qg(t)}var Dl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function dO(t){return xT(t,"__ignore_ng_zone__")}function hO(t){return xT(t,"__scheduler_tick__")}function xT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zg=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=se({token:t,providedIn:"root",factory:()=>new t})}return t})(),OT=[0,1,2,3],FT=(()=>{class t{ngZone=V(Ie);scheduler=V(Ln);errorHandler=V(fr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){V(Aa,{optional:!0})}execute(){let n=this.sequences.size>0;n&&pe(16),this.executing=!0;for(let r of OT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&pe(17)}register(n){let{view:r}=n;r!==void 0?((r[vi]??=[]).push(n),To(r),r[z]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Fl.AFTER_NEXT_RENDER,n):n()}static \u0275prov=se({token:t,providedIn:"root",factory:()=>new t})}return t})(),Tl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[vi];e&&(this.view[vi]=e.filter(n=>n!==this))}};function Gg(t,e){let n=e?.injector??V(Ue);return Ca("NgAfterNextRender"),pO(t,n,e,!0)}function fO(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function pO(t,e,n,r){let i=e.get(zg);i.impl??=e.get(FT);let o=e.get(Aa,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(_r):null,c=e.get(tl,null,{optional:!0}),u=new Tl(i.impl,fO(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var gO=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var VT=new $("");function Vo(t){return!!t&&typeof t.then=="function"}function Wg(t){return!!t&&typeof t.subscribe=="function"}var Kg=new $("");function mO(t){return dn([{provide:Kg,multi:!0,useValue:t}])}var Qg=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=V(Kg,{optional:!0})??[];injector=V(Ue);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=gr(this.injector,i);if(Vo(o))n.push(o);else if(Wg(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LT=new $("");function jT(){ff(()=>{let t="";throw new B(600,t)})}function BT(t){return t.isBoundToModule}var yO=10;var Si=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(mn);afterRenderManager=V(zg);zonelessEnabled=V(fa);rootEffectScheduler=V(Lp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new qt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=V(Ir);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(zt(n=>!n))}constructor(){V(Aa,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=V(yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ue.NULL){return this._injector.get(Ie).run(()=>{pe(10);let s=n instanceof xl;if(!this._injector.get(Qg).done){let A="";throw new B(405,A)}let u;s?u=n:u=this._injector.get(Ta).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=BT(u)?void 0:this._injector.get(Ci),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(VT,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),ma(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),pe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let n=Q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Q(n),this.afterTick.next(),pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(_a,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<yO;)pe(14),this.synchronizeOnce(),pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ca(i))continue;let o=r&&!this.zonelessEnabled?0:1;Fg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ca(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ma(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(LT,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ma(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ma(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lo(t,e,n,r){let i=te(),o=Co();if(Jt(i,o,e)){let s=it(),c=Xu();jk(c,i,t,e,n,r)}return Lo}function UT(t,e,n){let r=te(),i=Co();if(Jt(r,i,e)){let o=it(),s=Xu();sT(s,r,t,e,r[we],n)}return UT}function dg(t,e,n,r,i){xg(e,t,n,i?"class":"style",r)}function Yg(t,e,n,r){let i=te(),o=i[H],s=t+Be,c=o.firstCreatePass?Lg(s,i,2,e,Mg,Qu(),n,r):o.data[s];if(Pg(c,i,t,e,qT),wo(c)){let u=i[H];Ml(u,i,c),Ig(u,c,i)}return r!=null&&Pl(i,c),Yg}function Zg(){let t=it(),e=$e(),n=kg(e);return t.firstCreatePass&&jg(t,n),wp(n)&&Dp(),Ip(),n.classesWithoutHost!=null&&dP(n)&&dg(t,n,te(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&hP(n)&&dg(t,n,te(),n.stylesWithoutHost,!1),Zg}function $T(t,e,n,r){return Yg(t,e,n,r),Zg(),$T}function Jg(t,e,n,r){let i=te(),o=i[H],s=t+Be,c=o.firstCreatePass?Tx(s,o,2,e,n,r):o.data[s];return Pg(c,i,t,e,qT),r!=null&&Pl(i,c),Jg}function Xg(){let t=$e(),e=kg(t);return wp(e)&&Dp(),Ip(),Xg}function HT(t,e,n,r){return Jg(t,e,n,r),Xg(),HT}var qT=(t,e,n,r,i)=>(ha(!0),YD(e[we],r,Fw()));function zT(t,e,n){let r=te(),i=r[H],o=t+Be,s=i.firstCreatePass?Lg(o,r,8,"ng-container",Mg,Qu(),e,n):i.data[o];if(Pg(s,r,t,"ng-container",vO),wo(s)){let c=r[H];Ml(c,r,s),Ig(c,s,r)}return n!=null&&Pl(r,s),zT}function GT(){let t=it(),e=$e(),n=kg(e);return t.firstCreatePass&&jg(t,n),GT}var vO=(t,e,n,r,i)=>(ha(!0),ck(e[we],""));function _O(){return te()}var wi=void 0;function EO(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var IO=["en",[["a","p"],["AM","PM"],wi],[["AM","PM"],wi,wi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wi,"{1} 'at' {0}",wi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",EO],zp={};function Ct(t){let e=wO(t),n=dD(e);if(n)return n;let r=e.split("-")[0];if(n=dD(r),n)return n;if(r==="en")return IO;throw new B(701,!1)}function dD(t){return t in zp||(zp[t]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[t]),zp[t]}var Me=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Me||{});function wO(t){return t.toLowerCase().replace(/_/g,"-")}var Sa="en-US";var DO=Sa;function WT(t){typeof t=="string"&&(DO=t.toLowerCase().replace(/_/g,"-"))}function Un(t,e,n){let r=te(),i=it(),o=$e();return KT(i,r,r[we],o,t,e,n),Un}function KT(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=$p(r,e,o),Ax(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=$p(r,e,o),rD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=$p(r,e,o),rD(r,e,p,i,i,u)}}function TO(t=1){return Ow(t)}function bO(t){let e=Cw();return Gu(e,Be+t)}function ol(t,e){return t<<17|e<<2}function Ai(t){return t>>17&32767}function CO(t){return(t&2)==2}function AO(t,e){return t&131071|e<<17}function hg(t){return t|2}function ko(t){return(t&131068)>>2}function Gp(t,e){return t&-131069|e<<2}function SO(t){return(t&1)===1}function fg(t){return t|1}function RO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Ai(s),u=ko(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||_o(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ai(t[c+1]);t[r+1]=ol(m,c),m!==0&&(t[m+1]=Gp(t[m+1],r)),t[c+1]=AO(t[c+1],r)}else t[r+1]=ol(c,0),c!==0&&(t[c+1]=Gp(t[c+1],r)),c=r;else t[r+1]=ol(u,0),c===0?c=r:t[u+1]=Gp(t[u+1],r),u=r;l&&(t[r+1]=hg(t[r+1])),hD(t,h,r,!0),hD(t,h,r,!1),NO(e,h,t,r,o),s=ol(c,u),o?e.classBindings=s:e.styleBindings=s}function NO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&_o(o,e)>=0&&(n[r+1]=fg(n[r+1]))}function hD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ai(i):ko(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];MO(u,e)&&(c=!0,t[s+1]=r?fg(l):hg(l)),s=r?Ai(l):ko(l)}c&&(t[n+1]=r?hg(i):fg(i))}function MO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_o(t,e)>=0:!1}var Zt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PO(t){return t.substring(Zt.key,Zt.keyEnd)}function kO(t){return xO(t),QT(t,YT(t,0,Zt.textEnd))}function QT(t,e){let n=Zt.textEnd;return n===e?-1:(e=Zt.keyEnd=OO(t,Zt.key=e,n),YT(t,e,n))}function xO(t){Zt.key=0,Zt.keyEnd=0,Zt.value=0,Zt.valueEnd=0,Zt.textEnd=t.length}function YT(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function OO(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ZT(t,e,n){return JT(t,e,n,!1),ZT}function Ra(t,e){return JT(t,e,null,!0),Ra}function FO(t){LO(qO,VO,t,!0)}function VO(t,e){for(let n=kO(e);n>=0;n=QT(e,n))$u(t,PO(e),!0)}function JT(t,e,n,r){let i=te(),o=it(),s=da(2);if(o.firstUpdatePass&&eb(o,t,s,r),e!==Ye&&Jt(i,s,e)){let c=o.data[gn()];tb(o,c,i,i[we],t,i[s+1]=GO(e,n),r,s)}}function LO(t,e,n,r){let i=it(),o=da(2);i.firstUpdatePass&&eb(i,null,o,r);let s=te();if(n!==Ye&&Jt(s,o,n)){let c=i.data[gn()];if(nb(c,r)&&!XT(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Lu(u,n||"")),dg(i,c,s,n,r)}else zO(i,c,s,s[we],s[o+1],s[o+1]=HO(t,e,n),r,o)}}function XT(t,e){return e>=t.expandoStartIndex}function eb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[gn()],s=XT(t,n);nb(o,r)&&e===null&&!s&&(e=!1),e=jO(i,o,e,r),RO(i,o,e,n,s,r)}}function jO(t,e,n,r){let i=Mw(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wp(null,t,e,n,r),n=Ia(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Wp(i,t,e,n,r),o===null){let u=BO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Wp(null,t,e,u[1],r),u=Ia(u,e.attrs,r),UO(t,e,r,u))}else o=$O(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function BO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ko(r)!==0)return t[Ai(r)]}function UO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ai(i)]=r}function $O(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ia(r,s,n)}return Ia(r,e.attrs,n)}function Wp(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Ia(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ia(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),$u(t,s,n?!0:e[++o]))}return t===void 0?null:t}function HO(t,e,n){if(n==null||n==="")return ft;let r=[],i=Oo(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function qO(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&$u(t,r,n)}function zO(t,e,n,r,i,o,s,c){i===Ye&&(i=ft);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,A=null,M;h===p?(u+=2,l+=2,m!==y&&(A=p,M=y)):p===null||h!==null&&h<p?(u+=2,A=h):(l+=2,A=p,M=y),A!==null&&tb(t,e,n,r,A,M,s,c),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function tb(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=SO(l)?fD(u,e,n,i,ko(l),s):void 0;if(!bl(h)){bl(o)||CO(l)&&(o=fD(u,null,n,i,c,s));let p=mp(gn(),n);Rk(r,s,p,i,o)}}function fD(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Ye&&(m=p?ft:void 0);let y=p?Hu(m,r):h===r?m:void 0;if(l&&!bl(y)&&(y=Hu(u,r)),bl(y)&&(c=y,s))return c;let A=t[i+1];i=s?Ai(A):ko(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Hu(u,r))}return c}function bl(t){return t!==void 0}function GO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Vn(Oo(t)))),t}function nb(t,e){return(t.flags&(e?8:16))!==0}function WO(t,e=""){let n=te(),r=it(),i=t+Be,o=r.firstCreatePass?kl(r,i,1,e,null):r.data[i],s=KO(r,n,o,e,t);n[i]=s,el()&&Rg(r,n,s,o),bo(o,!1)}var KO=(t,e,n,r,i)=>(ha(!0),sk(e[we],r));function QO(t,e,n,r=""){return Jt(t,Co(),n)?e+Gt(n)+r:Ye}function YO(t,e,n,r,i,o=""){let s=Rp(),c=$g(t,s,n,i);return da(2),c?e+Gt(n)+r+Gt(i)+o:Ye}function ZO(t,e,n,r,i,o,s,c=""){let u=Rp(),l=Cx(t,u,n,i,s);return da(3),l?e+Gt(n)+r+Gt(i)+o+Gt(s)+c:Ye}function rb(t){return em("",t),rb}function em(t,e,n){let r=te(),i=QO(r,t,e,n);return i!==Ye&&tm(r,gn(),i),em}function ib(t,e,n,r,i){let o=te(),s=YO(o,t,e,n,r,i);return s!==Ye&&tm(o,gn(),s),ib}function ob(t,e,n,r,i,o,s){let c=te(),u=ZO(c,t,e,n,r,i,o,s);return u!==Ye&&tm(c,gn(),u),ob}function tm(t,e,n){let r=mp(e,t);ak(t[we],r,n)}function sb(t,e,n){Op(e)&&(e=e());let r=te(),i=Co();if(Jt(r,i,e)){let o=it(),s=Xu();sT(s,r,t,e,r[we],n)}return sb}function JO(t,e){let n=Op(t);return n&&t.set(e),n}function ab(t,e){let n=te(),r=it(),i=$e();return KT(r,n,n[we],i,t,e),ab}function XO(t){return Jt(te(),Co(),t)?Gt(t):Ye}function e1(t,e,n){let r=it();if(r.firstCreatePass){let i=pn(t);pg(n,r.data,r.blueprint,i,!0),pg(e,r.data,r.blueprint,i,!1)}}function pg(t,e,n,r,i){if(t=Ke(t),Array.isArray(t))for(let o=0;o<t.length;o++)pg(t[o],e,n,r,i);else{let o=it(),s=te(),c=$e(),u=ai(t)?t:Ke(t.provide),l=hp(t),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(ai(t)||!t.multi){let y=new Ti(l,i,J,null),A=Qp(u,e,i?h:h+m,p);A===-1?(Zp(fl(c,s),o,u),Kp(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[A]=y,s[A]=y)}else{let y=Qp(u,e,h+m,p),A=Qp(u,e,h,h+m),M=y>=0&&n[y],N=A>=0&&n[A];if(i&&!N||!i&&!M){Zp(fl(c,s),o,u);let O=r1(i?n1:t1,n.length,i,r,l,t);!i&&N&&(n[A].providerFactory=O),Kp(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=cb(n[i?A:y],l,!i&&r);Kp(o,t,y>-1?y:A,O)}!i&&r&&N&&n[A].componentProviders++}}}function Kp(t,e,n,r){let i=ai(e),o=uw(e);if(i||o){let u=(o?Ke(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function cb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function t1(t,e,n,r,i){return gg(this.multi,[])}function n1(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=pl(r,r[H],this.providerFactory.index,i);s=u.slice(0,c),gg(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],gg(o,s);return s}function gg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function r1(t,e,n,r,i,o){let s=new Ti(t,n,J,null);return s.multi=[],s.index=e,s.componentProviders=0,cb(s,i,r&&!n),s}function Ft(t,e=[]){return n=>{n.providersResolver=(r,i)=>e1(r,i?i(t):t,e)}}function i1(t,e,n){let r=la()+t,i=te();return i[r]===Ye?Ug(i,r,n?e.call(n):e()):bx(i,r)}function o1(t,e,n,r){return lb(te(),la(),t,e,n,r)}function ub(t,e){let n=t[e];return n===Ye?void 0:n}function lb(t,e,n,r,i,o){let s=e+n;return Jt(t,s,i)?Ug(t,s+1,o?r.call(o,i):r(i)):ub(t,s+1)}function s1(t,e,n,r,i,o,s){let c=e+n;return $g(t,c,i,o)?Ug(t,c+2,s?r.call(s,i,o):r(i,o)):ub(t,c+2)}function a1(t,e){let n=it(),r,i=t+Be;n.firstCreatePass?(r=c1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=dr(r.type,!0)),s,c=ht(J);try{let u=hl(!1),l=o();return hl(u),yp(n,te(),i,l),l}finally{ht(c)}}function c1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function u1(t,e,n){let r=t+Be,i=te(),o=Gu(i,r);return db(i,r)?lb(i,la(),e,o.transform,n,o):o.transform(n)}function l1(t,e,n,r){let i=t+Be,o=te(),s=Gu(o,i);return db(o,i)?s1(o,la(),e,s.transform,n,r,s):s.transform(n,r)}function db(t,e){return t[H].data[e].pure}function d1(t,e){return vT(t,e)}var Cl=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},h1=(()=>{class t{compileModuleSync(n){return new Il(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ap(n),o=KD(i.declarations).reduce((s,c)=>{let u=jn(c);return u&&s.push(new bi(u)),s},[]);return new Cl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var f1=(()=>{class t{zone=V(Ie);changeDetectionScheduler=V(Ln);applicationRef=V(Si);applicationErrorHandler=V(mn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hb=new $("",{factory:()=>!1});function nm({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(fe(ue({},rm()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:hi,multi:!0,useFactory:()=>{let r=V(f1,{optional:!0});return()=>r.initialize()}},{provide:hi,multi:!0,useFactory:()=>{let r=V(g1);return()=>{r.initialize()}}},e===!0?{provide:Fp,useValue:!0}:[],{provide:Vp,useValue:n??PT},{provide:mn,useFactory:()=>{let r=V(Ie),i=V(yt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(fr),o.handleError(s))})}}}]}function p1(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=nm({ngZoneFactory:()=>{let i=rm(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ca("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return dn([{provide:hb,useValue:!0},{provide:fa,useValue:!1},r])}function rm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var g1=(()=>{class t{subscription=new Pe;initialized=!1;zone=V(Ie);pendingTasks=V(Ir);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fb=(()=>{class t{applicationErrorHandler=V(mn);appRef=V(Si);taskService=V(Ir);ngZone=V(Ie);zonelessEnabled=V(fa);tracing=V(Aa,{optional:!0});disableScheduling=V(Fp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(Vp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?cD:kT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function m1(){return typeof $localize<"u"&&$localize.locale||Sa}var Na=new $("",{providedIn:"root",factory:()=>V(Na,{optional:!0,skipSelf:!0})||m1()});function En(t){return YI(t)}function jo(t,e){return au(t,e?.equal)}var pb=class{[nt];constructor(e){this[nt]=e}destroy(){this[nt].destroy()}};var Eb=Symbol("InputSignalNode#UNSET"),T1=fe(ue({},cu),{transformFn:void 0,applyValueToInputSignal(t,e){co(t,e)}});function Ib(t,e){let n=Object.create(T1);n.value=t,n.transformFn=e?.transform;function r(){if(oo(n),n.value===Eb){let i=null;throw new B(-950,i)}return n.value}return r[nt]=n,r}var gb=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>yg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},b1=new $("");b1.__NG_ELEMENT_ID__=t=>{let e=$e();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new B(204,!1)};function mb(t,e){return Ib(t,e)}function C1(t){return Ib(Eb,t)}var WQ=(mb.required=C1,mb);var Ri=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},wb=new Ri("20.1.6");var im=new $(""),A1=new $("");function Ma(t){return!t.moduleRef}function S1(t){let e=Ma(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{Ma(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ma(t)){let o=()=>e.destroy(),s=t.platformInjector.get(im);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(im);s.add(o),t.moduleRef.onDestroy(()=>{ma(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return N1(r,n,()=>{let o=e.get(Ir),s=o.add(),c=e.get(Qg);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Na,Sa);if(WT(u||Sa),!e.get(A1,!0))return Ma(t)?e.get(Si):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ma(t)){let h=e.get(Si);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return R1?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var R1;function N1(t,e,n){try{let r=n();return Vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Vl=null;function M1(t=[],e){return Ue.create({name:e,providers:[{provide:dp,useValue:"platform"},{provide:im,useValue:new Set([()=>Vl=null])},...t]})}function P1(t=[]){if(Vl)return Vl;let e=M1(t);return Vl=e,jT(),k1(e),e}function k1(t){let e=t.get(LD,null);gr(t,()=>{e?.forEach(n=>n())})}function um(){return!1}var Pa=(()=>{class t{static __NG_ELEMENT_ID__=x1}return t})();function x1(t){return O1($e(),te(),(t&16)===16)}function O1(t,e,n){if(yr(t)&&!n){let r=Ot(t.index,e);return new wr(r,r)}else if(t.type&175){let r=e[kt];return new wr(r,e)}return null}var om=class{constructor(){}supports(e){return Bg(e)}create(e){return new sm(e)}},F1=(t,e)=>e,sm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||F1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<yb(r,i,o)?n:r,c=yb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,A=y+m;h<=A&&A<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Bg(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,DT(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new am(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ll),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},am=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},cm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ll=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new cm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function vb(){return new lm([new om])}var lm=(()=>{class t{factories;static \u0275prov=se({token:t,providedIn:"root",factory:vb});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||vb()),deps:[[t,new gD,new Et]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new B(901,!1)}}return t})();function KQ(t){pe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=P1(r),o=[nm({}),{provide:Ln,useExisting:fb},Lw,...n||[]],s=new Ea({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return S1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{pe(9)}}function jl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function QQ(t){let e=jn(t);if(!e)return null;let n=new bi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var bb=null;function Ni(){return bb}function V1(t){bb??=t}var dm=class{},xa=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:()=>V(Cb),providedIn:"platform"})}return t})(),L1=new $(""),Cb=(()=>{class t extends xa{_location;_history;_doc=V(Ii);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ni().getBaseHref(this._doc)}onPopState(n){let r=Ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Bl(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Db(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Xt(t){return t&&t[0]!=="?"?`?${t}`:t}var Bo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:()=>V(Ab),providedIn:"root"})}return t})(),Ul=new $(""),Ab=(()=>{class t extends Bo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Xt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Se(xa),Se(Ul,8))};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sb=(()=>{class t{_subject=new qt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=U1(Db(Tb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xt(r))}normalize(n){return t.stripTrailingSlash(B1(this._basePath,Tb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Xt;static joinWithSlash=Bl;static stripTrailingSlash=Db;static \u0275fac=function(r){return new(r||t)(Se(Bo))};static \u0275prov=se({token:t,factory:()=>j1(),providedIn:"root"})}return t})();function j1(){return new Sb(Se(Bo))}function B1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Tb(t){return t.replace(/\/index.html$/,"")}function U1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var $1=(()=>{class t extends Bo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Bl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Se(xa),Se(Ul,8))};static \u0275prov=se({token:t,factory:t.\u0275fac})}return t})();var st=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(st||{}),ge=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ge||{}),It=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(It||{}),Hn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function kb(t){return Ct(t)[Me.LocaleId]}function xb(t,e,n){let r=Ct(t),i=[r[Me.DayPeriodsFormat],r[Me.DayPeriodsStandalone]],o=Vt(i,e);return Vt(o,n)}function Ob(t,e,n){let r=Ct(t),i=[r[Me.DaysFormat],r[Me.DaysStandalone]],o=Vt(i,e);return Vt(o,n)}function Fb(t,e,n){let r=Ct(t),i=[r[Me.MonthsFormat],r[Me.MonthsStandalone]],o=Vt(i,e);return Vt(o,n)}function Vb(t,e){let r=Ct(t)[Me.Eras];return Vt(r,e)}function Oa(t,e){let n=Ct(t);return Vt(n[Me.DateFormat],e)}function Fa(t,e){let n=Ct(t);return Vt(n[Me.TimeFormat],e)}function Va(t,e){let r=Ct(t)[Me.DateTimeFormat];return Vt(r,e)}function La(t,e){let n=Ct(t),r=n[Me.NumberSymbols][e];if(typeof r>"u"){if(e===Hn.CurrencyDecimal)return n[Me.NumberSymbols][Hn.Decimal];if(e===Hn.CurrencyGroup)return n[Me.NumberSymbols][Hn.Group]}return r}function Lb(t){if(!t[Me.ExtraData])throw new B(2303,!1)}function jb(t){let e=Ct(t);return Lb(e),(e[Me.ExtraData][2]||[]).map(r=>typeof r=="string"?hm(r):[hm(r[0]),hm(r[1])])}function Bb(t,e,n){let r=Ct(t);Lb(r);let i=[r[Me.ExtraData][0],r[Me.ExtraData][1]],o=Vt(i,e)||[];return Vt(o,n)||[]}function Vt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new B(2304,!1)}function hm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var H1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$l={},q1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ub(t,e,n,r){let i=X1(t);e=$n(n,e)||e;let s=[],c;for(;e;)if(c=q1.exec(e),c){s=s.concat(c.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=Hb(r,u),i=J1(i,r));let l="";return s.forEach(h=>{let p=Y1(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Wl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function $n(t,e){let n=kb(t);if($l[n]??={},$l[n][e])return $l[n][e];let r="";switch(e){case"shortDate":r=Oa(t,It.Short);break;case"mediumDate":r=Oa(t,It.Medium);break;case"longDate":r=Oa(t,It.Long);break;case"fullDate":r=Oa(t,It.Full);break;case"shortTime":r=Fa(t,It.Short);break;case"mediumTime":r=Fa(t,It.Medium);break;case"longTime":r=Fa(t,It.Long);break;case"fullTime":r=Fa(t,It.Full);break;case"short":let i=$n(t,"shortTime"),o=$n(t,"shortDate");r=Hl(Va(t,It.Short),[i,o]);break;case"medium":let s=$n(t,"mediumTime"),c=$n(t,"mediumDate");r=Hl(Va(t,It.Medium),[s,c]);break;case"long":let u=$n(t,"longTime"),l=$n(t,"longDate");r=Hl(Va(t,It.Long),[u,l]);break;case"full":let h=$n(t,"fullTime"),p=$n(t,"fullDate");r=Hl(Va(t,It.Full),[h,p]);break}return r&&($l[n][e]=r),r}function Hl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function en(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function z1(t,e){return en(t,3).substring(0,e)}function xe(t,e,n=0,r=!1,i=!1){return function(o,s){let c=G1(t,o);if((n>0||c>-n)&&(c+=n),t===3)c===0&&n===-12&&(c=12);else if(t===6)return z1(c,e);let u=La(s,Hn.MinusSign);return en(c,e,u,r,i)}}function G1(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new B(2301,!1)}}function ve(t,e,n=st.Format,r=!1){return function(i,o){return W1(i,o,t,e,n,r)}}function W1(t,e,n,r,i,o){switch(n){case 2:return Fb(e,i,r)[t.getMonth()];case 1:return Ob(e,i,r)[t.getDay()];case 0:let s=t.getHours(),c=t.getMinutes();if(o){let l=jb(e),h=Bb(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,A]=m,M=s>=y.hours&&c>=y.minutes,N=s<A.hours||s===A.hours&&c<A.minutes;if(y.hours<A.hours){if(M&&N)return!0}else if(M||N)return!0}else if(m.hours===s&&m.minutes===c)return!0;return!1});if(p!==-1)return h[p]}return xb(e,i,r)[s<12?0:1];case 3:return Vb(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new B(2302,!1)}}function ql(t){return function(e,n,r){let i=-1*r,o=La(n,Hn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+en(s,2,o)+en(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+en(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+en(s,2,o)+":"+en(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+en(s,2,o)+":"+en(Math.abs(i%60),2,o);default:throw new B(2302,!1)}}}var K1=0,Gl=4;function Q1(t){let e=Wl(t,K1,1).getDay();return Wl(t,0,1+(e<=Gl?Gl:Gl+7)-e)}function $b(t){let e=t.getDay(),n=e===0?-3:Gl-e;return Wl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function fm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=$b(n),s=Q1(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return en(i,t,La(r,Hn.MinusSign))}}function zl(t,e=!1){return function(n,r){let o=$b(n).getFullYear();return en(o,t,La(r,Hn.MinusSign),e)}}var pm={};function Y1(t){if(pm[t])return pm[t];let e;switch(t){case"G":case"GG":case"GGG":e=ve(3,ge.Abbreviated);break;case"GGGG":e=ve(3,ge.Wide);break;case"GGGGG":e=ve(3,ge.Narrow);break;case"y":e=xe(0,1,0,!1,!0);break;case"yy":e=xe(0,2,0,!0,!0);break;case"yyy":e=xe(0,3,0,!1,!0);break;case"yyyy":e=xe(0,4,0,!1,!0);break;case"Y":e=zl(1);break;case"YY":e=zl(2,!0);break;case"YYY":e=zl(3);break;case"YYYY":e=zl(4);break;case"M":case"L":e=xe(1,1,1);break;case"MM":case"LL":e=xe(1,2,1);break;case"MMM":e=ve(2,ge.Abbreviated);break;case"MMMM":e=ve(2,ge.Wide);break;case"MMMMM":e=ve(2,ge.Narrow);break;case"LLL":e=ve(2,ge.Abbreviated,st.Standalone);break;case"LLLL":e=ve(2,ge.Wide,st.Standalone);break;case"LLLLL":e=ve(2,ge.Narrow,st.Standalone);break;case"w":e=fm(1);break;case"ww":e=fm(2);break;case"W":e=fm(1,!0);break;case"d":e=xe(2,1);break;case"dd":e=xe(2,2);break;case"c":case"cc":e=xe(7,1);break;case"ccc":e=ve(1,ge.Abbreviated,st.Standalone);break;case"cccc":e=ve(1,ge.Wide,st.Standalone);break;case"ccccc":e=ve(1,ge.Narrow,st.Standalone);break;case"cccccc":e=ve(1,ge.Short,st.Standalone);break;case"E":case"EE":case"EEE":e=ve(1,ge.Abbreviated);break;case"EEEE":e=ve(1,ge.Wide);break;case"EEEEE":e=ve(1,ge.Narrow);break;case"EEEEEE":e=ve(1,ge.Short);break;case"a":case"aa":case"aaa":e=ve(0,ge.Abbreviated);break;case"aaaa":e=ve(0,ge.Wide);break;case"aaaaa":e=ve(0,ge.Narrow);break;case"b":case"bb":case"bbb":e=ve(0,ge.Abbreviated,st.Standalone,!0);break;case"bbbb":e=ve(0,ge.Wide,st.Standalone,!0);break;case"bbbbb":e=ve(0,ge.Narrow,st.Standalone,!0);break;case"B":case"BB":case"BBB":e=ve(0,ge.Abbreviated,st.Format,!0);break;case"BBBB":e=ve(0,ge.Wide,st.Format,!0);break;case"BBBBB":e=ve(0,ge.Narrow,st.Format,!0);break;case"h":e=xe(3,1,-12);break;case"hh":e=xe(3,2,-12);break;case"H":e=xe(3,1);break;case"HH":e=xe(3,2);break;case"m":e=xe(4,1);break;case"mm":e=xe(4,2);break;case"s":e=xe(5,1);break;case"ss":e=xe(5,2);break;case"S":e=xe(6,1);break;case"SS":e=xe(6,2);break;case"SSS":e=xe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ql(0);break;case"ZZZZZ":e=ql(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ql(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ql(2);break;default:return null}return pm[t]=e,e}function Hb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Z1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function J1(t,e,n){let i=t.getTimezoneOffset(),o=Hb(e,i);return Z1(t,-1*(o-i))}function X1(t){if(Rb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(c=>+c);return Wl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(H1))return eF(r)}let e=new Date(t);if(!Rb(e))throw new B(2302,!1);return e}function eF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,c=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,c,u,l),e}function Rb(t){return t instanceof Date&&!isNaN(t.valueOf())}var gm=/\s+/,Nb=[],tF=(()=>{class t{_ngEl;_renderer;initialClasses=Nb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(gm):Nb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(gm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(gm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(J(_n),J(Bn))};static \u0275dir=De({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Kl=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qb=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Kl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),Mb(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Mb(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(ba),J(Da),J(lm))};static \u0275dir=De({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Mb(t,e){t.context.$implicit=e.item}var nF=(()=>{class t{_viewContainer;_context=new Ql;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Pb(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Pb(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(ba),J(Da))};static \u0275dir=De({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ql=class{$implicit=null;ngIf=null};function Pb(t,e){if(t&&!t.createEmbeddedView)throw new B(2020,!1)}function zb(t,e){return new B(2100,!1)}var rF=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,iF=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw zb(t,n);return n.replace(rF,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Ol({name:"titlecase",type:t,pure:!0})}return t})();var oF="mediumDate",Gb=new $(""),Wb=new $(""),sF=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??oF,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ub(n,s,o||this.locale,c)}catch(s){throw zb(t,s.message)}}static \u0275fac=function(r){return new(r||t)(J(Na,16),J(Gb,24),J(Wb,24))};static \u0275pipe=Ol({name:"date",type:t,pure:!0})}return t})();var aF=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fo({type:t});static \u0275inj=li({})}return t})();function cF(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var mm=class{};var hZ="browser";var fZ=(()=>{class t{static \u0275prov=se({token:t,providedIn:"root",factory:()=>new ym(V(Ii),window)})}return t})(),ym=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(fe(ue({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=uF(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(ui(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(fe(ue({},n),{left:i-s[0],top:o-s[1]}))}};function uF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rC=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(J(Bn),J(_n))};static \u0275dir=De({type:t})}return t})(),za=(()=>{class t extends rC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,features:[ot]})}return t})(),qo=new $(""),lF={provide:qo,useExisting:pt(()=>dF),multi:!0},dF=(()=>{class t extends za{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Un("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ft([lF]),ot]})}return t})(),hF={provide:qo,useExisting:pt(()=>iC),multi:!0};function fF(){let t=Ni()?Ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pF=new $(""),iC=(()=>{class t extends rC{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!fF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(J(Bn),J(_n),J(pF,8))};static \u0275dir=De({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Un("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ft([hF]),ot]})}return t})();function gF(t){return t==null||mF(t)===0}function mF(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Ga=new $(""),oC=new $("");function yF(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function vF(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function _F(t){return gF(t.value)?{required:!0}:null}function Kb(t){return null}function sC(t){return t!=null}function aC(t){return Vo(t)?un(t):t}function cC(t){let e={};return t.forEach(n=>{e=n!=null?ue(ue({},e),n):e}),Object.keys(e).length===0?null:e}function uC(t,e){return e.map(n=>n(t))}function EF(t){return!t.validate}function lC(t){return t.map(e=>EF(e)?e:n=>e.validate(n))}function IF(t){if(!t)return null;let e=t.filter(sC);return e.length==0?null:function(n){return cC(uC(n,e))}}function Im(t){return t!=null?IF(lC(t)):null}function wF(t){if(!t)return null;let e=t.filter(sC);return e.length==0?null:function(n){let r=uC(n,e).map(aC);return Pf(r).pipe(zt(cC))}}function wm(t){return t!=null?wF(lC(t)):null}function Qb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function DF(t){return t._rawValidators}function TF(t){return t._rawAsyncValidators}function vm(t){return t?Array.isArray(t)?t:[t]:[]}function Zl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Yb(t,e){let n=vm(e);return vm(t).forEach(i=>{Zl(n,i)||n.push(i)}),n}function Zb(t,e){return vm(e).filter(n=>!Zl(t,n))}var Jl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Im(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ho=class extends Jl{name;get formDirective(){return null}get path(){return null}},qa=class extends Jl{_parent=null;name=null;valueAccessor=null},Xl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OZ=fe(ue({},bF),{"[class.ng-submitted]":"isSubmitted"}),FZ=(()=>{class t extends Xl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(J(qa,2))};static \u0275dir=De({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ra("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ot]})}return t})(),VZ=(()=>{class t extends Xl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(J(Ho,10))};static \u0275dir=De({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ra("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ot]})}return t})();var ja="VALID",Yl="INVALID",Uo="PENDING",Ba="DISABLED",Dr=class{},ed=class extends Dr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},$a=class extends Dr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ha=class extends Dr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},$o=class extends Dr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},_m=class extends Dr{source;constructor(e){super(),this.source=e}},Em=class extends Dr{source;constructor(e){super(),this.source=e}};function dC(t){return(rd(t)?t.validators:t)||null}function CF(t){return Array.isArray(t)?Im(t):t||null}function hC(t,e){return(rd(e)?e.asyncValidators:t)||null}function AF(t){return Array.isArray(t)?wm(t):t||null}function rd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function SF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function RF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var td=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return En(this.statusReactive)}set status(e){En(()=>this.statusReactive.set(e))}_status=jo(()=>this.statusReactive());statusReactive=Er(void 0);get valid(){return this.status===ja}get invalid(){return this.status===Yl}get pending(){return this.status==Uo}get disabled(){return this.status===Ba}get enabled(){return this.status!==Ba}errors;get pristine(){return En(this.pristineReactive)}set pristine(e){En(()=>this.pristineReactive.set(e))}_pristine=jo(()=>this.pristineReactive());pristineReactive=Er(!0);get dirty(){return!this.pristine}get touched(){return En(this.touchedReactive)}set touched(e){En(()=>this.touchedReactive.set(e))}_touched=jo(()=>this.touchedReactive());touchedReactive=Er(!1);get untouched(){return!this.touched}_events=new qt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Yb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zb(e,this._rawAsyncValidators))}hasValidator(e){return Zl(this._rawValidators,e)}hasAsyncValidator(e){return Zl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(ue({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ha(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ha(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(ue({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAsPending(e={}){this.status=Uo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $o(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(ue({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ba,this.errors=null,this._forEachChild(i=>{i.disable(fe(ue({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ed(this.value,r)),this._events.next(new $o(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(ue({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable(fe(ue({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(ue({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===Uo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ed(this.value,n)),this._events.next(new $o(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(ue({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ba:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Uo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=aC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new $o(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?Ba:this.errors?Yl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uo)?Uo:this._anyControlsHaveStatus(Yl)?Yl:ja}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new $a(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ha(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=CF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=AF(this._rawAsyncValidators)}},nd=class extends td{constructor(e,n,r){super(dC(n),hC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){RF(this,!0,e),Object.keys(e).forEach(r=>{SF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Dm=new $("",{providedIn:"root",factory:()=>Tm}),Tm="always";function NF(t,e){return[...e.path,t]}function fC(t,e,n=Tm){pC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),PF(t,e),xF(t,e),kF(t,e),MF(t,e)}function Jb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function MF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function pC(t,e){let n=DF(t);e.validator!==null?t.setValidators(Qb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=TF(t);e.asyncValidator!==null?t.setAsyncValidators(Qb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Jb(e._rawValidators,i),Jb(e._rawAsyncValidators,i)}function PF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gC(t,e)})}function kF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function xF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function OF(t,e){t==null,pC(t,e)}function FF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function VF(t){return Object.getPrototypeOf(t.constructor)===za}function LF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===iC?n=o:VF(o)?r=o:i=o}),i||r||n||null}var BF={provide:Ho,useExisting:pt(()=>UF)},Ua=Promise.resolve(),UF=(()=>{class t extends Ho{callSetDisabledState;get submitted(){return En(this.submittedReactive)}_submitted=jo(()=>this.submittedReactive());submittedReactive=Er(!1);_directives=new Set;form;ngSubmit=new _t;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new nd({},Im(n),wm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ua.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),fC(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ua.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ua.then(()=>{let r=this._findContainer(n.path),i=new nd({});OF(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ua.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ua.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),LF(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new _m(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Em(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(J(Ga,10),J(oC,10),J(Dm,8))};static \u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Un("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ft([BF]),ot]})}return t})();function Xb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $F=class extends td{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(dC(n),hC(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(eC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var HF={provide:qa,useExisting:pt(()=>qF)},tC=Promise.resolve(),qF=(()=>{class t extends qa{_changeDetectorRef;callSetDisabledState;control=new $F;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _t;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jF(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),FF(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){tC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&jl(r);tC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?NF(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(J(Ho,9),J(Ga,10),J(oC,10),J(qo,10),J(Pa,8),J(Dm,8))};static \u0275dir=De({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ft([HF]),ot,wa]})}return t})();var jZ=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),zF={provide:qo,useExisting:pt(()=>GF),multi:!0},GF=(()=>{class t extends za{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Un("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ft([zF]),ot]})}return t})();var WF={provide:qo,useExisting:pt(()=>yC),multi:!0};function mC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function KF(t){return t.split(":")[0]}var yC=(()=>{class t extends za{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=V(Si).injector;destroyRef=V(_r);cdr=V(Pa);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Gg({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=mC(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=KF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Un("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ft([WF]),ot]})}return t})(),BZ=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(mC(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(J(_n),J(Bn),J(yC,9))};static \u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),QF={provide:qo,useExisting:pt(()=>vC),multi:!0};function nC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function YF(t){return t.split(":")[0]}var vC=(()=>{class t extends za{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=YF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Un("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ft([QF]),ot]})}return t})(),UZ=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(nC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(nC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(J(_n),J(Bn),J(vC,9))};static \u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function _C(t){return typeof t=="number"?t:parseFloat(t)}var bm=(()=>{class t{_validator=Kb;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Kb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=De({type:t,features:[wa]})}return t})(),ZF={provide:Ga,useExisting:pt(()=>JF),multi:!0},JF=(()=>{class t extends bm{max;inputName="max";normalizeInput=n=>_C(n);createValidator=n=>vF(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Lo("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Ft([ZF]),ot]})}return t})(),XF={provide:Ga,useExisting:pt(()=>eV),multi:!0},eV=(()=>{class t extends bm{min;inputName="min";normalizeInput=n=>_C(n);createValidator=n=>yF(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Lo("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Ft([XF]),ot]})}return t})(),tV={provide:Ga,useExisting:pt(()=>nV),multi:!0};var nV=(()=>{class t extends bm{required;inputName="required";normalizeInput=jl;createValidator=n=>_F;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(t)))(i||t)}})();static \u0275dir=De({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Lo("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ft([tV]),ot]})}return t})();var rV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fo({type:t});static \u0275inj=li({})}return t})();var $Z=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Dm,useValue:n.callSetDisabledState??Tm}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fo({type:t});static \u0275inj=li({imports:[rV]})}return t})();var EC=()=>{};var DC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},id={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Am;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Am=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oV=function(t){let e=DC(t);return id.encodeByteArray(e,!0)},Ka=function(t){return oV(t).replace(/\./g,"")},od=function(t){try{return id.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Rm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var sV=()=>Rm().__FIREBASE_DEFAULTS__,aV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&od(t[1]);return e&&JSON.parse(e)},sd=()=>{try{return EC()||sV()||aV()||cV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nm=t=>{var e,n;return(n=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TC=t=>{let e=Nm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mm=()=>{var t;return(t=sd())===null||t===void 0?void 0:t.config},Pm=t=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${t}`]};var Mi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ad(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function bC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ka(JSON.stringify(n)),Ka(JSON.stringify(s)),""].join(".")}var Wa={};function uV(){let t={prod:[],emulator:[]};for(let e of Object.keys(Wa))Wa[e]?t.emulator.push(e):t.prod.push(e);return t}function lV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var IC=!1;function cd(t,e){if(typeof window>"u"||typeof document>"u"||!Tr(window.location.host)||Wa[t]===e||Wa[t]||IC)return;Wa[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=uV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{IC=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=lV(r),y=n("text"),A=document.getElementById(y)||document.createElement("span"),M=n("learnmore"),N=document.getElementById(M)||document.createElement("a"),O=n("preprendIcon"),q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;c(Y),h(N,M);let me=l();u(q,O),Y.append(q,A,N,me),document.body.appendChild(Y)}o?(A.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function dV(){var t;let e=(t=sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MC(){return!dV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qa(){try{return typeof indexedDB=="object"}catch{return!1}}function PC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var hV="FirebaseError",At=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}},tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?fV(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new At(i,c,r)}};function fV(t,e){return t.replace(pV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pV=/\{\$([^}]+)}/g;function kC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(wC(o)&&wC(s)){if(!Lt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wC(t){return t!==null&&typeof t=="object"}function Ya(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Go(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xC(t,e){let n=new Sm(t,e);return n.subscribe.bind(n)}var Sm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cm),i.error===void 0&&(i.error=Cm),i.complete===void 0&&(i.complete=Cm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cm(){}var WZ=4*60*60*1e3;function Te(t){return t&&t._delegate?t._delegate:t}var gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pi="[DEFAULT]";var km=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Mi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yV(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mV(t){return t===Pi?void 0:t}function yV(t){return t.instantiationMode==="EAGER"}var ud=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new km(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vV=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),_V={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},EV=ne.INFO,IV={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},wV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=IV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},In=class{constructor(e){this.name=e,this._logLevel=EV,this._logHandler=wV,this._userLogHandler=null,vV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var DV=(t,e)=>e.some(n=>t instanceof n),OC,FC;function TV(){return OC||(OC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bV(){return FC||(FC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var VC=new WeakMap,Om=new WeakMap,LC=new WeakMap,xm=new WeakMap,Vm=new WeakMap;function CV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(wn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&VC.set(n,t)}).catch(()=>{}),Vm.set(e,t),e}function AV(t){if(Om.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Om.set(t,e)}var Fm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jC(t){Fm=t(Fm)}function SV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ld(this),e,...n);return LC.set(r,e.sort?e.sort():[e]),wn(r)}:bV().includes(t)?function(...e){return t.apply(ld(this),e),wn(VC.get(this))}:function(...e){return wn(t.apply(ld(this),e))}}function RV(t){return typeof t=="function"?SV(t):(t instanceof IDBTransaction&&AV(t),DV(t,TV())?new Proxy(t,Fm):t)}function wn(t){if(t instanceof IDBRequest)return CV(t);if(xm.has(t))return xm.get(t);let e=RV(t);return e!==t&&(xm.set(t,e),Vm.set(e,t)),e}var ld=t=>Vm.get(t);function UC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=wn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(wn(s.result),u.oldVersion,u.newVersion,wn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var NV=["get","getKey","getAll","getAllKeys","count"],MV=["put","add","delete","clear"],Lm=new Map;function BC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=MV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NV.includes(n)))return;let o=function(s,...c){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Lm.set(e,o),o}jC(t=>fe(ue({},t),{get:(e,n,r)=>BC(e,n)||t.get(e,n,r),has:(e,n)=>!!BC(e,n)||t.has(e,n)}));var Bm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function PV(t){let e=t.getComponent();return e?.type==="VERSION"}var Um="@firebase/app",$C="0.13.2";var qn=new In("@firebase/app"),kV="@firebase/app-compat",xV="@firebase/analytics-compat",OV="@firebase/analytics",FV="@firebase/app-check-compat",VV="@firebase/app-check",LV="@firebase/auth",jV="@firebase/auth-compat",BV="@firebase/database",UV="@firebase/data-connect",$V="@firebase/database-compat",HV="@firebase/functions",qV="@firebase/functions-compat",zV="@firebase/installations",GV="@firebase/installations-compat",WV="@firebase/messaging",KV="@firebase/messaging-compat",QV="@firebase/performance",YV="@firebase/performance-compat",ZV="@firebase/remote-config",JV="@firebase/remote-config-compat",XV="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/ai",rL="@firebase/firestore-compat",iL="firebase",oL="11.10.0";var $m="[DEFAULT]",sL={[Um]:"fire-core",[kV]:"fire-core-compat",[OV]:"fire-analytics",[xV]:"fire-analytics-compat",[VV]:"fire-app-check",[FV]:"fire-app-check-compat",[LV]:"fire-auth",[jV]:"fire-auth-compat",[BV]:"fire-rtdb",[UV]:"fire-data-connect",[$V]:"fire-rtdb-compat",[HV]:"fire-fn",[qV]:"fire-fn-compat",[zV]:"fire-iid",[GV]:"fire-iid-compat",[WV]:"fire-fcm",[KV]:"fire-fcm-compat",[QV]:"fire-perf",[YV]:"fire-perf-compat",[ZV]:"fire-rc",[JV]:"fire-rc-compat",[XV]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[rL]:"fire-fst-compat",[nL]:"fire-vertex","fire-js":"fire-js",[iL]:"fire-js-all"};var Za=new Map,aL=new Map,Hm=new Map;function HC(t,e){try{t.container.addComponent(e)}catch(n){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){let e=t.name;if(Hm.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(let n of Za.values())HC(n,t);for(let n of aL.values())HC(n,t);return!0}function Wo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wt(t){return t==null?!1:t.settings!==void 0}var cL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new tn("app","Firebase",cL);var qm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var Cr=oL;function Wm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$m,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=Mm()),!n)throw br.create("no-options");let o=Za.get(i);if(o){if(Lt(n,o.options)&&Lt(r,o.config))return o;throw br.create("duplicate-app",{appName:i})}let s=new ud(i);for(let u of Hm.values())s.addComponent(u);let c=new qm(n,r,s);return Za.set(i,c),c}function ki(t=$m){let e=Za.get(t);if(!e&&t===$m&&Mm())return Wm();if(!e)throw br.create("no-app",{appName:t});return e}function dd(){return Array.from(Za.values())}function Re(t,e,n){var r;let i=(r=sL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(c.join(" "));return}nn(new gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uL="firebase-heartbeat-database",lL=1,Ja="firebase-heartbeat-store",jm=null;function WC(){return jm||(jm=UC(uL,lL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),jm}function dL(t){return v(this,null,function*(){try{let n=(yield WC()).transaction(Ja),r=yield n.objectStore(Ja).get(KC(t));return yield n.done,r}catch(e){if(e instanceof At)qn.warn(e.message);else{let n=br.create("idb-get",{originalErrorMessage:e?.message});qn.warn(n.message)}}})}function qC(t,e){return v(this,null,function*(){try{let r=(yield WC()).transaction(Ja,"readwrite");yield r.objectStore(Ja).put(e,KC(t)),yield r.done}catch(n){if(n instanceof At)qn.warn(n.message);else{let r=br.create("idb-set",{originalErrorMessage:n?.message});qn.warn(r.message)}}})}function KC(t){return`${t.name}!${t.options.appId}`}var hL=1024,fL=30,zm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Gm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>fL){let s=gL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qn.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zC(),{heartbeatsToSend:r,unsentEntries:i}=pL(this._heartbeatsCache.heartbeats),o=Ka(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return qn.warn(n),""}})}};function zC(){return new Date().toISOString().substring(0,10)}function pL(t,e=hL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),GC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Gm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Qa()?PC().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function GC(t){return Ka(JSON.stringify({version:2,heartbeats:t})).length}function gL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function mL(t){nn(new gt("platform-logger",e=>new Bm(e),"PRIVATE")),nn(new gt("heartbeat",e=>new zm(e),"PRIVATE")),Re(Um,$C,t),Re(Um,$C,"esm2017"),Re("fire-js","")}mL("");var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YC={};var zn,Km;(function(){var t;function e(D,_){function I(){}I.prototype=_.prototype,D.D=_.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(w,T,C){for(var E=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)E[Pn-2]=arguments[Pn];return _.prototype[T].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,I){I||(I=0);var w=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)w[T]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(T=0;16>T;++T)w[T]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=D.g[0],I=D.g[1],T=D.g[2];var C=D.g[3],E=_+(C^I&(T^C))+w[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=C+(T^_&(I^T))+w[1]+3905402710&4294967295,C=_+(E<<12&4294967295|E>>>20),E=T+(I^C&(_^I))+w[2]+606105819&4294967295,T=C+(E<<17&4294967295|E>>>15),E=I+(_^T&(C^_))+w[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(C^I&(T^C))+w[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=C+(T^_&(I^T))+w[5]+1200080426&4294967295,C=_+(E<<12&4294967295|E>>>20),E=T+(I^C&(_^I))+w[6]+2821735955&4294967295,T=C+(E<<17&4294967295|E>>>15),E=I+(_^T&(C^_))+w[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(C^I&(T^C))+w[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=C+(T^_&(I^T))+w[9]+2336552879&4294967295,C=_+(E<<12&4294967295|E>>>20),E=T+(I^C&(_^I))+w[10]+4294925233&4294967295,T=C+(E<<17&4294967295|E>>>15),E=I+(_^T&(C^_))+w[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(C^I&(T^C))+w[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=C+(T^_&(I^T))+w[13]+4254626195&4294967295,C=_+(E<<12&4294967295|E>>>20),E=T+(I^C&(_^I))+w[14]+2792965006&4294967295,T=C+(E<<17&4294967295|E>>>15),E=I+(_^T&(C^_))+w[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(T^C&(I^T))+w[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^T&(_^I))+w[6]+3225465664&4294967295,C=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(C^_))+w[11]+643717713&4294967295,T=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(T^C))+w[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^C&(I^T))+w[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^T&(_^I))+w[10]+38016083&4294967295,C=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(C^_))+w[15]+3634488961&4294967295,T=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(T^C))+w[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^C&(I^T))+w[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^T&(_^I))+w[14]+3275163606&4294967295,C=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(C^_))+w[3]+4107603335&4294967295,T=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(T^C))+w[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^C&(I^T))+w[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^T&(_^I))+w[2]+4243563512&4294967295,C=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(C^_))+w[7]+1735328473&4294967295,T=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(T^C))+w[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(I^T^C)+w[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^T)+w[8]+2272392833&4294967295,C=_+(E<<11&4294967295|E>>>21),E=T+(C^_^I)+w[11]+1839030562&4294967295,T=C+(E<<16&4294967295|E>>>16),E=I+(T^C^_)+w[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^C)+w[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^T)+w[4]+1272893353&4294967295,C=_+(E<<11&4294967295|E>>>21),E=T+(C^_^I)+w[7]+4139469664&4294967295,T=C+(E<<16&4294967295|E>>>16),E=I+(T^C^_)+w[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^C)+w[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^T)+w[0]+3936430074&4294967295,C=_+(E<<11&4294967295|E>>>21),E=T+(C^_^I)+w[3]+3572445317&4294967295,T=C+(E<<16&4294967295|E>>>16),E=I+(T^C^_)+w[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^C)+w[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^T)+w[12]+3873151461&4294967295,C=_+(E<<11&4294967295|E>>>21),E=T+(C^_^I)+w[15]+530742520&4294967295,T=C+(E<<16&4294967295|E>>>16),E=I+(T^C^_)+w[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(T^(I|~C))+w[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~T))+w[7]+1126891415&4294967295,C=_+(E<<10&4294967295|E>>>22),E=T+(_^(C|~I))+w[14]+2878612391&4294967295,T=C+(E<<15&4294967295|E>>>17),E=I+(C^(T|~_))+w[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~C))+w[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~T))+w[3]+2399980690&4294967295,C=_+(E<<10&4294967295|E>>>22),E=T+(_^(C|~I))+w[10]+4293915773&4294967295,T=C+(E<<15&4294967295|E>>>17),E=I+(C^(T|~_))+w[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~C))+w[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~T))+w[15]+4264355552&4294967295,C=_+(E<<10&4294967295|E>>>22),E=T+(_^(C|~I))+w[6]+2734768916&4294967295,T=C+(E<<15&4294967295|E>>>17),E=I+(C^(T|~_))+w[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~C))+w[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~T))+w[11]+3174756917&4294967295,C=_+(E<<10&4294967295|E>>>22),E=T+(_^(C|~I))+w[2]+718787259&4294967295,T=C+(E<<15&4294967295|E>>>17),E=I+(C^(T|~_))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var I=_-this.blockSize,w=this.B,T=this.h,C=0;C<_;){if(T==0)for(;C<=I;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<_;)if(w[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,w),T=0;break}}else for(;C<_;)if(w[T++]=D[C++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var I=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=I&255,I/=256;for(this.u(D),D=Array(16),_=I=0;4>_;++_)for(var w=0;32>w;w+=8)D[I++]=this.g[_]>>>w&255;return D};function o(D,_){var I=c;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=_(D)}function s(D,_){this.h=_;for(var I=[],w=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;w&&C==_||(I[T]=C,w=!1)}this.g=I}var c={};function u(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var _=[],I=1,w=0;D>=I;w++)_[w]=D/I|0,I*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return N(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),w=p,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),E=parseInt(D.substring(T,T+C),_);8>C?(C=l(Math.pow(_,C)),w=w.j(C).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-N(this).m();for(var D=0,_=1,I=0;I<this.g.length;I++){var w=this.i(I);D+=(0<=w?w:4294967296+w)*_,_*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(M(this))return"-"+N(this).toString(D);for(var _=l(Math.pow(D,6)),I=this,w="";;){var T=me(I,_).g;I=O(I,T.j(_));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=T,A(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=O(this,D),M(D)?-1:A(D)?0:1};function N(D){for(var _=D.g.length,I=[],w=0;w<_;w++)I[w]=~D.g[w];return new s(I,~D.h).add(m)}t.abs=function(){return M(this)?N(this):this},t.add=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],w=0,T=0;T<=_;T++){var C=w+(this.i(T)&65535)+(D.i(T)&65535),E=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=E>>>16,C&=65535,E&=65535,I[T]=E<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(D,_){return D.add(N(_))}t.j=function(D){if(A(this)||A(D))return p;if(M(this))return M(D)?N(this).j(N(D)):N(N(this).j(D));if(M(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,I=[],w=0;w<2*_;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var C=this.i(w)>>>16,E=this.i(w)&65535,Pn=D.i(T)>>>16,Ts=D.i(T)&65535;I[2*w+2*T]+=E*Ts,q(I,2*w+2*T),I[2*w+2*T+1]+=C*Ts,q(I,2*w+2*T+1),I[2*w+2*T+1]+=E*Pn,q(I,2*w+2*T+1),I[2*w+2*T+2]+=C*Pn,q(I,2*w+2*T+2)}for(w=0;w<_;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=_;w<2*_;w++)I[w]=0;return new s(I,0)};function q(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function Y(D,_){this.g=D,this.h=_}function me(D,_){if(A(_))throw Error("division by zero");if(A(D))return new Y(p,p);if(M(D))return _=me(N(D),_),new Y(N(_.g),N(_.h));if(M(_))return _=me(D,N(_)),new Y(N(_.g),_.h);if(30<D.g.length){if(M(D)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=_;0>=w.l(D);)I=ut(I),w=ut(w);var T=he(I,1),C=he(w,1);for(w=he(w,2),I=he(I,2);!A(w);){var E=C.add(w);0>=E.l(D)&&(T=T.add(I),C=E),w=he(w,1),I=he(I,1)}return _=O(D,T.j(_)),new Y(T,_)}for(T=p;0<=D.l(_);){for(I=Math.max(1,Math.floor(D.m()/_.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(I),E=C.j(_);M(E)||0<E.l(D);)I-=w,C=l(I),E=C.j(_);A(C)&&(C=m),T=T.add(C),D=O(D,E)}return new Y(T,D)}t.A=function(D){return me(this,D).h},t.and=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)&D.i(w);return new s(I,this.h&D.h)},t.or=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)|D.i(w);return new s(I,this.h|D.h)},t.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)^D.i(w);return new s(I,this.h^D.h)};function ut(D){for(var _=D.g.length+1,I=[],w=0;w<_;w++)I[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(I,D.h)}function he(D,_){var I=_>>5;_%=32;for(var w=D.g.length-I,T=[],C=0;C<w;C++)T[C]=0<_?D.i(C+I)>>>_|D.i(C+I+1)<<32-_:D.i(C+I);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Km=YC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,zn=YC.Integer=s}).apply(typeof QC<"u"?QC:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gn={};var Qm,yL,Ko,Ym,Xa,fd,Zm,Jm,Xm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in f))break e;f=f[b]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,b={next:function(){if(!g&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,b,S){for(var k=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)k[ye-2]=arguments[ye];return d.prototype[b].apply(g,k)}}function M(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=a.length||0,S=g.length||0;a.length=b+S;for(let k=0;k<S;k++)a[b+k]=g[k]}else a.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(a){return/^[\s\xa0]*$/.test(a)}function Y(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function me(a){return me[" "](a),a}me[" "]=function(){};var ut=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function he(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function _(a){let d={};for(let f in a)d[f]=a[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)a[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function E(){var a=Fh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Pn{constructor(){this.h=this.g=null}add(d,f){let g=Ts.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ts=new O(()=>new QR,a=>a.reset());class QR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let bs,Cs=!1,Fh=new Pn,mE=()=>{let a=c.Promise.resolve(void 0);bs=()=>{a.then(YR)}};var YR=()=>{for(var a;a=E();){try{a.h.call(a.g)}catch(f){C(f)}var d=Ts;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Cs=!1};function rr(){this.s=this.s,this.C=this.C}rr.prototype.s=!1,rr.prototype.ma=function(){this.s||(this.s=!0,this.N())},rr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var ZR=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function As(a,d){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(ut){e:{try{me(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:JR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&As.aa.h.call(this)}}A(As,Ze);var JR={2:"touch",3:"pen",4:"mouse"};As.prototype.h=function(){As.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),XR=0;function eN(a,d,f,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++XR,this.da=this.fa=!1}function xc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Oc(a){this.src=a,this.g={},this.h=0}Oc.prototype.add=function(a,d,f,g,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=Lh(a,d,g,b);return-1<k?(d=a[k],f||(d.fa=!1)):(d=new eN(d,this.src,S,!!g,b),d.fa=f,a.push(d)),d};function Vh(a,d){var f=d.type;if(f in a.g){var g=a.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(xc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Lh(a,d,f,g){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var jh="closure_lm_"+(1e6*Math.random()|0),Bh={};function yE(a,d,f,g,b){if(g&&g.once)return _E(a,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)yE(a,d[S],f,g,b);return null}return f=qh(f),a&&a[Ss]?a.K(d,f,l(g)?!!g.capture:!!g,b):vE(a,d,f,!1,g,b)}function vE(a,d,f,g,b,S){if(!d)throw Error("Invalid event type");var k=l(b)?!!b.capture:!!b,ye=$h(a);if(ye||(a[jh]=ye=new Oc(a)),f=ye.add(d,f,g,k,S),f.proxy)return f;if(g=tN(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)ZR||(b=k),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(IE(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function tN(){function a(f){return d.call(a.src,a.listener,f)}let d=nN;return a}function _E(a,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)_E(a,d[S],f,g,b);return null}return f=qh(f),a&&a[Ss]?a.L(d,f,l(g)?!!g.capture:!!g,b):vE(a,d,f,!0,g,b)}function EE(a,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)EE(a,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=qh(f),a&&a[Ss]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=Lh(S,f,g,b),-1<f&&(xc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=$h(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Lh(d,f,g,b)),(f=-1<a?d[a]:null)&&Uh(f))}function Uh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ss])Vh(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(IE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=$h(d))?(Vh(f,a),f.h==0&&(f.src=null,d[jh]=null)):xc(a)}}}function IE(a){return a in Bh?Bh[a]:Bh[a]="on"+a}function nN(a,d){if(a.da)a=!0;else{d=new As(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Uh(a),a=f.call(g,d)}return a}function $h(a){return a=a[jh],a instanceof Oc?a:null}var Hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function qh(a){return typeof a=="function"?a:(a[Hh]||(a[Hh]=function(d){return a.handleEvent(d)}),a[Hh])}function Je(){rr.call(this),this.i=new Oc(this),this.M=this,this.F=null}A(Je,rr),Je.prototype[Ss]=!0,Je.prototype.removeEventListener=function(a,d,f,g){EE(this,a,d,f,g)};function lt(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ze(d,a);else if(d instanceof Ze)d.target=d.target||a;else{var b=d;d=new Ze(g,a),w(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];b=Fc(k,g,!0,d)&&b}if(k=d.g=a,b=Fc(k,g,!0,d)&&b,b=Fc(k,g,!1,d)&&b,f)for(S=0;S<f.length;S++)k=d.g=f[S],b=Fc(k,g,!1,d)&&b}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)xc(f[g]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},Je.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function Fc(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var ye=k.listener,We=k.ha||k.src;k.fa&&Vh(a.i,k),b=ye.call(We,g)!==!1&&b}}return b&&!g.defaultPrevented}function wE(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function DE(a){a.g=wE(()=>{a.g=null,a.i&&(a.i=!1,DE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class rN extends rr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:DE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(a){rr.call(this),this.h=a,this.g={}}A(Rs,rr);var TE=[];function bE(a){he(a.g,function(d,f){this.g.hasOwnProperty(f)&&Uh(d)},a),a.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),bE(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zh=c.JSON.stringify,iN=c.JSON.parse,oN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Gh(){}Gh.prototype.h=null;function CE(a){return a.h||(a.h=a.i())}function AE(){}var Ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wh(){Ze.call(this,"d")}A(Wh,Ze);function Kh(){Ze.call(this,"c")}A(Kh,Ze);var Wr={},SE=null;function Vc(){return SE=SE||new Je}Wr.La="serverreachability";function RE(a){Ze.call(this,Wr.La,a)}A(RE,Ze);function Ms(a){let d=Vc();lt(d,new RE(d))}Wr.STAT_EVENT="statevent";function NE(a,d){Ze.call(this,Wr.STAT_EVENT,a),this.stat=d}A(NE,Ze);function dt(a){let d=Vc();lt(d,new NE(d,a))}Wr.Ma="timingevent";function ME(a,d){Ze.call(this,Wr.Ma,a),this.size=d}A(ME,Ze);function Ps(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ks(){this.g=!0}ks.prototype.xa=function(){this.g=!1};function sN(a,d,f,g,b,S){a.info(function(){if(a.g)if(S)for(var k="",ye=S.split("&"),We=0;We<ye.length;We++){var ce=ye[We].split("=");if(1<ce.length){var Xe=ce[0];ce=ce[1];var et=Xe.split("_");k=2<=et.length&&et[1]=="type"?k+(Xe+"="+ce+"&"):k+(Xe+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+k})}function aN(a,d,f,g,b,S,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+k})}function eo(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+uN(a,f)+(g?" "+g:"")})}function cN(a,d){a.info(function(){return"TIMEOUT: "+d})}ks.prototype.info=function(){};function uN(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return zh(f)}catch{return d}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qh;function jc(){}A(jc,Gh),jc.prototype.g=function(){return new XMLHttpRequest},jc.prototype.i=function(){return{}},Qh=new jc;function ir(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kE}function kE(){this.i=null,this.g="",this.h=!1}var xE={},Yh={};function Zh(a,d,f){a.L=1,a.v=Hc(kn(d)),a.m=f,a.P=!0,OE(a,null)}function OE(a,d){a.F=Date.now(),Bc(a),a.A=kn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),QE(f.i,"t",g),a.C=0,f=a.j.J,a.h=new kE,a.g=fI(a.j,f?d:null,!a.m),0<a.O&&(a.M=new rN(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(TE[0]=b.toString()),b=TE);for(var S=0;S<b.length;S++){var k=yE(f,b[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Ms(),sN(a.i,a.u,a.A,a.l,a.R,a.m)}ir.prototype.ca=function(a){a=a.target;let d=this.M;d&&xn(a)==3?d.j():this.Y(a)},ir.prototype.Y=function(a){try{if(a==this.g)e:{let et=xn(this.g);var d=this.g.Ba();let ro=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||nI(this.g)))){this.J||et!=4||d==7||(d==8||0>=ro?Ms(3):Ms(2)),Jh(this);var f=this.g.Z();this.X=f;t:if(FE(this)){var g=nI(this.g);a="";var b=g.length,S=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),xs(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,aN(this.i,this.u,this.A,this.l,this.R,et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,We=this.g;if((ye=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ye)){var ce=ye;break t}}ce=null}if(f=ce)eo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xh(this,f);else{this.o=!1,this.s=3,dt(12),Kr(this),xs(this);break e}}if(this.P){f=!0;let $t;for(;!this.J&&this.C<k.length;)if($t=lN(this,k),$t==Yh){et==4&&(this.s=4,dt(14),f=!1),eo(this.i,this.l,null,"[Incomplete Response]");break}else if($t==xE){this.s=4,dt(15),eo(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else eo(this.i,this.l,$t,null),Xh(this,$t);if(FE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||k.length!=0||this.h.h||(this.s=1,dt(16),f=!1),this.o=this.o&&f,!f)eo(this.i,this.l,k,"[Invalid Chunked Response]"),Kr(this),xs(this);else if(0<k.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),sf(Xe),Xe.M=!0,dt(11))}}else eo(this.i,this.l,k,null),Xh(this,k);et==4&&Kr(this),this.o&&!this.J&&(et==4?uI(this.j,this):(this.o=!1,Bc(this)))}else AN(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Kr(this),xs(this)}}}catch{}finally{}};function FE(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function lN(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?Yh:(f=Number(d.substring(f,g)),isNaN(f)?xE:(g+=1,g+f>d.length?Yh:(d=d.slice(g,g+f),a.C=g+f,d)))}ir.prototype.cancel=function(){this.J=!0,Kr(this)};function Bc(a){a.S=Date.now()+a.I,VE(a,a.I)}function VE(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ps(m(a.ba,a),d)}function Jh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ir.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(cN(this.i,this.A),this.L!=2&&(Ms(),dt(17)),Kr(this),this.s=2,xs(this)):VE(this,this.S-a)};function xs(a){a.j.G==0||a.J||uI(a.j,a)}function Kr(a){Jh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,bE(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Xh(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||ef(f.h,a))){if(!a.K&&ef(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Kc(f),Gc(f);else break e;of(f),dt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ps(m(f.Za,f),6e3));if(1>=BE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yr(f,11)}else if((a.K||f.g==a)&&Kc(f),!q(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ce=b[d];if(f.T=ce[0],ce=ce[1],f.G==2)if(ce[0]=="c"){f.K=ce[1],f.ia=ce[2];let Xe=ce[3];Xe!=null&&(f.la=Xe,f.j.info("VER="+f.la));let et=ce[4];et!=null&&(f.Aa=et,f.j.info("SVER="+f.Aa));let ro=ce[5];ro!=null&&typeof ro=="number"&&0<ro&&(g=1.5*ro,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let $t=a.g;if($t){let Yc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var S=g.h;S.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(tf(S,S.h),S.h=null))}if(g.D){let af=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;af&&(g.ya=af,Ee(g.I,g.D,af))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=a;if(g.qa=hI(g,g.J?g.ia:null,g.W),k.K){UE(g.h,k);var ye=k,We=g.L;We&&(ye.I=We),ye.B&&(Jh(ye),Bc(ye)),g.g=k}else aI(g);0<f.i.length&&Wc(f)}else ce[0]!="stop"&&ce[0]!="close"||Yr(f,7);else f.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Yr(f,7):rf(f):ce[0]!="noop"&&f.l&&f.l.ta(ce),f.v=0)}}Ms(4)}catch{}}var dN=class{constructor(a,d){this.g=a,this.map=d}};function LE(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jE(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function BE(a){return a.h?1:a.g?a.g.size:0}function ef(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function tf(a,d){a.g?a.g.add(d):a.h=d}function UE(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}LE.prototype.cancel=function(){if(this.i=$E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function $E(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return M(a.i)}function hN(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function fN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function HE(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=fN(a),g=hN(a),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],a)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pN(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),b=null;if(0<=g){var S=a[f].substring(0,g);b=a[f].substring(g+1)}else S=a[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Qr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Qr){this.h=a.h,Uc(this,a.j),this.o=a.o,this.g=a.g,$c(this,a.s),this.l=a.l;var d=a.i,f=new Vs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),zE(this,f),this.m=a.m}else a&&(d=String(a).match(qE))?(this.h=!1,Uc(this,d[1]||"",!0),this.o=Os(d[2]||""),this.g=Os(d[3]||"",!0),$c(this,d[4]),this.l=Os(d[5]||"",!0),zE(this,d[6]||"",!0),this.m=Os(d[7]||"")):(this.h=!1,this.i=new Vs(null,this.h))}Qr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Fs(d,GE,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Fs(d,GE,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Fs(f,f.charAt(0)=="/"?yN:mN,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Fs(f,_N)),a.join("")};function kn(a){return new Qr(a)}function Uc(a,d,f){a.j=f?Os(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function $c(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function zE(a,d,f){d instanceof Vs?(a.i=d,EN(a.i,a.h)):(f||(d=Fs(d,vN)),a.i=new Vs(d,a.h))}function Ee(a,d,f){a.i.set(d,f)}function Hc(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Os(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Fs(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,gN),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function gN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var GE=/[#\/\?@]/g,mN=/[#\?:]/g,yN=/[#\?]/g,vN=/[#\?@]/g,_N=/#/g;function Vs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function or(a){a.g||(a.g=new Map,a.h=0,a.i&&pN(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Vs.prototype,t.add=function(a,d){or(this),this.i=null,a=to(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function WE(a,d){or(a),d=to(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function KE(a,d){return or(a),d=to(a,d),a.g.has(d)}t.forEach=function(a,d){or(this),this.g.forEach(function(f,g){f.forEach(function(b){a.call(d,b,g,this)},this)},this)},t.na=function(){or(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=a[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(a){or(this);let d=[];if(typeof a=="string")KE(this,a)&&(d=d.concat(this.g.get(to(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return or(this),this.i=null,a=to(this,a),KE(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function QE(a,d,f){WE(a,d),0<f.length&&(a.i=null,a.g.set(to(a,d),M(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var b=S;k[g]!==""&&(b+="="+encodeURIComponent(String(k[g]))),a.push(b)}}return this.i=a.join("&")};function to(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function EN(a,d){d&&!a.j&&(or(a),a.i=null,a.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(WE(this,g),QE(this,b,f))},a)),a.j=d}function IN(a,d){let f=new ks;if(c.Image){let g=new Image;g.onload=y(sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(sr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(sr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function wN(a,d){let f=new ks,g=new AbortController,b=setTimeout(()=>{g.abort(),sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?sr(f,"TestPingServer: ok",!0,d):sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),sr(f,"TestPingServer: error",!1,d)})}function sr(a,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function DN(){this.g=new oN}function TN(a,d,f){let g=f||"";try{HE(a,function(b,S){let k=b;l(b)&&(k=zh(b)),d.push(g+S+"="+encodeURIComponent(k))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Ls(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ls,Gh),Ls.prototype.g=function(){return new qc(this.l,this.j)},Ls.prototype.i=function(a){return function(){return a}}({});function qc(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(qc,Je),t=qc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Bs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;YE(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function YE(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?js(this):Bs(this),this.readyState==3&&YE(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,js(this))},t.Qa=function(a){this.g&&(this.response=a,js(this))},t.ga=function(){this.g&&js(this)};function js(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Bs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Bs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ZE(a){let d="";return he(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function nf(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ZE(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ee(a,d,f))}function Ae(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ae,Je);var bN=/^https?$/i,CN=["POST","PUT"];t=Ae.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qh.g(),this.v=this.o?CE(this.o):CE(Qh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){JE(this,S);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(CN,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tI(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){JE(this,S)}};function JE(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,XE(a),zc(a)}function XE(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zc(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eI(this):this.bb())},t.bb=function(){eI(this)};function eI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||xn(a)!=4||a.Z()!=2)){if(a.u&&xn(a)==4)wE(a.Ea,0,a);else if(lt(a,"readystatechange"),xn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var b=String(a.D).match(qE)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!bN.test(b?b.toLowerCase():"")}f=g}if(f)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var S=2<xn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",XE(a)}}finally{zc(a)}}}}function zc(a,d){if(a.g){tI(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||lt(a,"ready");try{f.onreadystatechange=g}catch{}}}function tI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function xn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),iN(d)}};function nI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function AN(a){let d={};a=(a.g&&2<=xn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(q(a[g]))continue;var f=T(a[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function rI(a){this.Aa=0,this.i=[],this.j=new ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,a),this.cb=Us("retryDelaySeedMs",1e4,a),this.Wa=Us("forwardChannelMaxRetries",2,a),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new LE(a&&a.concurrentRequestLimit),this.Da=new DN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rI.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){dt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=hI(this,null,this.W),Wc(this)};function rf(a){if(iI(a),a.G==3){var d=a.U++,f=kn(a.I);if(Ee(f,"SID",a.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),$s(a,f),d=new ir(a,a.j,d),d.L=2,d.v=Hc(kn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=fI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Bc(d)}dI(a)}function Gc(a){a.g&&(sf(a),a.g.cancel(),a.g=null)}function iI(a){Gc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Kc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Wc(a){if(!jE(a.h)&&!a.s){a.s=!0;var d=a.Ga;bs||mE(),Cs||(bs(),Cs=!0),Fh.add(d,a),a.B=0}}function SN(a,d){return BE(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ps(m(a.Ga,a,d),lI(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new ir(this,this.j,a),S=this.o;if(this.S&&(S?(S=_(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=sI(this,b,d),f=kn(this.I),Ee(f,"RID",a),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),$s(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(ZE(S)))+"&"+d:this.m&&nf(f,this.m,S)),tf(this.h,b),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),b.T=!0,Zh(b,f,null)):Zh(b,f,d),this.G=2}}else this.G==3&&(a?oI(this,a):this.i.length==0||jE(this.h)||oI(this))};function oI(a,d){var f;d?f=d.l:f=a.U++;let g=kn(a.I);Ee(g,"SID",a.K),Ee(g,"RID",f),Ee(g,"AID",a.T),$s(a,g),a.m&&a.o&&nf(g,a.m,a.o),f=new ir(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=sI(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),tf(a.h,f),Zh(f,g,d)}function $s(a,d){a.H&&he(a.H,function(f,g){Ee(d,g,f)}),a.l&&HE({},function(f,g){Ee(d,g,f)})}function sI(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=b[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let ye=!0;for(let We=0;We<f;We++){let ce=b[We].g,Xe=b[We].map;if(ce-=S,0>ce)S=Math.max(0,b[We].g-100),ye=!1;else try{TN(Xe,k,"req"+ce+"_")}catch{g&&g(Xe)}}if(ye){g=k.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function aI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;bs||mE(),Cs||(bs(),Cs=!0),Fh.add(d,a),a.v=0}}function of(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ps(m(a.Fa,a),lI(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,cI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ps(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Gc(this),cI(this))};function sf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function cI(a){a.g=new ir(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=kn(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),$s(a,d),a.m&&a.o&&nf(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Hc(kn(d)),f.m=null,f.P=!0,OE(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),of(this),dt(19))};function Kc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function uI(a,d){var f=null;if(a.g==d){Kc(a),sf(a),a.g=null;var g=2}else if(ef(a.h,d))f=d.D,UE(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Vc(),lt(g,new ME(g,f)),Wc(a)}else aI(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&SN(a,d)||g==2&&of(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:Yr(a,5);break;case 4:Yr(a,10);break;case 3:Yr(a,6);break;default:Yr(a,2)}}}function lI(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Yr(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let b=!g;g=new Qr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Uc(g,"https"),Hc(g),b?IN(g.toString(),f):wN(g.toString(),f)}else dt(2);a.G=0,a.l&&a.l.sa(d),dI(a),iI(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function dI(a){if(a.G=0,a.ka=[],a.l){let d=$E(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function hI(a,d,f){var g=f instanceof Qr?kn(f):new Qr(f);if(g.g!="")d&&(g.g=d+"."+g.g),$c(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Qr(null);g&&Uc(S,g),d&&(S.g=d),b&&$c(S,b),f&&(S.l=f),g=S}return f=a.D,d=a.ya,f&&d&&Ee(g,f,d),Ee(g,"VER",a.la),$s(a,g),g}function fI(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ae(new Ls({eb:f})):new Ae(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pI(){}t=pI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qc(){}Qc.prototype.g=function(a,d){return new Dt(a,d)};function Dt(a,d){Je.call(this),this.g=new rI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new no(this)}A(Dt,Je),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){rf(this.g)},Dt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=zh(a),a=f);d.i.push(new dN(d.Ya++,a)),d.G==3&&Wc(d)},Dt.prototype.N=function(){this.g.l=null,delete this.j,rf(this.g),delete this.g,Dt.aa.N.call(this)};function gI(a){Wh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(gI,Wh);function mI(){Kh.call(this),this.status=1}A(mI,Kh);function no(a){this.g=a}A(no,pI),no.prototype.ua=function(){lt(this.g,"a")},no.prototype.ta=function(a){lt(this.g,new gI(a))},no.prototype.sa=function(a){lt(this.g,new mI)},no.prototype.ra=function(){lt(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,Xm=Gn.createWebChannelTransport=function(){return new Qc},Jm=Gn.getStatEventTarget=function(){return Vc()},Zm=Gn.Event=Wr,fd=Gn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,Xa=Gn.ErrorCode=Lc,PE.COMPLETE="complete",Ym=Gn.EventType=PE,AE.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Ko=Gn.WebChannel=AE,yL=Gn.FetchXmlHttpFactory=Ls,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,Qm=Gn.XhrIo=Ae}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});var ZC="@firebase/firestore",JC="4.8.0";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var gs="11.10.0";var Li=new In("@firebase/firestore");function Qo(){return Li.logLevel}function F(t,...e){if(Li.logLevel<=ne.DEBUG){let n=e.map(qv);Li.debug(`Firestore (${gs}): ${t}`,...n)}}function Wn(t,...e){if(Li.logLevel<=ne.ERROR){let n=e.map(qv);Li.error(`Firestore (${gs}): ${t}`,...n)}}function Mr(t,...e){if(Li.logLevel<=ne.WARN){let n=e.map(qv);Li.warn(`Firestore (${gs}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HA(t,r,n)}function HA(t,e,n){let r=`FIRESTORE (${gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wn(r),new Error(r)}function de(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HA(e,i,r)}function G(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends At{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ed=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},oy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},sy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ay=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new Ed(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new qe(e)}},cy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},uy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new cy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Id=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ly=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Id(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Id(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function qA(){return new TextEncoder}var oc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=vL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function X(t,e){return t<e?-1:t>e?1:0}function dy(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return X(r,i);{let o=qA(),s=_L(o.encode(XC(t,n)),o.encode(XC(e,n)));return s!==0?s:X(r,i)}}n+=r>65535?2:1}return X(t.length,e.length)}function XC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function _L(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return X(t[n],e[n]);return X(t.length,e.length)}function rs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var eA="__name__",wd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&U(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return X(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):dy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zn.fromString(e.substring(4,e.length-2))}},Ce=class t extends wd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new x(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},EL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rt=class t extends wd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return EL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eA}static keyField(){return new t([eA])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new x(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new x(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new x(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new x(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var L=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ce.fromString(e))}static fromName(e){return new t(Ce.fromString(e).popFirst(5))}static empty(){return new t(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ce(e.slice()))}};function zA(t,e,n){if(!n)throw new x(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IL(t,e,n,r){if(e===!0&&r===!0)throw new x(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tA(t){if(!L.isDocumentKey(t))throw new x(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nA(t){if(L.isDocumentKey(t))throw new x(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U(12329,{type:typeof t})}function Ut(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ih(t);throw new x(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wL(t,e){if(e<=0)throw new x(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Le(t,e){let n={typeString:t};return e&&(n.value=e),n}function mc(t,e){if(!GA(t))throw new x(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new x(R.INVALID_ARGUMENT,n);return!0}var rA=-62135596800,iA=1e6,je=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iA);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rA)throw new x(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iA}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-rA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:Le("string",je._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};var K=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new je(0,0))}static max(){return new t(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sc=-1,hy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};hy.UNKNOWN_ID=-1;function DL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new ji(i,L.empty(),e)}function TL(t){return new ji(t.readTime,t.key,sc)}var ji=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(K.min(),L.empty(),sc)}static max(){return new t(K.max(),L.empty(),sc)}};function bL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:X(t.largestBatchId,e.largestBatchId))}var CL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ms(t){return v(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==CL)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function AL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ys(t){return t.name==="IndexedDbTransactionError"}var zv=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Gv=-1;function oh(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function SL(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var WA="";function RL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oA(e)),e=NL(t.get(n),e);return oA(e)}function NL(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case WA:n+="";break;default:n+=o}}return n}function oA(t){return t+WA+""}var ML="remoteDocuments",KA="owner";var QA="mutationQueues";var YA="mutations";var ZA="documentMutations",PL="remoteDocumentsV14";var JA="remoteDocumentGlobal";var XA="targets";var eS="targetDocuments";var tS="targetGlobal",nS="collectionParents";var rS="clientMetadata";var iS="bundles";var oS="namedQueries";var kL="indexConfiguration";var xL="indexState";var OL="indexEntries";var sS="documentOverlays";var FL="globals";var VL=[QA,YA,ZA,ML,XA,KA,tS,eS,rS,JA,nS,iS,oS],SJ=[...VL,sS],LL=[QA,YA,ZA,PL,XA,KA,tS,eS,rS,JA,nS,iS,oS,sS],jL=LL,BL=[...jL,kL,xL,OL];var RJ=[...BL,FL];function sA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ne=class t{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xo(this.root,e,this.comparator,!0)}},Xo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw U(43730,{key:this.key,value:this.value});if(this.right.isRed())throw U(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw U(27949);return e+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw U(57766)}get value(){throw U(16141)}get color(){throw U(16727)}get left(){throw U(29726)}get right(){throw U(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ze=class t{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dd(this.data.getIterator())}getIteratorFrom(e){return new Dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Dd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Bt=class t{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ze(Rt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Td=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Td("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var UL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kn(t){if(de(!!t,39018),typeof t=="string"){let e=0,n=UL.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qn(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}var cS="server_timestamp",uS="__type__",lS="__previous_value__",dS="__local_write_time__";function Wv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uS])===null||n===void 0?void 0:n.stringValue)===cS}function sh(t){let e=t.mapValue.fields[lS];return Wv(e)?sh(e):e}function cc(t){let e=Kn(t.mapValue.fields[dS].timestampValue);return new je(e.seconds,e.nanos)}var py=class{constructor(e,n,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},bd="(default)",Cd=class t{constructor(e,n){this.projectId=e,this.database=n||bd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===bd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Kv="__type__",hS="__max__",pd={mapValue:{fields:{__type__:{stringValue:hS}}}},Qv="__vector__",is="value";function Pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wv(t)?4:pS(t)?9007199254740991:fS(t)?10:11:U(28295,{value:t})}function Cn(t,e){if(t===e)return!0;let n=Pr(t);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kn(i.timestampValue),c=Kn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qn(i.bytesValue).isEqual(Qn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=be(i.doubleValue),c=be(o.doubleValue);return s===c?ac(s)===ac(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return rs(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(sA(s)!==sA(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Cn(s[u],c[u])))return!1;return!0}(t,e);default:return U(52216,{left:t})}}function uc(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function os(t,e){if(t===e)return 0;let n=Pr(t),r=Pr(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=be(o.integerValue||o.doubleValue),u=be(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return aA(t.timestampValue,e.timestampValue);case 4:return aA(cc(t),cc(e));case 5:return dy(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Qn(o),u=Qn(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=X(c[l],u[l]);if(h!==0)return h}return X(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=X(be(o.latitude),be(s.latitude));return c!==0?c:X(be(o.longitude),be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[is])===null||c===void 0?void 0:c.arrayValue,A=(u=m[is])===null||u===void 0?void 0:u.arrayValue,M=X(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:cA(y,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===pd.mapValue&&s===pd.mapValue)return 0;if(o===pd.mapValue)return 1;if(s===pd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=dy(u[p],h[p]);if(m!==0)return m;let y=os(c[u[p]],l[h[p]]);if(y!==0)return y}return X(u.length,h.length)}(t.mapValue,e.mapValue);default:throw U(23264,{le:n})}}function aA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return X(t,e);let n=Kn(t),r=Kn(e),i=X(n.seconds,r.seconds);return i!==0?i:X(n.nanos,r.nanos)}function cA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=os(n[i],r[i]);if(o)return o}return X(n.length,r.length)}function ss(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Kn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return L.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=gy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${gy(n.fields[s])}`;return i+"}"}(t.mapValue):U(61005,{value:t})}function yd(t){switch(Pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=sh(t);return e?16+yd(e):16;case 5:return 2*t.stringValue.length;case 6:return Qn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+yd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return jr(r.fields,(o,s)=>{i+=o.length+yd(s)}),i}(t.mapValue);default:throw U(13486,{value:t})}}function uA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function my(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function lA(t){return!!t&&"nullValue"in t}function dA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function fS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kv])===null||n===void 0?void 0:n.stringValue)===Qv}function tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return jr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hS}var MJ={mapValue:{fields:{[Kv]:{stringValue:Qv},[is]:{arrayValue:{}}}}};var St=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=tc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(tc(this.value))}};function gS(t){let e=[];return jr(t.fields,(n,r)=>{let i=new Rt([n]);if(vd(r)){let o=gS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Bt(e)}var on=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,K.min(),K.min(),K.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,K.min(),K.min(),St.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,K.min(),K.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var as=class{constructor(e,n){this.position=e,this.inclusive=n}};function hA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=L.comparator(L.fromName(s.referenceValue),n.key):r=os(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}var Bi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $L(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ad=class{},Ve=class t extends Ad{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vy(e,n,r):n==="array-contains"?new Iy(e,r):n==="in"?new wy(e,r):n==="not-in"?new Dy(e,r):n==="array-contains-any"?new Ty(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _y(e,r):new Ey(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(os(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sn=class t extends Ad{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return mS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function mS(t){return t.op==="and"}function yS(t){return HL(t)&&mS(t)}function HL(t){for(let e of t.filters)if(e instanceof sn)return!1;return!0}function yy(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+ss(t.value);if(yS(t))return t.filters.map(e=>yy(e)).join(",");{let e=t.filters.map(n=>yy(n)).join(",");return`${t.op}(${e})`}}function vS(t,e){return t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&Cn(r.value,i.value)}(t,e):t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&vS(s,i.filters[c]),!0):!1}(t,e):void U(19439)}function _S(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${ss(n.value)}`}(t):t instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(_S).join(" ,")+"}"}(t):"Filter"}var vy=class extends Ve{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){let n=L.comparator(e.key,this.key);return this.matchesComparison(n)}},_y=class extends Ve{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ey=class extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ES(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}var Iy=class extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Yv(n)&&uc(n.arrayValue,this.value)}},wy=class extends Ve{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}},Dy=class extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}},Ty=class extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}};var by=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function pA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new by(t,e,n,r,i,o,s)}function Zv(t){let e=G(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ss(r)).join(",")),e.Pe=n}return e.Pe}function Jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$L(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fA(t.startAt,e.startAt)&&fA(t.endAt,e.endAt)}function Cy(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var kr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function qL(t,e,n,r,i,o,s,c){return new kr(t,e,n,r,i,o,s,c)}function Xv(t){return new kr(t)}function gA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IS(t){return t.collectionGroup!==null}function nc(t){let e=G(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new ze(Rt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Bi(o,r))}),n.has(Rt.keyField().canonicalString())||e.Te.push(new Bi(Rt.keyField(),r))}return e.Te}function Tn(t){let e=G(t);return e.Ie||(e.Ie=zL(e,nc(t))),e.Ie}function zL(t,e){if(t.limitType==="F")return pA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Bi(i.field,o)});let n=t.endAt?new as(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new as(t.startAt.position,t.startAt.inclusive):null;return pA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ay(t,e){let n=t.filters.concat([e]);return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sd(t,e,n){return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ah(t,e){return Jv(Tn(t),Tn(e))&&t.limitType===e.limitType}function wS(t){return`${Zv(Tn(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_S(i)).join(", ")}]`),oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ss(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ss(i)).join(",")),`Target(${r})`}(Tn(t))}; limitType=${t.limitType})`}function ch(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):L.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=hA(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,nc(r),i)||r.endAt&&!function(s,c,u){let l=hA(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,nc(r),i))}(t,e)}function GL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DS(t){return(e,n)=>{let r=!1;for(let i of nc(t)){let o=WL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function WL(t,e,n){let r=t.field.isKeyField()?L.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?os(u,l):U(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U(19790,{direction:t.dir})}}var Yn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return aS(this.inner)}size(){return this.innerSize}};var KL=new Ne(L.comparator);function Zn(){return KL}var TS=new Ne(L.comparator);function ec(...t){let e=TS;for(let n of t)e=e.insert(n.key,n);return e}function bS(t){let e=TS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return rc()}function CS(){return rc()}function rc(){return new Yn(t=>t.toString(),(t,e)=>t.isEqual(e))}var QL=new Ne(L.comparator),YL=new ze(L.comparator);function ie(...t){let e=YL;for(let n of t)e=e.add(n);return e}var ZL=new ze(X);function JL(){return ZL}function e_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function XL(t,e){return SL(e)?AS(e):e_(t,e)}var cs=class{constructor(){this._=void 0}};function e2(t,e,n){return t instanceof us?function(i,o){let s={fields:{[uS]:{stringValue:cS},[dS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Wv(o)&&(o=sh(o)),o&&(s.fields[lS]=o),{mapValue:s}}(n,e):t instanceof xr?RS(t,e):t instanceof Or?NS(t,e):function(i,o){let s=SS(i,o),c=mA(s)+mA(i.Ee);return my(s)&&my(i.Ee)?AS(c):e_(i.serializer,c)}(t,e)}function t2(t,e,n){return t instanceof xr?RS(t,e):t instanceof Or?NS(t,e):n}function SS(t,e){return t instanceof ls?function(r){return my(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var us=class extends cs{},xr=class extends cs{constructor(e){super(),this.elements=e}};function RS(t,e){let n=MS(e);for(let r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Or=class extends cs{constructor(e){super(),this.elements=e}};function NS(t,e){let n=MS(e);for(let r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}var ls=class extends cs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function mA(t){return be(t.integerValue||t.doubleValue)}function MS(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rd=class{constructor(e,n){this.field=e,this.transform=n}};function n2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xr&&i instanceof xr||r instanceof Or&&i instanceof Or?rs(r.elements,i.elements,Cn):r instanceof ls&&i instanceof ls?Cn(r.Ee,i.Ee):r instanceof us&&i instanceof us}(t.transform,e.transform)}var Sy=class{constructor(e,n){this.version=e,this.transformResults=n}},Nt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ds=class{};function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hs(t.key,Nt.none()):new Ui(t.key,t.data,Nt.none());{let n=t.data,r=St.empty(),i=new ze(Rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new An(t.key,r,new Bt(i.toArray()),Nt.none())}}function r2(t,e,n){t instanceof Ui?function(i,o,s){let c=i.value.clone(),u=vA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof An?function(i,o,s){if(!_d(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=vA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(kS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Ui?function(o,s,c,u){if(!_d(o.precondition,s))return c;let l=o.value.clone(),h=_A(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof An?function(o,s,c,u){if(!_d(o.precondition,s))return c;let l=_A(o.fieldTransforms,u,s),h=s.data;return h.setAll(kS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return _d(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function i2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=SS(r.transform,i||null);o!=null&&(n===null&&(n=St.empty()),n.set(r.field,o))}return n||null}function yA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rs(r,i,(o,s)=>n2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ui=class extends ds{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},An=class extends ds{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function kS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function vA(t,e,n){let r=new Map;de(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,t2(s,c,n[i]))}return r}function _A(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,e2(o,s,e))}return r}var hs=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ry=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ny=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&r2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=CS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=PS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(n,r)=>yA(n,r))&&rs(this.baseMutations,e.baseMutations,(n,r)=>yA(n,r))}},My=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return QL}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Py=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ky=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Oe,ae;function o2(t){switch(t){case R.OK:return U(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return U(15467,{code:t})}}function xS(t){if(t===void 0)return Wn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Oe.OK:return R.OK;case Oe.CANCELLED:return R.CANCELLED;case Oe.UNKNOWN:return R.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return R.INTERNAL;case Oe.UNAVAILABLE:return R.UNAVAILABLE;case Oe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Oe.NOT_FOUND:return R.NOT_FOUND;case Oe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Oe.ABORTED:return R.ABORTED;case Oe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Oe.DATA_LOSS:return R.DATA_LOSS;default:return U(39323,{code:t})}}(ae=Oe||(Oe={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";var EA=null;var s2=new zn([4294967295,4294967295],0);function IA(t){let e=qA().encode(t),n=new Km;return n.update(e),new Uint8Array(n.digest())}function wA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zn([n,r],0),new zn([i,o],0)]}var xy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oi(`Invalid padding: ${n}`);if(r<0)throw new Oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oi(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=zn.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(zn.fromNumber(r)));return i.compare(s2)===1&&(i=new zn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=IA(e),[r,i]=wA(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=IA(e),[r,i]=wA(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Oi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(K.min(),i,new Ne(X),Zn(),ie())}},lc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ie(),ie(),ie())}};var es=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Md=class{constructor(e,n){this.targetId=e,this.De=n}},Pd=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},kd=class{constructor(){this.ve=0,this.Ce=DA(),this.Fe=ct.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ie(),n=ie(),r=ie();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U(38017,{changeType:o})}}),new lc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=DA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Oy=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Zn(),this.je=gd(),this.Je=gd(),this.He=new Ne(X)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:U(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(Cy(o))if(r===0){let s=new L(o.path);this.Xe(n,s,on.newNoDocument(s,K.min()))}else de(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}EA?.ct(function(h,p,m,y,A){var M,N,O,q,Y,me;let ut={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},he=p.unchangedNames;return he&&(ut.bloomFilter={applied:A===0,hashCount:(M=he?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(q=(O=(N=he?.bits)===null||N===void 0?void 0:N.bitmap)===null||O===void 0?void 0:O.length)!==null&&q!==void 0?q:0,padding:(me=(Y=he?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&me!==void 0?me:0,mightContain:D=>{var _;return(_=y?.mightContain(D))!==null&&_!==void 0&&_}}),ut}(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Qn(r).toUint8Array()}catch(u){if(u instanceof Td)return Mr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new xy(s,i,o)}catch(u){return Mr(u instanceof Oi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&Cy(c.target)){let u=new L(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,on.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ie();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Nd(e,n,this.He,this.ze,r);return this.ze=Zn(),this.je=gd(),this.Je=gd(),this.He=new Ne(X),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new kd,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ze(X),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ze(X),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kd),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function gd(){return new Ne(L.comparator)}function DA(){return new Ne(L.comparator)}var a2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u2={and:"AND",or:"OR"},Fy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Vy(t,e){return t.useProto3Json||oh(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l2(t,e){return xd(t,e.toTimestamp())}function bn(t){return de(!!t,49232),K.fromTimestamp(function(n){let r=Kn(n);return new je(r.seconds,r.nanos)}(t))}function t_(t,e){return Ly(t,e).canonicalString()}function Ly(t,e){let n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FS(t){let e=Ce.fromString(t);return de(US(e),10190,{key:e.toString()}),e}function jy(t,e){return t_(t.databaseId,e.path)}function ey(t,e){let n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new x(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(LS(n))}function VS(t,e){return t_(t.databaseId,e)}function d2(t){let e=FS(t);return e.length===4?Ce.emptyPath():LS(e)}function By(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LS(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TA(t,e,n){return{name:jy(t,e),fields:n.value.mapValue.fields}}function h2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:U(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(de(h===void 0||typeof h=="string",58123),ct.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?R.UNKNOWN:xS(l.code);return new x(h,l.message||"")}(s);n=new Pd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ey(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):K.min(),c=new St({mapValue:{fields:r.document.fields}}),u=on.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new es(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ey(t,r.document),o=r.readTime?bn(r.readTime):K.min(),s=on.newNoDocument(i,o),c=r.removedTargetIds||[];n=new es([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ey(t,r.document),o=r.removedTargetIds||[];n=new es([],o,i,null)}else{if(!("filter"in e))return U(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ky(i,o),c=r.targetId;n=new Md(c,s)}}return n}function f2(t,e){let n;if(e instanceof Ui)n={update:TA(t,e.key,e.value)};else if(e instanceof hs)n={delete:jy(t,e.key)};else if(e instanceof An)n={update:TA(t,e.key,e.data),updateMask:w2(e.fieldMask)};else{if(!(e instanceof Ry))return U(16599,{Rt:e.type});n={verify:jy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof us)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Or)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ls)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw U(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:l2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:U(27497)}(t,e.precondition)),n}function p2(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual(K.min())&&(s=bn(o)),new Sy(s,i.transformResults||[])}(n,e))):[]}function g2(t,e){return{documents:[VS(t,e.path)]}}function m2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VS(t,i);let o=function(l){if(l.length!==0)return BS(sn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Zo(m.field),direction:_2(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Vy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function y2(t){let e=d2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){de(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=jS(p);return m instanceof sn&&yS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new Bi(Jo(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,oh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new as(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new as(y,m)}(n.endAt)),qL(e,i,s,o,c,"F",u,l)}function v2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Jo(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Jo(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Jo(n.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Jo(n.unaryFilter.field);return Ve.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return U(61313);default:return U(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Jo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return U(58110);default:return U(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(r=>jS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U(1026)}}(n.compositeFilter.op))}(t):U(30097,{filter:t})}function _2(t){return a2[t]}function E2(t){return c2[t]}function I2(t){return u2[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return Rt.fromServerFormat(t.fieldPath)}function BS(t){return t instanceof Ve?function(n){if(n.op==="=="){if(dA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(lA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(lA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:E2(n.op),value:n.value}}}(t):t instanceof sn?function(n){let r=n.getFilters().map(i=>BS(i));return r.length===1?r[0]:{compositeFilter:{op:I2(n.op),filters:r}}}(t):U(54877,{filter:t})}function w2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function US(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dc=class t{constructor(e,n,r,i,o=K.min(),s=K.min(),c=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Uy=class{constructor(e){this.gt=e}};function D2(t){let e=y2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sd(e,e.limit,"L"):e}var Od=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),ac(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Kn(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Qn(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?pS(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):fS(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):U(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=is,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(be(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),L.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Od.Ut=new Od;var $y=class{constructor(){this.Dn=new Hy}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ji.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Hy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(Ce.comparator)).toArray()}};var PJ=new Uint8Array(0);var bA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040,jt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt($S,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);var hc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var CA="LruGarbageCollector",T2=1048576;function AA([t,e],[n,r]){let i=X(t,n);return i===0?X(e,r):i}var qy=class{constructor(e){this.Tr=e,this.buffer=new ze(AA),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();AA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},zy=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(CA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ys(n)?F(CA,"Ignoring IndexedDB error during garbage collection: ",n):yield ms(n)}yield this.Rr(3e5)}))}},Gy=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(zv.ue);let r=new qy(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(bA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bA):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Qo()<=ne.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function b2(t,e){return new Gy(t,e)}var Wy=class{constructor(){this.changes=new Yn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ky=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Qy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ic(r.mutation,i,Bt.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ec();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Zn(),s=rc(),c=function(){return rc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof An)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ic(h.mutation,l,h.mutation.getFieldMask(),je.now())):s.set(l.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Ky(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=rc(),i=new Ne((s,c)=>s-c),o=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Bt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ie()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=CS();h.forEach(m=>{if(!o.has(m)){let y=PS(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return L.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(xi()),c=sc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ie())).next(h=>({batchId:c,changes:bS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ec();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=function(p,m){return new kr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,on.newInvalidDocument(h)))});let c=ec();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ic(h.mutation,l,Bt.empty(),je.now()),ch(n,l)&&(c=c.insert(u,l))}),c})}};var Yy=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:D2(i.bundledQuery),readTime:bn(i.readTime)}}(n)),P.resolve()}};var Zy=class{constructor(){this.overlays=new Ne(L.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=xi(),o=n.length+1,s=new L(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ne((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Py(n,r));let o=this.kr.get(n);o===void 0&&(o=ie(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var Jy=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var fc=class{constructor(){this.qr=new ze(Fe.Qr),this.$r=new ze(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Fe(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Fe(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new L(new Ce([])),r=new Fe(n,e),i=new Fe(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new L(new Ce([])),r=new Fe(n,e),i=new Fe(n,e+1),o=ie();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Fe(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return L.comparator(e.key,n.key)||X(e.Hr,n.Hr)}static Ur(e,n){return X(e.Hr,n.Hr)||L.comparator(e.key,n.key)}};var Xy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ze(Fe.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ny(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Gv:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(X);return n.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;L.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new L(o),0),c=new ze(X);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Fe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Fe(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ev=class{constructor(e){this.ni=e,this.docs=function(){return new Ne(L.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zn(),s=n.path,c=new L(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||bL(TL(h),r)<=0||(i.has(h.key)||ch(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){U(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tv(this)}getSize(e){return P.resolve(this.size)}},tv=class extends Wy{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var nv=class{constructor(e){this.persistence=e,this.ii=new Yn(n=>Zv(n),Jv),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.si=0,this.oi=new fc,this.targetCount=0,this._i=hc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new hc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var Fd=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new zv(0),this.ci=!1,this.ci=!0,this.li=new Jy,this.referenceDelegate=e(this),this.hi=new nv(this),this.indexManager=new $y,this.remoteDocumentCache=function(i){return new ev(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Uy(n),this.Ti=new Yy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Xy(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new rv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},rv=class extends fy{constructor(e){super(),this.currentSequenceNumber=e}},iv=class t{constructor(e){this.persistence=e,this.Ai=new fc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw U(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=L.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,K.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Vd=class t{constructor(e,n){this.persistence=e,this.gi=new Yn(r=>RL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=b2(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,K.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yd(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var ov=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ie(),i=ie();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var sv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var av=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return MC()?8:AL(He())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new sv;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Qo()<=ne.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Qo()<=ne.DEBUG&&F("QueryEngine","Query:",Yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Qo()<=ne.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(n))):P.resolve())}ps(e,n){if(gA(n))return P.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sd(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ie(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,Sd(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return gA(n)||i.isEqual(K.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Qo()<=ne.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yo(n)),this.vs(e,s,n,DL(i,sc)).next(c=>c))})}bs(e,n){let r=new ze(DS(e));return n.forEach((i,o)=>{ch(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Qo()<=ne.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.gs.getDocumentsMatchingQuery(e,n,ji.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var n_="LocalStore",C2=3e8,cv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ne(X),this.Ms=new Yn(o=>Zv(o),Jv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qy(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function A2(t,e,n,r){return new cv(t,e,n,r)}function HS(t,e){return v(this,null,function*(){let n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ie();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function S2(t,e){let n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(A=>{y=y.next(()=>h.getEntry(u,A)).next(M=>{let N=l.docVersions.get(A);de(N!==null,48541),M.version.compareTo(N)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ie();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qS(t){let e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function R2(t,e){let n=G(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ct.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,N,O){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=C2?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&c.push(n.hi.updateTargetData(o,y))});let u=Zn(),l=ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(N2(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(K.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function N2(t,e,n){let r=ie(),i=ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(K.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F(n_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function M2(t,e){let n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P2(t,e){let n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new dc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function uv(t,e,n){return v(this,null,function*(){let r=G(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ys(s))throw s;F(n_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function SA(t,e,n){let r=G(t),i=K.min(),o=ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=G(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Tn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:K.min(),n?o:ie())).next(c=>(k2(r,GL(e),c),{documents:c,qs:o})))}function k2(t,e,n){let r=t.xs.get(e)||K.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Ld=class{constructor(){this.activeTargetIds=JL()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lv=class{constructor(){this.Fo=new Ld,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ld,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dv=class{xo(e){}shutdown(){}};var RA="ConnectivityMonitor",jd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F(RA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F(RA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var md=null;function hv(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}var ty="RestConnection",x2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},fv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===bd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=hv(),c=this.Go(e,n.toUriEncodedString());F(ty,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=Tr(l);return this.jo(e,c,u,r,h).then(p=>(F(ty,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Mr(ty,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=x2[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var pv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var at="WebChannelConnection",gv=class extends fv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=hv();return new Promise((c,u)=>{let l=new Qm;l.setWithCredentials(!0),l.listenOnce(Ym.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xa.NO_ERROR:let p=l.getResponseJson();F(at,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Xa.TIMEOUT:F(at,`RPC '${e}' ${s} timed out`),u(new x(R.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:let m=l.getStatus();if(F(at,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let M=function(O){let q=O.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(q)>=0?q:R.UNKNOWN}(A.status);u(new x(M,A.message))}else u(new x(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new x(R.UNAVAILABLE,"Connection failed."));break;default:U(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{F(at,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(at,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=hv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xm(),c=Jm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(at,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,A=new pv({Ho:N=>{y?F(at,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(F(at,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(at,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),M=(N,O,q)=>{N.listen(O,Y=>{try{q(Y)}catch(me){setTimeout(()=>{throw me},0)}})};return M(p,Ko.EventType.OPEN,()=>{y||(F(at,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),M(p,Ko.EventType.CLOSE,()=>{y||(y=!0,F(at,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(p))}),M(p,Ko.EventType.ERROR,N=>{y||(y=!0,Mr(at,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),A.__(new x(R.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ko.EventType.MESSAGE,N=>{var O;if(!y){let q=N.data[0];de(!!q,16349);let Y=q,me=Y?.error||((O=Y[0])===null||O===void 0?void 0:O.error);if(me){F(at,`RPC '${e}' stream ${i} received error:`,me);let ut=me.status,he=function(I){let w=Oe[I];if(w!==void 0)return xS(w)}(ut),D=me.message;he===void 0&&(he=R.INTERNAL,D="Unknown error status: "+ut+" with message "+me.message),y=!0,A.__(new x(he,D)),p.close()}else F(at,`RPC '${e}' stream ${i} received:`,q),A.a_(q)}}),M(c,Zm.STAT_EVENT,N=>{N.stat===fd.PROXY?F(at,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===fd.NOPROXY&&F(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function ny(){return typeof document<"u"?document:null}function uh(t){return new Fy(t,!0)}var Bd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var NA="PersistentStream",Ud=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Bd(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new x(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return F(NA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(F(NA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},mv=class extends Ud{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=h2(this.serializer,e),r=function(o){if(!("targetChange"in o))return K.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?bn(s.readTime):K.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=By(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=Cy(u)?{documents:g2(o,u)}:{query:m2(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=OS(o,s.resumeToken);let l=Vy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(K.min())>0){c.readTime=xd(o,s.snapshotVersion.toTimestamp());let l=Vy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=v2(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=By(this.serializer),n.removeTarget=e,this.k_(n)}},yv=class extends Ud{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=p2(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=By(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>f2(this.serializer,r))};this.k_(n)}};var vv=class{},_v=class extends vv{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new x(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Ly(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(R.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,Ly(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(R.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Ev=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Wn(n),this._a=!1):F("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var $i="RemoteStore",Iv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){zi(this)&&(F($i,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=G(u);l.Ia.add(4),yield yc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield lh(l)})}(this))}))}),this.Aa=new Ev(r,i)}};function lh(t){return v(this,null,function*(){if(zi(t))for(let e of t.da)yield e(!0)})}function yc(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function zS(t,e){let n=G(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),s_(n)?o_(n):vs(n).x_()&&i_(n,e))}function r_(t,e){let n=G(t),r=vs(n);n.Ta.delete(e),r.x_()&&GS(n,e),n.Ta.size===0&&(r.x_()?r.B_():zi(n)&&n.Aa.set("Unknown"))}function i_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vs(t).H_(e)}function GS(t,e){t.Ra.$e(e),vs(t).Y_(e)}function o_(t){t.Ra=new Oy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),vs(t).start(),t.Aa.aa()}function s_(t){return zi(t)&&!vs(t).M_()&&t.Ta.size>0}function zi(t){return G(t).Ia.size===0}function WS(t){t.Ra=void 0}function O2(t){return v(this,null,function*(){t.Aa.set("Online")})}function F2(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{i_(t,e)})})}function V2(t,e){return v(this,null,function*(){WS(t),s_(t)?(t.Aa.la(e),o_(t)):t.Aa.set("Unknown")})}function L2(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof Pd&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})}(t,e)}catch(r){F($i,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $d(t,r)}else if(e instanceof es?t.Ra.Ye(e):e instanceof Md?t.Ra.it(e):t.Ra.et(e),!n.isEqual(K.min()))try{let r=yield qS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),GS(o,u);let p=new dc(h.target,u,l,h.sequenceNumber);i_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){F($i,"Failed to raise snapshot:",r),yield $d(t,r)}})}function $d(t,e,n){return v(this,null,function*(){if(!ys(e))throw e;t.Ia.add(1),yield yc(t),t.Aa.set("Offline"),n||(n=()=>qS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){F($i,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield lh(t)}))})}function KS(t,e){return e().catch(n=>$d(t,n,e))}function dh(t){return v(this,null,function*(){let e=G(t),n=Fr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gv;for(;j2(e);)try{let i=yield M2(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,B2(e,i)}catch(i){yield $d(e,i)}QS(e)&&YS(e)})}function j2(t){return zi(t)&&t.Pa.length<10}function B2(t,e){t.Pa.push(e);let n=Fr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function QS(t){return zi(t)&&!Fr(t).M_()&&t.Pa.length>0}function YS(t){Fr(t).start()}function U2(t){return v(this,null,function*(){Fr(t).na()})}function $2(t){return v(this,null,function*(){let e=Fr(t);for(let n of t.Pa)e.X_(n.mutations)})}function H2(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=My.from(r,e,n);yield KS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield dh(t)})}function q2(t,e){return v(this,null,function*(){e&&Fr(t).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return o2(s)&&s!==R.ABORTED}(i.code)){let o=r.Pa.shift();Fr(r).N_(),yield KS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield dh(r)}})}(t,e)),QS(t)&&YS(t)})}function MA(t,e){return v(this,null,function*(){let n=G(t);n.asyncQueue.verifyOperationInProgress(),F($i,"RemoteStore received new credentials");let r=zi(n);n.Ia.add(3),yield yc(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield lh(n)})}function z2(t,e){return v(this,null,function*(){let n=G(t);e?(n.Ia.delete(2),yield lh(n)):e||(n.Ia.add(2),yield yc(n),n.Aa.set("Unknown"))})}function vs(t){return t.Va||(t.Va=function(n,r,i){let o=G(n);return o.ia(),new mv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:O2.bind(null,t),e_:F2.bind(null,t),n_:V2.bind(null,t),J_:L2.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),s_(t)?o_(t):t.Aa.set("Unknown")):(yield t.Va.stop(),WS(t))}))),t.Va}function Fr(t){return t.ma||(t.ma=function(n,r,i){let o=G(n);return o.ia(),new yv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:U2.bind(null,t),n_:q2.bind(null,t),ea:$2.bind(null,t),ta:H2.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield dh(t)):(yield t.ma.stop(),t.Pa.length>0&&(F($i,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var wv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function a_(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),ys(t))return new x(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Hd=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var qd=class{constructor(){this.fa=new Ne(L.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):U(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},fs=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Hd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Dv=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Tv=class{constructor(){this.queries=PA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=G(n),o=i.queries;i.queries=PA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new x(R.ABORTED,"Firestore shutting down"))}};function PA(){return new Yn(t=>wS(t),ah)}function ZS(t,e){return v(this,null,function*(){let n=G(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Dv,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=a_(s,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&c_(n)})}function JS(t,e){return v(this,null,function*(){let n=G(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function G2(t,e){let n=G(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&c_(n)}function W2(t,e,n){let r=G(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function c_(t){t.Da.forEach(e=>{e.next()})}var bv,kA;(kA=bv||(bv={})).Fa="default",kA.Cache="cache";var zd=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new fs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==bv.Cache}};var Gd=class{constructor(e){this.key=e}},Wd=class{constructor(e){this.key=e}},Cv=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ie(),this.mutatedKeys=ie(),this.Xa=DS(e),this.eu=new Hd(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new qd,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ch(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?A!==M&&(r.track({type:3,doc:y}),N=!0):this.iu(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(c=!0)),N&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,A){let M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U(20277,{At:N})}};return M(y)-M(A)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new fs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new qd,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ie(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Wd(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Gd(r))}),n}uu(e){this.Ha=e.qs,this.Za=ie();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return fs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},u_="SyncEngine",Av=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Sv=class{constructor(e){this.key=e,this.lu=!1}},Rv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Yn(c=>wS(c),ah),this.Tu=new Map,this.Iu=new Set,this.du=new Ne(L.comparator),this.Eu=new Map,this.Au=new fc,this.Ru={},this.Vu=new Map,this.mu=hc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function K2(t,e,n=!0){return v(this,null,function*(){let r=i0(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield XS(r,e,n,!0),i})}function Q2(t,e){return v(this,null,function*(){let n=i0(t);yield XS(n,e,!0,!1)})}function XS(t,e,n,r){return v(this,null,function*(){let i=yield P2(t.localStore,Tn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield Y2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&zS(t.remoteStore,i),c})}function Y2(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,m,y)=>function(M,N,O,q){return v(this,null,function*(){let Y=N.view.nu(O);Y.Ds&&(Y=yield SA(M.localStore,N.query,!1).then(({documents:D})=>N.view.nu(D,Y)));let me=q&&q.targetChanges.get(N.targetId),ut=q&&q.targetMismatches.get(N.targetId)!=null,he=N.view.applyChanges(Y,M.isPrimaryClient,me,ut);return OA(M,N.targetId,he._u),he.snapshot})}(t,p,m,y);let o=yield SA(t.localStore,e,!0),s=new Cv(e,o.qs),c=s.nu(o.documents),u=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);OA(t,n,l._u);let h=new Av(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function Z2(t,e,n){return v(this,null,function*(){let r=G(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!ah(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&r_(r.remoteStore,i.targetId),Nv(r,i.targetId)}).catch(ms))):(Nv(r,i.targetId),yield uv(r.localStore,i.targetId,!0))})}function J2(t,e){return v(this,null,function*(){let n=G(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r_(n.remoteStore,r.targetId))})}function X2(t,e,n){return v(this,null,function*(){let r=sj(t);try{let i=yield function(s,c){let u=G(s),l=je.now(),h=c.reduce((y,A)=>y.add(A.key),ie()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=Zn(),M=ie();return u.Os.getEntries(y,h).next(N=>{A=N,A.forEach((O,q)=>{q.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(N=>{p=N;let O=[];for(let q of c){let Y=i2(q,p.get(q.key).overlayedDocument);Y!=null&&O.push(new An(q.key,Y,gS(Y.value.mapValue),Nt.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,c)}).next(N=>{m=N;let O=N.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,N.batchId,O)})}).then(()=>({batchId:m.batchId,changes:bS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ne(X)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield vc(r,i.changes),yield dh(r.remoteStore)}catch(i){let o=a_(i,"Failed to persist write");n.reject(o)}})}function e0(t,e){return v(this,null,function*(){let n=G(t);try{let r=yield R2(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?de(s.lu,14607):i.removedDocuments.size>0&&(de(s.lu,42227),s.lu=!1))}),yield vc(n,r,e)}catch(r){yield ms(r)}})}function xA(t,e,n){let r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=G(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&c_(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ej(t,e,n){return v(this,null,function*(){let r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ne(L.comparator);s=s.insert(o,on.newNoDocument(o,K.min()));let c=ie().add(o),u=new Nd(K.min(),new Map,new Ne(X),s,c);yield e0(r,u),r.du=r.du.remove(o),r.Eu.delete(e),l_(r)}else yield uv(r.localStore,e,!1).then(()=>Nv(r,e,n)).catch(ms)})}function tj(t,e){return v(this,null,function*(){let n=G(t),r=e.batch.batchId;try{let i=yield S2(n.localStore,e);n0(n,r,null),t0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vc(n,i)}catch(i){yield ms(i)}})}function nj(t,e,n){return v(this,null,function*(){let r=G(t);try{let i=yield function(s,c){let u=G(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(de(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);n0(r,e,n),t0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield vc(r,i)}catch(i){yield ms(i)}})}function t0(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function n0(t,e,n){let r=G(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||r0(t,r)})}function r0(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(r_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),l_(t))}function OA(t,e,n){for(let r of n)r instanceof Gd?(t.Au.addReference(r.key,e),rj(t,r)):r instanceof Wd?(F(u_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||r0(t,r.key)):U(19791,{yu:r})}function rj(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(F(u_,"New document in limbo: "+n),t.Iu.add(r),l_(t))}function l_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new L(Ce.fromString(e)),r=t.mu.next();t.Eu.set(r,new Sv(n)),t.du=t.du.insert(n,r),zS(t.remoteStore,new dc(Tn(Xv(n.path)),r,"TargetPurposeLimboResolution",zv.ue))}}function vc(t,e,n){return v(this,null,function*(){let r=G(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=ov.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=G(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ys(p))throw p;F(n_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),A=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(A);h.Fs=h.Fs.insert(m,M)}}})}(r.localStore,o))})}function ij(t,e){return v(this,null,function*(){let n=G(t);if(!n.currentUser.isEqual(e)){F(u_,"User change. New user:",e.toKey());let r=yield HS(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new x(R.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vc(n,r.Bs)}})}function oj(t,e){let n=G(t),r=n.Eu.get(e);if(r&&r.lu)return ie().add(r.key);{let i=ie(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function i0(t){let e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ej.bind(null,e),e.hu.J_=G2.bind(null,e.eventManager),e.hu.pu=W2.bind(null,e.eventManager),e}function sj(t){let e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nj.bind(null,e),e}var o0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=uh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return A2(this.persistence,new av,n.initialUser,this.serializer)}Du(n){return new Fd(iv.Vi,this.serializer)}bu(n){return new lv}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Mv=class extends o0{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){de(this.persistence.referenceDelegate instanceof Vd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new zy(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new Fd(r=>Vd.Vi(r,n),this.serializer)}};var aj=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ij.bind(null,this.syncEngine),yield z2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Tv}()}createDatastore(n){let r=uh(n.databaseInfo.databaseId),i=function(s){return new gv(s)}(n.databaseInfo);return function(s,c,u,l){return new _v(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new Iv(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>xA(this.syncEngine,r,0),function(){return jd.C()?new jd:new dv}())}createSyncEngine(n,r){return function(o,s,c,u,l,h,p){let m=new Rv(o,s,c,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=G(o);F($i,"RemoteStore shutting down."),s.Ia.add(5),yield yc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Kd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Vr="FirestoreClient",Pv=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=oc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){F(Vr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(Vr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=a_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ry(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F(Vr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield HS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Mr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Mr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function FA(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield cj(t);F(Vr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MA(e.remoteStore,i)),t._onlineComponents=e})}function cj(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(Vr,"Using user provided OfflineComponentProvider");try{yield ry(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mr("Error using user provided cache. Falling back to memory cache: "+n),yield ry(t,new o0)}}else F(Vr,"Using default OfflineComponentProvider"),yield ry(t,new Mv(void 0));return t._offlineComponents})}function s0(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(Vr,"Using user provided OnlineComponentProvider"),yield FA(t,t._uninitializedComponentsProvider._online)):(F(Vr,"Using default OnlineComponentProvider"),yield FA(t,new aj))),t._onlineComponents})}function uj(t){return s0(t).then(e=>e.syncEngine)}function a0(t){return v(this,null,function*(){let e=yield s0(t),n=e.eventManager;return n.onListen=K2.bind(null,e.syncEngine),n.onUnlisten=Z2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=J2.bind(null,e.syncEngine),n})}function lj(t,e,n={}){let r=new rn;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,c,u,l){let h=new Kd({next:m=>{h.Ou(),s.enqueueAndForget(()=>JS(o,p));let y=m.docs.has(c);!y&&m.fromCache?l.reject(new x(R.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new x(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new zd(Xv(c.path),h,{includeMetadataChanges:!0,ka:!0});return ZS(o,p)}(yield a0(t),t.asyncQueue,e,n,r)})),r.promise}function dj(t,e,n={}){let r=new rn;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,c,u,l){let h=new Kd({next:m=>{h.Ou(),s.enqueueAndForget(()=>JS(o,p)),m.fromCache&&u.source==="server"?l.reject(new x(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new zd(c,h,{includeMetadataChanges:!0,ka:!0});return ZS(o,p)}(yield a0(t),t.asyncQueue,e,n,r)})),r.promise}function c0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var VA=new Map;var u0="firestore.googleapis.com",LA=!0,Qd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u0,this.ssl=LA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:LA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T2)throw new x(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new x(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new x(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new x(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ps=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new x(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new x(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oy;switch(r.type){case"firstParty":return new uy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=VA.get(n);r&&(F("ComponentProvider","Removing Datastore"),VA.delete(n),r.terminate())}(this),Promise.resolve()}};function l0(t,e,n,r={}){var i;t=Ut(t,ps);let o=Tr(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ad(`https://${u}`),cd("Firestore",!0)),s.host!==u0&&s.host!==u&&Mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Lt(l,c)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=qe.MOCK_USER;else{h=bC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new x(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qe(m)}t._authCredentials=new sy(new Ed(h,p))}}var Lr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ge=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mc(n,t._jsonSchema))return new t(e,r||null,new L(Ce.fromString(n.referencePath)))}};Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:Le("string",Ge._jsonSchemaVersion),referencePath:Le("string")};var Ar=class t extends Lr{constructor(e,n,r){super(e,n,Xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new L(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function d0(t,e,...n){if(t=Te(t),zA("collection","path",e),t instanceof ps){let r=Ce.fromString(e,...n);return nA(r),new Ar(t,null,r)}{if(!(t instanceof Ge||t instanceof Ar))throw new x(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return nA(r),new Ar(t.firestore,null,r)}}function d_(t,e,...n){if(t=Te(t),arguments.length===1&&(e=oc.newId()),zA("doc","path",e),t instanceof ps){let r=Ce.fromString(e,...n);return tA(r),new Ge(t,null,new L(r))}{if(!(t instanceof Ge||t instanceof Ar))throw new x(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return tA(r),new Ge(t.firestore,t instanceof Ar?t.converter:null,new L(r))}}var jA="AsyncQueue",Yd=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Bd(this,"async_queue_retry"),this.oc=()=>{let r=ny();r&&F(jA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new rn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ys(e))throw e;F(jA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Wn("INTERNAL UNHANDLED ERROR: ",BA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=wv.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&U(47125,{hc:BA(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function BA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Sn=class extends ps{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Yd(e),this._firestoreClient=void 0,yield e}})}};function h0(t,e){let n=typeof t=="object"?t:ki(),r=typeof t=="string"?t:e||bd,i=Wo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=TC("firestore");o&&l0(i,...o)}return i}function hh(t){if(t._terminated)throw new x(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hj(t),t._firestoreClient}function hj(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,h){return new py(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,c0(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Pv(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Sr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new x(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:Le("string",Sr._jsonSchemaVersion),bytes:Le("string")};var Hi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qi=class{constructor(e){this._methodName=e}};var Rr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(mc(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:Le("string",Rr._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};var Nr=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new x(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Le("string",Nr._jsonSchemaVersion),vectorValues:Le("object")};var fj=/^__.*__$/,kv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new An(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ui(e,this.data,n,this.fieldTransforms)}},Zd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new An(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function f0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U(40011,{Ec:t})}}var Jd=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return eh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(f0(this.Ec)&&fj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},xv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uh(e)}Dc(e,n,r,i=!1){return new Jd({Ec:e,methodName:n,bc:r,path:Rt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _c(t){let e=t._freezeSettings(),n=uh(t._databaseId);return new xv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h_(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);f_("Data must be an object, but it was:",s,r);let c=y0(r,s),u,l;if(o.merge)u=new Bt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=Vv(e,p,n);if(!s.contains(m))throw new x(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);_0(h,m)||h.push(m)}u=new Bt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new kv(new St(c),u,l)}var Xd=class t extends qi{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function p0(t,e,n){return new Jd({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Ov=class t extends qi{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){let n=p0(this,e,!0),r=this.vc.map(o=>Gi(o,n)),i=new xr(r);return new Rd(e.path,i)}isEqual(e){return e instanceof t&&Lt(this.vc,e.vc)}},Fv=class t extends qi{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){let n=p0(this,e,!0),r=this.vc.map(o=>Gi(o,n)),i=new Or(r);return new Rd(e.path,i)}isEqual(e){return e instanceof t&&Lt(this.vc,e.vc)}};function g0(t,e,n,r){let i=t.Dc(1,e,n);f_("Data must be an object, but it was:",i,r);let o=[],s=St.empty();jr(r,(u,l)=>{let h=p_(e,u,n);l=Te(l);let p=i.gc(h);if(l instanceof Xd)o.push(h);else{let m=Gi(l,p);m!=null&&(o.push(h),s.set(h,m))}});let c=new Bt(o);return new Zd(s,c,i.fieldTransforms)}function m0(t,e,n,r,i,o){let s=t.Dc(1,e,n),c=[Vv(e,r,n)],u=[i];if(o.length%2!=0)throw new x(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(Vv(e,o[m])),u.push(o[m+1]);let l=[],h=St.empty();for(let m=c.length-1;m>=0;--m)if(!_0(l,c[m])){let y=c[m],A=u[m];A=Te(A);let M=s.gc(y);if(A instanceof Xd)l.push(y);else{let N=Gi(A,M);N!=null&&(l.push(y),h.set(y,N))}}let p=new Bt(l);return new Zd(h,p,s.fieldTransforms)}function pj(t,e,n,r=!1){return Gi(n,t.Dc(r?4:3,e))}function Gi(t,e){if(v0(t=Te(t)))return f_("Unsupported field value:",e,t),y0(t,e);if(t instanceof qi)return function(r,i){if(!f0(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Gi(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=je.fromDate(r);return{timestampValue:xd(i.serializer,o)}}if(r instanceof je){let o=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,o)}}if(r instanceof Rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sr)return{bytesValue:OS(i.serializer,r._byteString)};if(r instanceof Ge){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nr)return function(s,c){return{mapValue:{fields:{[Kv]:{stringValue:Qv},[is]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return e_(c.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${ih(r)}`)}(t,e)}function y0(t,e){let n={};return aS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(t,(r,i)=>{let o=Gi(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function v0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Rr||t instanceof Sr||t instanceof Ge||t instanceof qi||t instanceof Nr)}function f_(t,e,n){if(!v0(n)||!GA(n)){let r=ih(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Vv(t,e,n){if((e=Te(e))instanceof Hi)return e._internalPath;if(typeof e=="string")return p_(t,e);throw eh("Field path arguments must be of type string or ",t,!1,void 0,n)}var gj=new RegExp("[~\\*/\\[\\]]");function p_(t,e,n){if(e.search(gj)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hi(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new x(R.INVALID_ARGUMENT,c+t+u)}function _0(t,e){return t.some(n=>n.isEqual(e))}var th=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Lv=class extends th{data(){return super.data()}};function fh(t,e){return typeof e=="string"?p_(t,e):e instanceof Hi?e._internalPath:e._delegate._internalPath}function mj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new x(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pc=class{},gc=class extends pc{};function E0(t,e,...n){let r=[];e instanceof pc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof jv).length,c=o.filter(u=>u instanceof nh).length;if(s>1||s>0&&c>0)throw new x(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var nh=class t extends gc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return T0(e._query,n),new Lr(e.firestore,e.converter,Ay(e._query,n))}_parse(e){let n=_c(e.firestore);return function(o,s,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new x(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){$A(p,h);let A=[];for(let M of p)A.push(UA(u,o,M));m={arrayValue:{values:A}}}else m=UA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||$A(p,h),m=pj(c,s,p,h==="in"||h==="not-in");return Ve.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function I0(t,e,n){let r=e,i=fh("where",t);return nh._create(i,r,n)}var jv=class t extends pc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)T0(s,u),s=Ay(s,u)}(e._query,n),new Lr(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Bv=class t extends gc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new x(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new x(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bi(o,s)}(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new kr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function w0(t,e="asc"){let n=e,r=fh("orderBy",t);return Bv._create(r,n)}var Uv=class t extends gc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Lr(e.firestore,e.converter,Sd(e._query,this._limit,this._limitType))}};function D0(t){return wL("limit",t),Uv._create("limit",t,"F")}function UA(t,e,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new x(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IS(e)&&n.indexOf("/")!==-1)throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ce.fromString(n));if(!L.isDocumentKey(r))throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uA(t,new L(r))}if(n instanceof Ge)return uA(t,n._key);throw new x(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function $A(t,e){if(!Array.isArray(t)||t.length===0)throw new x(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T0(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new x(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new x(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var $v=class{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw U(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return jr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[is].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>be(s.doubleValue));return new Nr(o)}convertGeoPoint(e){return new Rr(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=sh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){let n=Kn(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ce.fromString(e);de(US(r),9688,{name:e});let i=new Cd(r.get(1),r.get(3)),o=new L(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function g_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vi=class t extends th{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ts(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new x(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:Le("string",Vi._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};var ts=class extends Vi{data(e={}){return super.data(e)}},ns=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ts(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ts(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ts(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:yj(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new x(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function yj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U(61501,{type:t})}}function b0(t){t=Ut(t,Ge);let e=Ut(t.firestore,Sn);return lj(hh(e),t._key).then(n=>vj(e,t,n))}ns._jsonSchemaVersion="firestore/querySnapshot/1.0",ns._jsonSchema={type:Le("string",ns._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};var rh=class extends $v{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}};function C0(t){t=Ut(t,Lr);let e=Ut(t.firestore,Sn),n=hh(e),r=new rh(e);return mj(t._query),dj(n,t._query).then(i=>new ns(e,r,t,i))}function A0(t,e,n){t=Ut(t,Ge);let r=Ut(t.firestore,Sn),i=g_(t.converter,e,n);return Ec(r,[h_(_c(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nt.none())])}function S0(t,e,n,...r){t=Ut(t,Ge);let i=Ut(t.firestore,Sn),o=_c(i),s;return s=typeof(e=Te(e))=="string"||e instanceof Hi?m0(o,"updateDoc",t._key,e,n,r):g0(o,"updateDoc",t._key,e),Ec(i,[s.toMutation(t._key,Nt.exists(!0))])}function R0(t){return Ec(Ut(t.firestore,Sn),[new hs(t._key,Nt.none())])}function N0(t,e){let n=Ut(t.firestore,Sn),r=d_(t),i=g_(t.converter,e);return Ec(n,[h_(_c(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nt.exists(!1))]).then(()=>r)}function Ec(t,e){return function(r,i){let o=new rn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return X2(yield uj(r),i,o)})),o.promise}(hh(t),e)}function vj(t,e,n){let r=n.docs.get(e._key),i=new rh(t);return new Vi(t,i,e._key,r,new Fi(n.hasPendingWrites,n.fromCache),e.converter)}var Hv=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_c(e)}set(e,n,r){this._verifyNotCommitted();let i=iy(e,this._firestore),o=g_(i.converter,n,r),s=h_(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Nt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=iy(e,this._firestore),s;return s=typeof(n=Te(n))=="string"||n instanceof Hi?m0(this._dataReader,"WriteBatch.update",o._key,n,r,i):g0(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Nt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=iy(e,this._firestore);return this._mutations=this._mutations.concat(new hs(n._key,Nt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function iy(t,e){if((t=Te(t)).firestore!==e)throw new x(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function kJ(...t){return new Ov("arrayUnion",t)}function xJ(...t){return new Fv("arrayRemove",t)}function M0(t){return hh(t=Ut(t,Sn)),new Hv(t,e=>Ec(t,e))}(function(e,n=!0){(function(i){gs=i})(Cr),nn(new gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Sn(new ay(r.getProvider("auth-internal")),new ly(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new x(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Re(ZC,JC,e),Re(ZC,JC,"esm2017")})();var _j="firebase",Ej="11.10.0";Re(_j,Ej,"app");function P0(t){t===void 0&&(t=V(Ue));let e=t.get(Ao);return n=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Br=new Ri("ANGULARFIRE2_VERSION");function Ic(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Es=(t,e)=>{let n=e?[e]:dd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},_s=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(_s||{}),k0=um()&&typeof Zone<"u"?_s.WARN:_s.SILENT;var ph=class{zone;delegate;constructor(e,n=Sf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ur=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=V(Ie);this.outsideAngular=n.runOutsideAngular(()=>new ph(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new ph(typeof Zone>"u"?void 0:Zone.current,Af))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x0=!1;function Ij(t,e){!x0&&(k0>_s.SILENT||um())&&(x0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),k0>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function wj(t){let e=V(Ie,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Wi(t){let e=V(Ie,{optional:!0});return e?e.run(()=>t()):t()}var Dj=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),gr(n,()=>Wi(()=>t.apply(void 0,r)))),_e=(t,e,n)=>(n||=e?_s.WARN:_s.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=V(Ur),s=V(Ao),c=V(yt)}catch{return Ij(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Wi(()=>s.add())),i[l]=Dj(i[l],r,c));let u=wj(()=>t.apply(this,i));return e?u instanceof ee?u.pipe(lr(o.outsideAngular),ur(o.insideAngular),P0(c)):u instanceof Promise?Wi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>gr(c,()=>Wi(()=>h(m))),m=>gr(c,()=>Wi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Wi(()=>u):u instanceof ee?u.pipe(lr(o.outsideAngular),ur(o.insideAngular)):Wi(()=>u)});var Jn=class{constructor(e){return e}},Ki=class{constructor(){return dd()}};function Tj(t){return t&&t.length===1?t[0]:new Jn(ki())}var m_=new $("angularfire2._apps"),bj={provide:Jn,useFactory:Tj,deps:[[new Et,m_]]},Cj={provide:Ki,deps:[[new Et,m_]]};function Aj(t){return(e,n)=>{let r=n.get(_g);Re("angularfire",Br.full,"core"),Re("angularfire",Br.full,"app"),Re("angular",wb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Jn(i)}}function uX(t,...e){return dn([bj,Cj,{provide:m_,useFactory:Aj(t),multi:!0,deps:[Ie,Ue,Ur,...e]}])}var lX=_e(Wm,!0);var Sj=new Map,Rj={activated:!1,tokenObservers:[]},Nj={initialized:!1,enabled:!1};function an(t){return Sj.get(t)||Object.assign({},Rj)}function L0(){return Nj}var Mj="https://content-firebaseappcheck.googleapis.com/v1";var Pj="exchangeDebugToken",O0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},_X=24*60*60*1e3;var __=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Mi,this.pending.promise.catch(n=>{}),yield kj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Mi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function kj(t){return new Promise(e=>{setTimeout(e,t)})}var xj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},$r=new tn("appCheck","AppCheck",xj);function j0(t){if(!an(t).activated)throw $r.create("use-before-activation",{appName:t.name})}function B0(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(y){throw $r.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw $r.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw $r.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw $r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function U0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Mj}/projects/${n}/apps/${r}:${Pj}?key=${i}`,body:{debug_token:e}}}var Oj="firebase-app-check-database",Fj=1,E_="firebase-app-check-store";var gh=null;function Vj(){return gh||(gh=new Promise((t,e)=>{try{let n=indexedDB.open(Oj,Fj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($r.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(E_,{keyPath:"compositeKey"})}}}catch(n){e($r.create("storage-open",{originalErrorMessage:n?.message}))}}),gh)}function Lj(t,e){return jj(Bj(t),e)}function jj(t,e){return v(this,null,function*(){let r=(yield Vj()).transaction(E_,"readwrite"),o=r.objectStore(E_).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c($r.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Bj(t){return`${t.options.appId}-${t.name}`}var wc=new In("@firebase/app-check");function y_(t,e){return Qa()?Lj(t,e).catch(n=>{wc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $0(){return L0().enabled}function H0(){return v(this,null,function*(){let t=L0();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Uj={error:"UNKNOWN_ERROR"};function $j(t){return id.encodeString(JSON.stringify(t),!1)}function I_(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;j0(r);let i=an(r),o=i.token,s;if(o&&!Dc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Dc(l)?o=l:yield y_(r,void 0))}if(!e&&o&&Dc(o))return{token:o.token};let c=!1;if($0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=B0(U0(r,yield H0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield y_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wc.warn(l.message):n&&wc.error(l),v_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield an(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wc.warn(l.message):n&&wc.error(l),s=l}let u;return o?s?Dc(o)?u={token:o.token,internalError:s}:u=v_(s):(u={token:o.token},i.token=o,yield y_(r,o)):u=v_(s),c&&Gj(r,u),u})}function Hj(t){return v(this,null,function*(){let e=t.app;j0(e);let{provider:n}=an(e);if($0()){let r=yield H0(),{token:i}=yield B0(U0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function qj(t,e,n,r){let{app:i}=t,o=an(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Dc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),F0(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>F0(t))}function q0(t,e){let n=an(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function F0(t){let{app:e}=t,n=an(e),r=n.tokenRefresher;r||(r=zj(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zj(t){let{app:e}=t;return new __(()=>v(null,null,function*(){let n=an(e),r;if(n.token?r=yield I_(t,!0):r=yield I_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=an(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},O0.RETRIAL_MIN_WAIT,O0.RETRIAL_MAX_WAIT)}function Gj(t,e){let n=an(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Dc(t){return t.expireTimeMillis-Date.now()>0}function v_(t){return{token:$j(Uj),error:t}}var w_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=an(this.app);for(let n of e)q0(this.app,n.next);return Promise.resolve()}};function Wj(t,e){return new w_(t,e)}function Kj(t){return{getToken:e=>I_(t,e),getLimitedUseToken:()=>Hj(t),addTokenListener:e=>qj(t,"INTERNAL",e),removeTokenListener:e=>q0(t.app,e)}}var Qj="@firebase/app-check",Yj="0.10.1";var Zj="app-check",V0="app-check-internal";function Jj(){nn(new gt(Zj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Wj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(V0).initialize()})),nn(new gt(V0,t=>{let e=t.getProvider("app-check").getImmediate();return Kj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Re(Qj,Yj)}Jj();var Xj="app-check";var Is=class{constructor(){return Es(Xj)}};var eB=["localhost","0.0.0.0","127.0.0.1"],PX=typeof window<"u"&&eB.includes(window.location.hostname);function sR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var aR=sR,cR=new tn("auth","Firebase",sR());var Ih=new In("@firebase/auth");function tB(t,...e){Ih.logLevel<=ne.WARN&&Ih.warn(`Auth (${Cr}): ${t}`,...e)}function yh(t,...e){Ih.logLevel<=ne.ERROR&&Ih.error(`Auth (${Cr}): ${t}`,...e)}function Nn(t,...e){throw G_(t,...e)}function Qi(t,...e){return G_(t,...e)}function uR(t,e,n){let r=Object.assign(Object.assign({},aR()),{[e]:n});return new tn("auth","Firebase",r).create(e,{appName:t.name})}function tr(t){return uR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cR.create(t,...e)}function j(t,e,...n){if(!t)throw G_(e,...n)}function Xn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function zr(t,e){t||Xn(e)}function C_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nB(){return z0()==="http:"||z0()==="https:"}function z0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function rB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nB()||SC()||"connection"in navigator)?navigator.onLine:!0}function iB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Yi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=CC()||RC()}get(){return rB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function W_(t,e){zr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var oB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aB=new Yi(3e4,6e4);function nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mn(o,s,c,u){return v(this,arguments,function*(t,e,n,r,i={}){return lR(t,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ya(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return AC()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(y.credentials="include"),wh.fetch()(yield dR(t,t.config.apiHost,n,p),y)}))})}function lR(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},oB),e);try{let i=new A_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw mh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw mh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw mh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uR(t,h,l);Nn(t,h)}}catch(i){if(i instanceof At)throw i;Nn(t,"network-request-failed",{message:String(i)})}})}function Mc(o,s,c,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Mn(t,e,n,r,i);return"mfaPendingCredential"in l&&Nn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function dR(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?W_(t.config,i):`${t.config.apiScheme}://${i}`;return sB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function cB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var A_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),aB.get())})}};function mh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function G0(t){return t!==void 0&&t.enterprise!==void 0}var S_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function uB(t,e){return v(this,null,function*(){return Mn(t,"GET","/v2/recaptchaConfig",nr(t,e))})}function lB(t,e){return v(this,null,function*(){return Mn(t,"POST","/v1/accounts:delete",e)})}function Dh(t,e){return v(this,null,function*(){return Mn(t,"POST","/v1/accounts:lookup",e)})}function bc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function K_(t,e=!1){return v(this,null,function*(){let n=Te(t),r=yield n.getIdToken(e),i=Q_(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bc(D_(i.auth_time)),issuedAtTime:bc(D_(i.iat)),expirationTime:bc(D_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function D_(t){return Number(t)*1e3}function Q_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{let i=od(n);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function W0(t){let e=Q_(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ws(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof At&&dB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function dB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var R_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ac=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Th(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ws(t,Dh(n,{idToken:r}));j(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hR(o.providerUserInfo):[],c=hB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ac(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Y_(t){return v(this,null,function*(){let e=Te(t);yield Th(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function hB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hR(t){return t.map(e=>{var{providerId:n}=e,r=Rf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fB(t,e){return v(this,null,function*(){let n=yield lR(t,{},()=>v(null,null,function*(){let r=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield dR(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(u.credentials="include"),wh.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function pB(t,e){return v(this,null,function*(){return Mn(t,"POST","/v2/accounts:revokeToken",nr(t,e))})}var Cc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");let n=W0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield fB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(j(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(j(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Xn("not implemented")}};function Hr(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ac(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield ws(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return K_(this,e)}reload(){return Y_(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Th(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(wt(this.auth.app))return Promise.reject(tr(this.auth));let e=yield this.getIdToken();return yield ws(this,lB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:me,isAnonymous:ut,providerData:he,stsTokenManager:D}=n;j(Y&&D,e,"internal-error");let _=Cc.fromJSON(this.name,D);j(typeof Y=="string",e,"internal-error"),Hr(p,e.name),Hr(m,e.name),j(typeof me=="boolean",e,"internal-error"),j(typeof ut=="boolean",e,"internal-error"),Hr(y,e.name),Hr(A,e.name),Hr(M,e.name),Hr(N,e.name),Hr(O,e.name),Hr(q,e.name);let I=new t({uid:Y,auth:e,email:m,emailVerified:me,displayName:p,isAnonymous:ut,photoURL:A,phoneNumber:y,tenantId:M,stsTokenManager:_,createdAt:O,lastLoginAt:q});return he&&Array.isArray(he)&&(I.providerData=he.map(w=>Object.assign({},w))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Cc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Th(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];j(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Cc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ac(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var K0=new Map;function er(t){zr(t instanceof Function,"Expected a class definition");let e=K0.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K0.set(t,e),e)}var gB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),N_=gB;function vh(t,e,n){return`firebase:${t}:${e}:${n}`}var bh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=vh(this.userKey,i.apiKey,o),this.fullPersistenceKey=vh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Dh(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(er(N_),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||er(N_),s=vh(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Dh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield qr._fromGetAccountInfoResponse(e,m,h)}else p=qr._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function Q0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vR(e))return"Blackberry";if(_R(e))return"Webos";if(pR(e))return"Safari";if((e.includes("chrome/")||gR(e))&&!e.includes("edge/"))return"Chrome";if(yR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fR(t=He()){return/firefox\//i.test(t)}function pR(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gR(t=He()){return/crios\//i.test(t)}function mR(t=He()){return/iemobile/i.test(t)}function yR(t=He()){return/android/i.test(t)}function vR(t=He()){return/blackberry/i.test(t)}function _R(t=He()){return/webos/i.test(t)}function Z_(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mB(t=He()){var e;return Z_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yB(){return NC()&&document.documentMode===10}function ER(t=He()){return Z_(t)||yR(t)||_R(t)||vR(t)||/windows phone/i.test(t)||mR(t)}function IR(t,e=[]){let n;switch(t){case"Browser":n=Q0(He());break;case"Worker":n=`${Q0(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cr}/${r}`}var M_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function vB(n){return v(this,arguments,function*(t,e={}){return Mn(t,"GET","/v2/passwordPolicy",nr(t,e))})}var _B=6,P_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:_B,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var k_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ch(this),this.idTokenSubscription=new Ch(this),this.beforeStateQueue=new M_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield bh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield Dh(this,{idToken:e}),r=yield qr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(wt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iB()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(wt(this.app))return Promise.reject(tr(this));let n=e?Te(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return wt(this.app)?Promise.reject(tr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return wt(this.app)?Promise.reject(tr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(er(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield vB(this),n=new P_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield pB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&er(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=yield bh.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&tB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Gr(t){return Te(t)}var Ch=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xC(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EB(t){xh=t}function wR(t){return xh.loadJS(t)}function IB(){return xh.recaptchaEnterpriseScript}function wB(){return xh.gapiScript}function DR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var x_=class{constructor(){this.enterprise=new O_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},O_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var DB="recaptcha-enterprise",TR="NO_RECAPTCHA",F_=class{constructor(e){this.type=DB,this.auth=Gr(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>v(null,null,function*(){uB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new S_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;G0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(TR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&G0(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=IB();u.length!==0&&(u+=c),wR(u).then(()=>{i(c,o,s)}).catch(l=>{s(l)})}}).catch(c=>{s(c)})})})}};function Tc(t,e,n,r=!1,i=!1){return v(this,null,function*(){let o=new F_(t),s;if(i)s=TR;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:s}):Object.assign(c,{captchaResponse:s}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function Ah(t,e,n,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Tc(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>v(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Tc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let c=yield Tc(t,e,n);return r(t,c).catch(u=>v(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Tc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let c=yield Tc(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function J_(t,e){let n=Wo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Lt(o,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function TB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(er);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function X_(t,e,n){let r=Gr(t);j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=bR(e),{host:s,port:c}=bB(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){j(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),j(Lt(l,r.config.emulator)&&Lt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Tr(s)?(ad(`${o}//${s}${u}`),cd("Auth",!0)):i||CB()}function bR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bB(t){let e=bR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Y0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Y0(s)}}}function Y0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function CB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Sc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}};function AB(t,e){return v(this,null,function*(){return Mn(t,"POST","/v1/accounts:signUp",e)})}function SB(t,e){return v(this,null,function*(){return Mc(t,"POST","/v1/accounts:signInWithPassword",nr(t,e))})}function RB(t,e){return v(this,null,function*(){return Mn(t,"POST","/v1/accounts:sendOobCode",nr(t,e))})}function NB(t,e){return v(this,null,function*(){return RB(t,e)})}function MB(t,e){return v(this,null,function*(){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))})}function PB(t,e){return v(this,null,function*(){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))})}var Rc=class t extends Sc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ah(e,n,"signInWithPassword",SB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return MB(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ah(e,r,"signUpPassword",AB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return PB(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function T_(t,e){return v(this,null,function*(){return Mc(t,"POST","/v1/accounts:signInWithIdp",nr(t,e))})}function kB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xB(t){let e=zo(Go(t)).link,n=e?zo(Go(e)).deep_link_id:null,r=zo(Go(t)).deep_link_id;return(r?zo(Go(r)).link:null)||r||n||e||t}var Sh=class t{constructor(e){var n,r,i,o,s,c;let u=zo(Go(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=kB((i=u.mode)!==null&&i!==void 0?i:null);j(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=xB(e);try{return new t(n)}catch{return null}}};var CR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Rc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Sh.parseLink(r);return j(i,"argument-error"),Rc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Rh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var V_=class extends Rh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function OB(t,e){return v(this,null,function*(){return Mc(t,"POST","/v1/accounts:signUp",nr(t,e))})}var Ds=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield qr._fromIdTokenResponse(e,r,i),s=Z0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Z0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Z0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var L_=class t extends At{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function AR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?L_._fromErrorAndOperation(t,o,e,r):o})}function FB(t,e,n=!1){return v(this,null,function*(){let r=yield ws(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ds._forOperation(t,"link",r)})}function VB(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(wt(r.app))return Promise.reject(tr(r));let i="reauthenticate";try{let o=yield ws(t,AR(r,i,e,t),n);j(o.idToken,r,"internal-error");let s=Q_(o.idToken);j(s,r,"internal-error");let{sub:c}=s;return j(t.uid===c,r,"user-mismatch"),Ds._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(r,"user-mismatch"),o}})}function SR(t,e,n=!1){return v(this,null,function*(){if(wt(t.app))return Promise.reject(tr(t));let r="signIn",i=yield AR(t,r,e),o=yield Ds._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function eE(t,e){return v(this,null,function*(){return SR(Gr(t),e)})}function LB(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),j(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function RR(t){return v(this,null,function*(){let e=Gr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function tE(t,e,n){return v(this,null,function*(){let r=Gr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&LB(r,i,n),yield Ah(r,i,"getOobCode",NB,"EMAIL_PASSWORD_PROVIDER")})}function nE(t,e,n){return v(this,null,function*(){if(wt(t.app))return Promise.reject(tr(t));let r=Gr(t),s=yield Ah(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&RR(t),u}),c=yield Ds._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(c.user),c})}function rE(t,e,n){return wt(t.app)?Promise.reject(tr(t)):eE(Te(t),CR.credential(e,n)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&RR(t),r}))}function jB(t,e){return v(this,null,function*(){return Mn(t,"POST","/v1/accounts:update",e)})}function iE(r,i){return v(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Te(t),c={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield ws(o,jB(o.auth,c));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function oE(t,e,n,r){return Te(t).onIdTokenChanged(e,n,r)}function sE(t,e,n){return Te(t).beforeAuthStateChanged(e,n)}function aE(t,e,n,r){return Te(t).onAuthStateChanged(e,n,r)}function cE(t){return Te(t).signOut()}var Nh="__sak";var Mh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var BB=1e3,UB=10,$B=(()=>{class t extends Mh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ER(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);yB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,UB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},BB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield ar(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield ar(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield ar(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),NR=$B;var HB=(()=>{class t extends Mh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),uE=HB;function qB(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var zB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield qB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function MR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var j_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=MR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Rn(){return window}function GB(t){Rn().location.href=t}function PR(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}function WB(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function KB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QB(){return PR()?self:null}var kR="firebaseLocalStorageDb",YB=1,Ph="firebaseLocalStorage",xR="fbase_key",Zi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Oh(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function ZB(){let t=indexedDB.deleteDatabase(kR);return new Zi(t).toPromise()}function B_(){let t=indexedDB.open(kR,YB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ph,{keyPath:xR})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),yield ZB(),e(yield B_()))}))})}function J0(t,e,n){return v(this,null,function*(){let r=Oh(t,!0).put({[xR]:e,value:n});return new Zi(r).toPromise()})}function JB(t,e){return v(this,null,function*(){let n=Oh(t,!1).get(e),r=yield new Zi(n).toPromise();return r===void 0?null:r.value})}function X0(t,e){let n=Oh(t,!0).delete(e);return new Zi(n).toPromise()}var XB=800,eU=3,tU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield B_(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>eU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return PR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=zB._getInstance(QB()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield WB(),!this.activeServiceWorker)return;this.sender=new j_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||KB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield B_();return yield J0(n,Nh,"1"),yield X0(n,Nh),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>J0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>JB(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>X0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Oh(o,!1).getAll();return new Zi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),XB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),OR=tU;var BX=DR("rcb"),UX=new Yi(3e4,6e4);function nU(t,e){return e?er(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Nc=class extends Sc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return T_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return T_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return T_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function rU(t){return SR(t.auth,new Nc(t),t.bypassAuthState)}function iU(t){let{auth:e,user:n}=t;return j(n,e,"internal-error"),VB(n,new Nc(t),t.bypassAuthState)}function oU(t){return v(this,null,function*(){let{auth:e,user:n}=t;return j(n,e,"internal-error"),FB(n,new Nc(t),t.bypassAuthState)})}var U_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rU;case"linkViaPopup":case"linkViaRedirect":return oU;case"reauthViaPopup":case"reauthViaRedirect":return iU;default:Nn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var $X=new Yi(2e3,1e4);var sU="pendingRedirect",_h=new Map,$_=class t extends U_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=_h.get(this.auth._key());if(!e){try{let r=(yield aU(this.resolver,this.auth))?yield ar(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return ar(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ar(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function aU(t,e){return v(this,null,function*(){let n=lU(e),r=uU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function cU(t,e){_h.set(t._key(),e)}function uU(t){return er(t._redirectPersistence)}function lU(t){return vh(sU,t.config.apiKey,t.name)}function dU(t,e,n=!1){return v(this,null,function*(){if(wt(t.app))return Promise.reject(tr(t));let r=Gr(t),i=nU(r,e),s=yield new $_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var hU=10*60*1e3,H_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hU&&this.cachedEventUids.clear(),this.cachedEventUids.has(eR(e))}saveEventToCache(e){this.cachedEventUids.add(eR(e)),this.lastProcessedEventTime=Date.now()}};function eR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FR(t);default:return!1}}function pU(n){return v(this,arguments,function*(t,e={}){return Mn(t,"GET","/v1/projects",e)})}var gU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mU=/^https?/;function yU(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield pU(t);for(let n of e)try{if(vU(n))return}catch{}Nn(t,"unauthorized-domain")})}function vU(t){let e=C_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!mU.test(n))return!1;if(gU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var _U=new Yi(3e4,6e4);function tR(){let t=Rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EU(t){return new Promise((e,n)=>{var r,i,o;function s(){tR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tR(),n(Qi(t,"network-request-failed"))},timeout:_U.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rn().gapi)===null||o===void 0)&&o.load)s();else{let c=DR("iframefcb");return Rn()[c]=()=>{gapi.load?s():n(Qi(t,"network-request-failed"))},wR(`${wB()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}var Eh=null;function IU(t){return Eh=Eh||EU(t),Eh}var wU=new Yi(5e3,15e3),DU="__/auth/iframe",TU="emulator/auth/iframe",bU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AU(t){let e=t.config;j(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?W_(e,TU):`https://${t.config.authDomain}/${DU}`,r={apiKey:e.apiKey,appName:t.name,v:Cr},i=CU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ya(r).slice(1)}`}function SU(t){return v(this,null,function*(){let e=yield IU(t),n=Rn().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:AU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bU,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Qi(t,"network-request-failed"),c=Rn().setTimeout(()=>{o(s)},wU.get());function u(){Rn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var RU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NU=500,MU=600,PU="_blank",kU="http://localhost",kh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function xU(t,e,n,r=NU,i=MU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},RU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=He().toLowerCase();n&&(c=gR(l)?PU:n),fR(l)&&(e=e||kU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(mB(l)&&c!=="_self")return OU(e||"",c),new kh(null);let p=window.open(e||"",c,h);j(p,t,"popup-blocked");try{p.focus()}catch{}return new kh(p)}function OU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var FU="__/auth/handler",VU="emulator/auth/handler",LU=encodeURIComponent("fac");function nR(t,e,n,r,i,o){return v(this,null,function*(){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cr,eventId:i};if(e instanceof Rh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",kC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof V_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${LU}=${encodeURIComponent(u)}`:"";return`${jU(t)}?${Ya(c).slice(1)}${l}`})}function jU({config:t}){return t.emulator?W_(t,VU):`https://${t.authDomain}/${FU}`}var b_="webStorageSupport",q_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=dU,this._overrideRedirectResult=cU}_openPopup(e,n,r,i){return v(this,null,function*(){var o;zr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield nR(e,n,r,C_(),i);return xU(e,s,MR())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield nR(e,n,r,C_(),i);return GB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(zr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield SU(e),r=new H_(e);return n.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(b_,{type:b_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[b_];s!==void 0&&n(!!s),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ER()||pR()||Z_()}},VR=q_;var rR="@firebase/auth",iR="1.10.8";var z_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function BU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UU(t){nn(new gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;j(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IR(t)},l=new k_(r,i,o,u);return TB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new gt("auth-internal",e=>{let n=Gr(e.getProvider("auth").getImmediate());return(r=>new z_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(rR,iR,BU(t)),Re(rR,iR,"esm2017")}var $U=5*60,HU=Pm("authIdTokenMaxAge")||$U,oR=null,qU=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HU)return;let i=n?.token;oR!==i&&(oR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function lE(t=ki()){let e=Wo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=J_(t,{popupRedirectResolver:VR,persistence:[OR,NR,uE]}),r=Pm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=qU(o.toString());sE(n,s,()=>s(n.currentUser)),oE(n,c=>s(c))}}let i=Nm("auth");return i&&X_(n,`http://${i}`),n}function zU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Qi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",zU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UU("Browser");var LR="auth",Ji=class{constructor(e){return e}},Pc=class{constructor(){return Es(LR)}};var dE=new $("angularfire2.auth-instances");function M$(t,e){let n=Ic(LR,t,e);return n&&new Ji(n)}function P$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ji(r)}}var k$={provide:Pc,deps:[[new Et,dE]]},x$={provide:Ji,useFactory:M$,deps:[[new Et,dE],Jn]};function See(t,...e){return Re("angularfire",Br.full,"auth"),dn([x$,k$,{provide:dE,useFactory:P$(t),multi:!0,deps:[Ie,Ue,Ur,Ki,[new Et,Is],...e]}])}var jR=_e(nE,!0,2);var Ree=_e(lE,!0);var BR=_e(aE,!0);var UR=_e(tE,!0,2);var $R=_e(rE,!0,2);var HR=_e(cE,!0,2);var qR=_e(iE,!0,2);var Xi=class{constructor(e){return e}},zR="firestore",hE=class{constructor(){return Es(zR)}};var fE=new $("angularfire2.firestore-instances");function F$(t,e){let n=Ic(zR,t,e);return n&&new Xi(n)}function V$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xi(r)}}var L$={provide:hE,deps:[[new Et,fE]]},j$={provide:Xi,useFactory:F$,deps:[[new Et,fE],Jn]};function Nte(t,...e){return Re("angularfire",Br.full,"fst"),dn([j$,L$,{provide:fE,useFactory:V$(t),multi:!0,deps:[Ie,Ue,Ur,Ki,[new Et,Pc],[new Et,Is],...e]}])}var Mte=_e(N0,!0,2);var GR=_e(d0,!0,2);var Pte=_e(R0,!0,2);var kc=_e(d_,!0,2);var pE=_e(b0,!0);var WR=_e(C0,!0);var kte=_e(h0,!0);var xte=_e(D0,!0,2);var Ote=_e(w0,!0,2),Fte=_e(E0,!0,2);var gE=_e(A0,!0,2);var Vte=_e(S0,!0,2);var Lte=_e(I0,!0,2),jte=_e(M0,!0,2);var KR=class t{constructor(e,n){this.auth=e;this.firestore=n;BR(this.auth,r=>v(this,null,function*(){if(this.userSubject.next(r),r){let o=(yield pE(kc(this.firestore,"users",r.uid))).data(),s=Array.isArray(o?.roles)?o.roles:[];this.rolesSubject.next(s)}else this.rolesSubject.next([])}))}userSubject=new On(null);currentUser=this.userSubject.asObservable();rolesSubject=new On([]);currentRoles=this.rolesSubject.asObservable();viewAsRoleSubject=new On(null);viewAsRole$=this.viewAsRoleSubject.asObservable();effectiveRoles=Nf([this.currentRoles,this.viewAsRole$]).pipe(zt(([e,n])=>n?[n]:e));get getCurrentUser(){return this.auth.currentUser}setViewAsRole(e){this.viewAsRoleSubject.next(e)}register(e){return v(this,null,function*(){let n=yield jR(this.auth,e.email,e.password);return yield qR(n.user,{displayName:e.username}),yield gE(kc(this.firestore,"users",n.user.uid),{uid:n.user.uid,displayName:e.username,email:e.email,roles:["viewer"]}),yield gE(kc(this.firestore,"usernames",e.username),{email:e.email,uid:n.user.uid}),this.userSubject.next(n.user),this.rolesSubject.next(["viewer"]),n.user})}login(e,n){return this.getUserEmailByDisplayName(e).then(r=>{if(!r)throw new Error("Username not found");return $R(this.auth,r,n).then(i=>v(this,null,function*(){this.userSubject.next(i.user);let s=(yield pE(kc(this.firestore,"users",i.user.uid))).data(),c=Array.isArray(s?.roles)?s.roles:[];return this.rolesSubject.next(c),i.user}))})}getUserEmailByDisplayName(e){return v(this,null,function*(){try{let n=GR(this.firestore,"users"),r=yield WR(n);for(let i of r.docs){let o=i.data();if(o.displayName===e)return o.email}return null}catch(n){return console.error("Error finding user by display name:",n),null}})}forgotPassword(e){return UR(this.auth,e)}logout(){return this.userSubject.next(null),this.rolesSubject.next([]),this.viewAsRoleSubject.next(null),HR(this.auth)}static \u0275fac=function(n){return new(n||t)(Se(Ji),Se(Xi))};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})};export{ue as a,fe as b,v as c,Pe as d,GN as e,ee as f,Tf as g,bf as h,qt as i,On as j,Ws as k,un as l,nM as m,rM as n,iM as o,ri as p,zt as q,Nf as r,ii as s,Mf as t,Mu as u,fM as v,Ks as w,KI as x,pM as y,Qs as z,kf as A,mM as B,yM as C,xf as D,vM as E,_M as F,EM as G,IM as H,wM as I,DM as J,B as K,se as L,li as M,CM as N,$ as O,Se as P,V as Q,dn as R,dp as S,yt as T,gr as U,ww as V,Dw as W,Ue as X,Ii as Y,_r as Z,fr as _,mn as $,Er as aa,Ir as ba,Et as ca,wa as da,vn as ea,yg as fa,_n as ga,RP as ha,NP as ia,LD as ja,_g as ka,PP as la,Po as ma,zD as na,$P as oa,qP as pa,gk as qa,ya as ra,_a as sa,Bn as ta,J as ua,px as va,ba as wa,Ca as xa,AT as ya,ST as za,Gx as Aa,Fo as Ba,De as Ca,MT as Da,Aa as Ea,_t as Fa,Ie as Ga,Gg as Ha,gO as Ia,Vo as Ja,mO as Ka,LT as La,Si as Ma,Lo as Na,UT as Oa,Yg as Pa,Zg as Qa,$T as Ra,Jg as Sa,Xg as Ta,HT as Ua,zT as Va,GT as Wa,_O as Xa,Un as Ya,TO as Za,bO as _a,ZT as $a,Ra as ab,FO as bb,WO as cb,rb as db,em as eb,ib as fb,ob as gb,sb as hb,JO as ib,ab as jb,XO as kb,i1 as lb,o1 as mb,a1 as nb,u1 as ob,l1 as pb,d1 as qb,h1 as rb,p1 as sb,En as tb,gb as ub,WQ as vb,Pa as wb,KQ as xb,jl as yb,QQ as zb,Ni as Ab,V1 as Bb,dm as Cb,L1 as Db,Bo as Eb,Ab as Fb,Sb as Gb,$1 as Hb,tF as Ib,qb as Jb,nF as Kb,iF as Lb,sF as Mb,aF as Nb,cF as Ob,mm as Pb,hZ as Qb,fZ as Rb,dF as Sb,iC as Tb,FZ as Ub,VZ as Vb,UF as Wb,qF as Xb,jZ as Yb,GF as Zb,yC as _b,BZ as $b,UZ as ac,JF as bc,eV as cc,nV as dc,$Z as ec,TC as fc,Tr as gc,ad as hc,bC as ic,cd as jc,At as kc,Te as lc,gt as mc,nn as nc,Wo as oc,wt as pc,Cr as qc,ki as rc,Re as sc,Br as tc,Ic as uc,Es as vc,Ur as wc,_e as xc,Jn as yc,Ki as zc,uX as Ac,lX as Bc,Is as Cc,Ji as Dc,Pc as Ec,See as Fc,Ree as Gc,kJ as Hc,xJ as Ic,Xi as Jc,Nte as Kc,Mte as Lc,GR as Mc,Pte as Nc,kc as Oc,pE as Pc,WR as Qc,kte as Rc,xte as Sc,Ote as Tc,Fte as Uc,gE as Vc,Vte as Wc,Lte as Xc,jte as Yc,KR as Zc};
