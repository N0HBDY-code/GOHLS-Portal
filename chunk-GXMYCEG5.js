import{$c as pe,Ba as Z,Ea as w,Lb as ae,Lc as me,Mb as re,Nb as ie,Nc as U,Oc as u,Pa as p,Pb as se,Qa as i,Qc as C,Ra as n,Rc as W,Sa as _,Sc as v,Uc as ge,V as I,Vc as z,W as M,Wb as ne,Wc as S,Xc as J,Ya as A,Yc as F,Za as E,Zb as oe,Zc as y,_a as D,_c as H,ab as ee,ac as le,bb as T,bc as de,c as f,cc as ce,db as o,eb as G,fb as R,gb as Y,gc as fe,hb as te,ib as N,jb as L,kb as V,oa as X,pb as B,qb as j,ra as d,va as q}from"./chunk-JMQVBRUG.js";function he(l,e){if(l&1&&(i(0,"div",25)(1,"h5"),_(2,"i",26),o(3,"Firestore Index Required"),n(),i(4,"p"),o(5,"Some features require a Firestore index that hasn't been created yet. Please click the link below to create the required index:"),n(),i(6,"a",27),_(7,"i",28),o(8,"Create Required Index "),n(),i(9,"p",29)(10,"small"),o(11,"After creating the index, it may take a few minutes to become active. Refresh the page after the index is created."),n()()()),l&2){let t=D();d(6),p("href",t.getIndexUrl(),X)}}function De(l,e){if(l&1&&(i(0,"div",30)(1,"h5"),_(2,"i",26),o(3,"Draft Class Error"),n(),i(4,"p"),o(5),n()()),l&2){let t=D();d(5),G(t.draftClassErrorMessage)}}function Ce(l,e){if(l&1&&(i(0,"option",31),o(1),B(2,"titlecase"),n()),l&2){let t=e.$implicit;p("value",t.id),d(),te(" Season ",t.season," Draft (",j(2,4,t.status),") - ",t.players.length," players ")}}function ye(l,e){if(l&1){let t=A();i(0,"button",32),E("click",function(){I(t);let r=D();return M(r.setDraftOrder())}),_(1,"i",33),o(2,"Set Draft Order "),n()}}function _e(l,e){l&1&&(i(0,"div",34)(1,"div",35),_(2,"i",36),i(3,"h5",37),o(4,"No Draft Class Selected"),n(),i(5,"p",37),o(6,"Please select a draft class from the dropdown above to view the draft board."),n()()())}function be(l,e){l&1&&(i(0,"div",42),_(1,"div",43),i(2,"p",44),o(3,"Loading draft classes..."),n()())}function ve(l,e){l&1&&(i(0,"div",42),_(1,"i",45),i(2,"h5",37),o(3,"No Draft Classes"),n(),i(4,"p",37),o(5,"No draft classes have been created yet."),n()())}function xe(l,e){if(l&1){let t=A();i(0,"button",51),E("click",function(){let r=I(t).$implicit,s=D(3);return M(s.selectDraftClass(r))}),i(1,"div",52)(2,"span"),o(3),n(),i(4,"span",53),o(5),B(6,"titlecase"),n()(),i(7,"small",54),o(8),B(9,"titlecase"),n(),i(10,"small",55),o(11),n()()}if(l&2){let t=e.$implicit,a=D(3);T("active",(a.selectedDraftClass==null?null:a.selectedDraftClass.season)===t.season),d(3),R("Season ",t.season," Draft"),d(),T("bg-warning",t.status==="upcoming")("bg-success",t.status==="active")("bg-secondary",t.status==="completed"),d(),R(" ",j(6,13,t.status)," "),d(3),Y(" ",t.players.length," players \u2022 ",j(9,15,t.league)," League "),d(3),R(" Draft Order: ",t.draftOrderSet?"Set":"Not Set"," ")}}function Pe(l,e){if(l&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td")(6,"span",53),o(7),n()()()),l&2){let t=e.$implicit,a=e.index,r=D(4);d(2),G(t.draftRank||a+1),d(2),Y("",t.firstName," ",t.lastName),d(2),ee("background-color",r.getPositionColor(t.position)),d(),R(" ",t.position," ")}}function we(l,e){if(l&1){let t=A();i(0,"div",34)(1,"div",13)(2,"h5",14),o(3),n()(),i(4,"div",56)(5,"div",57)(6,"div",46)(7,"div",47)(8,"label",58),o(9,"Position"),n(),i(10,"select",59),V("ngModelChange",function(r){I(t);let s=D(3);return L(s.positionFilter,r)||(s.positionFilter=r),M(r)}),i(11,"option",60),o(12,"All Positions"),n(),i(13,"option",61),o(14,"Goalies"),n(),i(15,"option",62),o(16,"Defensemen"),n(),i(17,"option",63),o(18,"Centers"),n(),i(19,"option",64),o(20,"Left Wings"),n(),i(21,"option",65),o(22,"Right Wings"),n()()(),i(23,"div",47)(24,"label",58),o(25,"Age"),n(),i(26,"select",59),V("ngModelChange",function(r){I(t);let s=D(3);return L(s.ageFilter,r)||(s.ageFilter=r),M(r)}),i(27,"option",60),o(28,"All Ages"),n(),i(29,"option",66),o(30,"18 Years"),n(),i(31,"option",67),o(32,"19 Years"),n(),i(33,"option",68),o(34,"20+ Years"),n()()(),i(35,"div",47)(36,"label",58),o(37,"Sort By"),n(),i(38,"select",59),V("ngModelChange",function(r){I(t);let s=D(3);return L(s.sortBy,r)||(s.sortBy=r),M(r)}),i(39,"option",69),o(40,"Overall Rating"),n(),i(41,"option",70),o(42,"Age"),n(),i(43,"option",71),o(44,"Position"),n()()(),i(45,"div",47)(46,"label",58),o(47,"Direction"),n(),i(48,"select",59),V("ngModelChange",function(r){I(t);let s=D(3);return L(s.sortDirection,r)||(s.sortDirection=r),M(r)}),i(49,"option",72),o(50,"Highest First"),n(),i(51,"option",73),o(52,"Lowest First"),n()()()()(),i(53,"div",74)(54,"table",75)(55,"thead")(56,"tr")(57,"th"),o(58,"Rank"),n(),i(59,"th"),o(60,"Name"),n(),i(61,"th"),o(62,"Position"),n(),i(63,"th"),o(64,"Archetype"),n(),i(65,"th"),o(66,"Age"),n(),i(67,"th"),o(68,"Overall"),n(),i(69,"th"),o(70,"Team"),n()()(),i(71,"tbody"),w(72,Pe,8,6,"tr",76),n()()()()()}if(l&2){let t=D(3);d(3),R("Season ",t.selectedDraftClass.season," Draft Class"),d(7),N("ngModel",t.positionFilter),d(16),N("ngModel",t.ageFilter),d(12),N("ngModel",t.sortBy),d(10),N("ngModel",t.sortDirection),d(24),p("ngForOf",t.filterPlayers())}}function Se(l,e){if(l&1&&(i(0,"div",46)(1,"div",47)(2,"div",48),w(3,xe,12,17,"button",49),n()(),i(4,"div",50),w(5,we,73,6,"div",23),n()()),l&2){let t=D(2);d(3),p("ngForOf",t.draftClasses),d(2),p("ngIf",t.selectedDraftClass)}}function ke(l,e){if(l&1&&(i(0,"div")(1,"div",12)(2,"div",38)(3,"h5",14),_(4,"i",39),o(5,"Draft Classes "),n()(),i(6,"div",15),w(7,be,4,0,"div",40)(8,ve,6,0,"div",40)(9,Se,6,2,"div",41),n()()()),l&2){let t=D();d(7),p("ngIf",t.loadingClasses),d(),p("ngIf",!t.loadingClasses&&t.draftClasses.length===0),d(),p("ngIf",!t.loadingClasses&&t.draftClasses.length>0)}}var ue=class l{constructor(e,t){this.firestore=e;this.authService=t}currentView="classes";draftClasses=[];selectedDraftClass=null;selectedDraftClassId="";selectedDraftClassForDraft=null;draftPicks=[];currentRound=1;currentPick=1;draftInProgress=!1;draftHistory=[];teams=[];canManageDraft=!1;isDeveloper=!1;loadingClasses=!1;loadingDraft=!1;loadingHistory=!1;showCreateClassModal=!1;newDraftClassSeason=new Date().getFullYear();newDraftClassLeague="major";showSetOrderModal=!1;draftOrderTeams=[];showMakePickModal=!1;selectedDraftPick=null;availablePlayers=[];selectedPlayerId="";draftRounds=7;positionFilter="all";ageFilter="all";sortBy="overall";sortDirection="desc";indexError=!1;draftClassError=!1;draftClassErrorMessage="";currentLeagueSeason=1;loadCurrentLeagueSeason(){return f(this,null,function*(){try{let e=C(this.firestore,"leagueSettings/season"),t=yield W(e);t.exists()?this.currentLeagueSeason=t.data().currentSeason||1:(yield J(e,{currentSeason:1,createdDate:new Date}),this.currentLeagueSeason=1)}catch(e){console.error("Error loading current league season:",e),this.currentLeagueSeason=1}})}ngOnInit(){return f(this,null,function*(){this.authService.effectiveRoles.subscribe(e=>{this.canManageDraft=e.some(t=>["developer","commissioner"].includes(t)),this.isDeveloper=e.includes("developer")}),yield this.loadCurrentLeagueSeason(),yield this.loadTeams(),yield this.loadDraftClasses(),yield this.loadDraftHistory()})}loadTeams(){return f(this,null,function*(){let e=u(this.firestore,"teams"),t=yield v(e);this.teams=t.docs.map(a=>{let r=a.data();return{id:a.id,name:`${r.city} ${r.mascot}`,city:r.city,mascot:r.mascot,logoUrl:r.logoUrl,conference:r.conference,division:r.division,league:r.league||"major"}})})}loadDraftClasses(){return f(this,null,function*(){this.loadingClasses=!0,this.draftClassError=!1;try{let e=u(this.firestore,"draftClasses"),t=yield v(e);if(t.empty){yield this.createInitialDraftClass(this.currentLeagueSeason),yield this.loadDraftClasses();return}if(!t.docs.some(r=>r.data().season===this.currentLeagueSeason)){yield this.createInitialDraftClass(this.currentLeagueSeason),yield this.loadDraftClasses();return}this.draftClasses=yield Promise.all(t.docs.map(r=>f(this,null,function*(){let s=r.data(),m=S(u(this.firestore,"players"),y("draftClass","==",s.season),y("status","==","active")),h=yield v(m),b=yield Promise.all(h.docs.map(P=>f(this,null,function*(){let c=P.data(),g=50;try{let x=C(this.firestore,`players/${P.id}/meta/attributes`),O=yield W(x);O.exists()&&(g=O.data().OVERALL||50)}catch(x){console.error("Error loading player attributes:",x)}let k,$;if(c.teamId&&c.teamId!=="none"){let x=this.teams.find(O=>O.id===c.teamId);x&&(k=x.name,$=x.logoUrl)}return{id:P.id,firstName:c.firstName||"",lastName:c.lastName||"",position:c.position||"",archetype:c.archetype||"",age:c.age||19,overall:g,draftRank:c.draftRank,teamId:c.teamId,teamName:k,teamLogo:$,draftRound:c.draftRound,draftPick:c.draftPick,draftSeason:c.draftSeason,draftStatus:c.draftStatus}})));return{id:r.id,season:s.season,players:b,status:s.status||"upcoming",startDate:s.startDate,endDate:s.endDate,league:s.league||"major",draftOrderSet:s.draftOrderSet||!1,draftOrder:s.draftOrder||[]}}))),this.draftClasses.sort((r,s)=>s.season-r.season),this.draftClasses.length>0&&(this.selectedDraftClass=this.draftClasses[0])}catch(e){console.error("Error loading draft classes:",e),this.draftClassError=!0,this.draftClassErrorMessage="Failed to load draft classes. This may be due to missing Firestore indexes.",this.indexError=!0}finally{this.loadingClasses=!1}})}createInitialDraftClass(e){return f(this,null,function*(){try{yield U(u(this.firestore,"draftClasses"),{season:e,status:"upcoming",league:"major",createdAt:new Date,draftOrderSet:!1,draftOrder:[]}),console.log(`Created initial draft class for season ${e}`)}catch(t){console.error("Error creating initial draft class:",t)}})}loadCurrentDraft(){return f(this,null,function*(){this.loadingDraft=!0;try{if(!this.selectedDraftClassForDraft?.id){this.draftPicks=[],this.loadingDraft=!1;return}let e=u(this.firestore,"draftPicks"),t=S(e,y("draftClassId","==",this.selectedDraftClassForDraft.id)),a=yield v(t);this.draftPicks=yield Promise.all(a.docs.map(r=>f(this,null,function*(){let s=r.data(),m="Unknown Team",h=this.teams.find(c=>c.id===s.teamId);h&&(m=h.name);let b;if(s.originalTeamId&&s.originalTeamId!==s.teamId){let c=this.teams.find(g=>g.id===s.originalTeamId);c&&(b=c.name)}let P;if(s.playerId){let c=C(this.firestore,`players/${s.playerId}`),g=yield W(c);if(g.exists()){let k=g.data();P=`${k.firstName} ${k.lastName}`}}return{id:r.id,draftClassId:s.draftClassId,season:s.season,round:s.round,pick:s.pick,teamId:s.teamId,teamName:m,originalTeamId:s.originalTeamId,originalTeamName:b,playerId:s.playerId,playerName:P,completed:!!s.playerId}}))),this.draftPicks.sort((r,s)=>r.round!==s.round?r.round-s.round:r.pick-s.pick),this.updateCurrentDraftPosition(),this.draftInProgress=this.selectedDraftClassForDraft.status==="active"}catch(e){console.error("Error loading current draft:",e)}finally{this.loadingDraft=!1}})}updateCurrentDraftPosition(){let e=this.draftPicks.find(t=>!t.completed);if(e)this.currentRound=e.round,this.currentPick=e.pick;else if(this.draftPicks.length>0){let t=this.draftPicks[this.draftPicks.length-1];this.currentRound=t.round,this.currentPick=t.pick}}generateDraftPicks(){return f(this,null,function*(){if(!this.selectedDraftClassForDraft?.id||!this.selectedDraftClassForDraft.draftOrder){console.error("No draft class selected or draft order not set");return}try{let e=H(this.firestore);for(let t=1;t<=this.draftRounds;t++)for(let a=1;a<=this.selectedDraftClassForDraft.draftOrder.length;a++){let r=a-1,s=this.selectedDraftClassForDraft.draftOrder[r],m=this.teams.find(b=>b.id===s);if(!m)continue;let h=C(u(this.firestore,"draftPicks"));e.set(h,{draftClassId:this.selectedDraftClassForDraft.id,season:this.selectedDraftClassForDraft.season,round:t,pick:a,teamId:m.id,originalTeamId:m.id,completed:!1,createdAt:new Date})}yield e.commit(),console.log(`Generated ${this.draftRounds} rounds of draft picks`)}catch(e){console.error("Error generating draft picks:",e)}})}loadDraftHistory(){return f(this,null,function*(){this.loadingHistory=!0;try{let e=S(u(this.firestore,"draftClasses"),y("status","==","completed"),z("season","desc"),ge(5)),t=yield v(e);if(!t.empty){let a=t.docs.map(s=>f(this,null,function*(){let m=s.id,h=u(this.firestore,"draftPicks"),b=S(h,y("draftClassId","==",m),z("round"),z("pick")),P=yield v(b);return Promise.all(P.docs.map(c=>f(this,null,function*(){let g=c.data(),k="Unknown Team",$=this.teams.find(O=>O.id===g.teamId);$&&(k=$.name);let x;if(g.playerId){let O=C(this.firestore,`players/${g.playerId}`),Q=yield W(O);if(Q.exists()){let K=Q.data();x=`${K.firstName} ${K.lastName}`}}return{id:c.id,draftClassId:g.draftClassId,season:g.season,round:g.round,pick:g.pick,teamId:g.teamId,teamName:k,playerId:g.playerId,playerName:x,completed:!!g.playerId}})))})),r=yield Promise.all(a);this.draftHistory=r.flat()}}catch(e){console.error("Error loading draft history:",e)}finally{this.loadingHistory=!1}})}startDraft(){return f(this,null,function*(){if(!(!this.canManageDraft||!this.selectedDraftClassForDraft?.id))try{let e=C(this.firestore,`draftClasses/${this.selectedDraftClassForDraft.id}`);yield F(e,{status:"active",startDate:new Date}),this.selectedDraftClassForDraft.status="active",this.draftInProgress=!0}catch(e){console.error("Error starting draft:",e)}})}endDraft(){return f(this,null,function*(){if(!(!this.canManageDraft||!this.selectedDraftClassForDraft?.id))try{let e=C(this.firestore,`draftClasses/${this.selectedDraftClassForDraft.id}`);yield F(e,{status:"completed",endDate:new Date}),this.selectedDraftClassForDraft.status="completed",this.draftInProgress=!1;let t=S(u(this.firestore,"players"),y("draftClass","==",this.selectedDraftClassForDraft.season),y("draftStatus","==","eligible")),a=yield v(t),r=H(this.firestore);a.docs.forEach(s=>{r.update(s.ref,{draftStatus:"undrafted",freeAgent:!0,teamId:"none"})}),yield r.commit()}catch(e){console.error("Error ending draft:",e)}})}setDraftStatus(e){return f(this,null,function*(){if(!(!this.canManageDraft||!this.selectedDraftClassForDraft?.id))try{let t=C(this.firestore,`draftClasses/${this.selectedDraftClassForDraft.id}`),a={status:e};if(e==="active")a.startDate=new Date;else if(e==="completed"){a.endDate=new Date;let r=S(u(this.firestore,"players"),y("draftClass","==",this.selectedDraftClassForDraft.season),y("draftStatus","==","eligible")),s=yield v(r);if(!s.empty){let m=H(this.firestore);s.docs.forEach(h=>{m.update(h.ref,{draftStatus:"undrafted",freeAgent:!0,teamId:"none"})}),yield m.commit()}}yield F(t,a),this.selectedDraftClassForDraft.status=e,this.draftInProgress=e==="active",yield this.loadDraftClasses()}catch(t){console.error("Error updating draft status:",t),alert("Failed to update draft status. Please try again.")}})}openMakePickModal(e){return f(this,null,function*(){if(!(!this.canManageDraft||!this.draftInProgress||e.completed)){this.selectedDraftPick=e;try{if(!this.selectedDraftClassForDraft)return;let t=S(u(this.firestore,"players"),y("draftClass","==",this.selectedDraftClassForDraft.season),y("draftStatus","==","eligible"),y("status","==","active")),a=yield v(t);this.availablePlayers=yield Promise.all(a.docs.map(r=>f(this,null,function*(){let s=r.data(),m=50;try{let h=C(this.firestore,`players/${r.id}/meta/attributes`),b=yield W(h);b.exists()&&(m=b.data().OVERALL||50)}catch(h){console.error("Error loading player attributes:",h)}return{id:r.id,firstName:s.firstName||"",lastName:s.lastName||"",position:s.position||"",archetype:s.archetype||"",age:s.age||19,overall:m}}))),this.sortPlayers(),this.showMakePickModal=!0}catch(t){console.error("Error loading available players:",t)}}})}makeDraftPick(){return f(this,null,function*(){if(!this.selectedPlayerId)return;let e=this.getCurrentDraftPick();if(!(!e||e.completed||e.passed))try{let t=this.availablePlayers.find(m=>m.id===this.selectedPlayerId);if(!t)return;let a=C(this.firestore,`draftPicks/${e.id}`);yield F(a,{playerId:t.id,completed:!0,completedAt:new Date});let r=C(this.firestore,`players/${t.id}`);yield F(r,{teamId:e.teamId,draftedBy:e.teamId,draftRound:e.round,draftPick:e.pick,draftSeason:e.season,draftStatus:"drafted",freeAgent:!1});let s=C(this.firestore,`teams/${e.teamId}/roster/${t.id}`);yield J(s,{firstName:t.firstName,lastName:t.lastName,position:t.position,archetype:t.archetype,jerseyNumber:Math.floor(Math.random()*98)+1,age:t.age,teamId:e.teamId,draftRound:e.round,draftPick:e.pick,draftSeason:e.season}),yield U(u(this.firestore,`players/${t.id}/history`),{action:"drafted",teamId:e.teamId,timestamp:new Date,details:`Drafted Round ${e.round}, Pick ${e.pick} by ${e.teamName}`}),this.selectedPlayerId="",yield this.loadCurrentDraft()}catch(t){console.error("Error making draft pick:",t),alert("Failed to make draft pick. Please try again.")}})}createDraftClass(){return f(this,null,function*(){if(this.canManageDraft)try{let e=u(this.firestore,"draftClasses"),t=S(e,y("season","==",this.newDraftClassSeason));if(!(yield v(t)).empty){alert(`Draft class for season ${this.newDraftClassSeason} already exists.`);return}yield U(u(this.firestore,"draftClasses"),{season:this.newDraftClassSeason,status:"upcoming",league:this.newDraftClassLeague,createdAt:new Date,draftOrderSet:!1,draftOrder:[]}),this.showCreateClassModal=!1,yield this.loadDraftClasses()}catch(e){console.error("Error creating draft class:",e)}})}setDraftOrder(){return f(this,null,function*(){if(!this.canManageDraft||!this.selectedDraftClassForDraft?.id)return;let e=this.teams.filter(t=>(t.league||"major")===this.selectedDraftClassForDraft.league);if(e.length===0){alert(`No teams found for ${this.selectedDraftClassForDraft.league} league.`);return}this.draftOrderTeams=[...e],this.showSetOrderModal=!0})}saveDraftOrder(){return f(this,null,function*(){if(this.selectedDraftClassForDraft?.id)try{let e=this.draftOrderTeams.map(a=>a.id),t=C(this.firestore,`draftClasses/${this.selectedDraftClassForDraft.id}`);yield F(t,{draftOrder:e,draftOrderSet:!0}),this.selectedDraftClassForDraft.draftOrder=e,this.selectedDraftClassForDraft.draftOrderSet=!0,yield this.generateDraftPicks(),yield this.loadCurrentDraft(),this.showSetOrderModal=!1,alert("Draft order set successfully!")}catch(e){console.error("Error saving draft order:",e),alert("Failed to save draft order. Please try again.")}})}moveTeamUp(e){if(e>0){let t=this.draftOrderTeams[e];this.draftOrderTeams[e]=this.draftOrderTeams[e-1],this.draftOrderTeams[e-1]=t}}moveTeamDown(e){if(e<this.draftOrderTeams.length-1){let t=this.draftOrderTeams[e];this.draftOrderTeams[e]=this.draftOrderTeams[e+1],this.draftOrderTeams[e+1]=t}}filterPlayers(){if(!this.selectedDraftClass)return[];let e=[...this.selectedDraftClass.players];if(this.positionFilter!=="all"&&(e=e.filter(t=>t.position===this.positionFilter)),this.ageFilter!=="all"){let t=parseInt(this.ageFilter);e=e.filter(a=>a.age===t)}return e}sortPlayers(){this.availablePlayers&&this.availablePlayers.sort((e,t)=>{let a=0;switch(this.sortBy){case"overall":a=t.overall-e.overall;break;case"age":a=e.age-t.age;break;case"position":let r={G:1,D:2,C:3,LW:4,RW:5};a=(r[e.position]||99)-(r[t.position]||99);break}return this.sortDirection==="asc"?a:-a})}getPositionColor(e){switch(e){case"G":return"#dc3545";case"D":return"#fd7e14";case"C":return"#28a745";case"LW":return"#17a2b8";case"RW":return"#007bff";default:return"#6c757d"}}getOverallColor(e){let a=(Math.max(50,Math.min(99,e))-50)/49,r=Math.round(220-186*a),s=Math.round(38+159*a),m=Math.round(38+56*a);return`rgb(${r}, ${s}, ${m})`}getCurrentDraftPick(){return this.draftPicks.find(e=>e.round===this.currentRound&&e.pick===this.currentPick)||null}getDraftPicksForRound(e){return this.draftPicks.filter(t=>t.round===e)}getTeamLogo(e){return this.teams.find(a=>a.id===e)?.logoUrl||""}getTeamName(e){return this.teams.find(a=>a.id===e)?.name||"Unknown Team"}selectDraftClass(e){this.selectedDraftClass=e}selectDraftClassForDraft(e){this.selectedDraftClassForDraft=e,this.loadCurrentDraft()}onDraftClassSelectionChange(){if(this.selectedDraftClassId){let e=this.draftClasses.find(t=>t.id===this.selectedDraftClassId);e&&(this.selectedDraftClassForDraft=e,this.loadCurrentDraft())}else this.selectedDraftClassForDraft=null,this.draftPicks=[]}goToRound(e){this.currentRound=e}getUniqueDraftSeasons(){return[...new Set(this.draftHistory.map(t=>t.season))].sort((t,a)=>a-t)}getPicksForSeason(e){return this.draftHistory.filter(t=>t.season===e)}getIndexUrl(){return"https://console.firebase.google.com/u/1/project/gohls-3033e/firestore/indexes"}static \u0275fac=function(t){return new(t||l)(q(me),q(pe))};static \u0275cmp=Z({type:l,selectors:[["app-draft"]],decls:35,vars:13,consts:[[1,"container","mt-4"],[1,"page-title"],[1,"fas","fa-trophy","me-2"],[1,"mb-4"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-users","me-1"],[1,"fas","fa-hockey-puck","me-1"],[1,"fas","fa-history","me-1"],["class","alert alert-warning mb-4",4,"ngIf"],["class","alert alert-danger mb-4",4,"ngIf"],[1,"card","mb-4"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","btn btn-warning",3,"click",4,"ngIf"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-warning","mb-4"],[1,"fas","fa-exclamation-triangle","me-2"],["target","_blank",1,"btn","btn-primary",3,"href"],[1,"fas","fa-external-link-alt","me-1"],[1,"mt-2","mb-0"],[1,"alert","alert-danger","mb-4"],[3,"value"],[1,"btn","btn-warning",3,"click"],[1,"fas","fa-sort","me-1"],[1,"card"],[1,"card-body","text-center","py-5"],[1,"fas","fa-trophy","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-users","me-2"],["class","text-center py-4",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center","py-4"],[1,"spinner-border","text-primary"],[1,"mt-2","text-muted"],[1,"fas","fa-users","fa-3x","text-muted","mb-3"],[1,"row"],[1,"col-md-3"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[1,"badge"],[1,"d-block","text-muted","mt-1"],[1,"d-block","text-muted"],[1,"card-body","p-0"],[1,"p-3","bg-light","border-bottom"],[1,"form-label","small"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value","all"],["value","G"],["value","D"],["value","C"],["value","LW"],["value","RW"],["value","18"],["value","19"],["value","20"],["value","overall"],["value","age"],["value","position"],["value","desc"],["value","asc"],[1,"table-responsive"],[1,"table","table-hover","mb-0"],[4,"ngFor","ngForOf"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"h2",1),_(2,"i",2),o(3,"GOHLS Draft Central "),n(),i(4,"div",3)(5,"ul",4)(6,"li",5)(7,"a",6),E("click",function(){return a.currentView="classes"}),_(8,"i",7),o(9," Draft Classes "),n()(),i(10,"li",5)(11,"a",6),E("click",function(){return a.currentView="current"}),_(12,"i",8),o(13," Current Draft "),n()(),i(14,"li",5)(15,"a",6),E("click",function(){return a.currentView="history"}),_(16,"i",9),o(17," Draft History "),n()()()(),w(18,he,12,1,"div",10)(19,De,6,1,"div",11),i(20,"div",12)(21,"div",13)(22,"h5",14),o(23,"Select Draft Class"),n()(),i(24,"div",15)(25,"div",16)(26,"div",17)(27,"select",18),V("ngModelChange",function(s){return L(a.selectedDraftClassId,s)||(a.selectedDraftClassId=s),s}),E("change",function(){return a.onDraftClassSelectionChange()}),i(28,"option",19),o(29,"-- Select a Draft Class --"),n(),w(30,Ce,3,6,"option",20),n()(),i(31,"div",21),w(32,ye,3,0,"button",22),n()()()(),w(33,_e,7,0,"div",23)(34,ke,10,3,"div",24),n()),t&2&&(d(7),T("active",a.currentView==="classes"),d(4),T("active",a.currentView==="current"),d(4),T("active",a.currentView==="history"),d(3),p("ngIf",a.indexError),d(),p("ngIf",a.draftClassError),d(8),N("ngModel",a.selectedDraftClassId),d(3),p("ngForOf",a.draftClasses),d(2),p("ngIf",a.selectedDraftClassForDraft&&!a.selectedDraftClassForDraft.draftOrderSet),d(),p("ngIf",!a.selectedDraftClassForDraft),d(),p("ngIf",a.currentView==="classes"))},dependencies:[se,ae,re,fe,de,ce,le,ne,oe,ie],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;background:#fff;min-height:100vh;padding:2rem 0}.page-title[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:2rem;font-size:1.75rem}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6;margin-bottom:2rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#6c757d;font-weight:500;padding:1rem 1.5rem;border-radius:0;border-bottom:3px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0d6efd;background-color:transparent;border-color:transparent;border-bottom-color:#0d6efd;font-weight:600}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:8px;box-shadow:0 2px 4px #0000000d;color:#495057;margin-bottom:1.5rem}.card-header[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border-bottom:1px solid #dee2e6;border-radius:8px 8px 0 0;padding:1rem}.card-body[_ngcontent-%COMP%]{padding:1.5rem;background:#fff}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.35rem .6rem;border-radius:4px;font-weight:500}.table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem;color:#495057}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;font-weight:600;text-transform:uppercase;font-size:.8rem;padding:.75rem;border-bottom:2px solid #dee2e6}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle;border-bottom:1px solid #dee2e6}.draft-pick-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border-radius:8px;padding:.75rem;text-align:center;box-shadow:0 2px 4px #0000001a;width:100px;margin:0 auto}.team-logo-small[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:contain;border-radius:4px}.btn[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;padding:.375rem .75rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #ced4da;padding:.5rem .75rem;font-size:.9rem}.modal-content[_ngcontent-%COMP%]{border-radius:8px;border:none;box-shadow:0 10px 30px #00000026}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem 0}.card-body[_ngcontent-%COMP%]{padding:1rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 1rem}.draft-layout[_ngcontent-%COMP%]{flex-direction:column}.draft-board-section[_ngcontent-%COMP%], .player-selection-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.draft-pick-badge[_ngcontent-%COMP%]{width:80px;padding:.5rem;font-size:.8rem}.team-logo-small[_ngcontent-%COMP%]{width:24px;height:24px}.table-responsive[_ngcontent-%COMP%]{font-size:.85rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem .5rem}}.draft-order-display[_ngcontent-%COMP%]{background:#f8f9fa!important;border:2px solid #dee2e6!important}.draft-order-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6!important;transition:all .2s ease;margin-bottom:.5rem}.draft-order-item[_ngcontent-%COMP%]:hover{border-color:#0d6efd!important;box-shadow:0 2px 4px #0d6efd33}.draft-position-number[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0d6efd;margin-bottom:.5rem}.team-logo-draft-order[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;border-radius:4px}.team-name-small[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#495057;line-height:1.2}@media (max-width: 768px){.draft-order-display[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.team-logo-draft-order[_ngcontent-%COMP%]{width:30px;height:30px}.team-name-small[_ngcontent-%COMP%]{font-size:.7rem}}.player-selection-item[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;border:1px solid #dee2e6!important}.player-selection-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#0d6efd!important}.player-selection-item.selected[_ngcontent-%COMP%]{background-color:#e7f3ff;border-color:#0d6efd!important;box-shadow:0 0 0 2px #0d6efd40}.draft-round-nav[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-bottom:1px solid #dee2e6;text-align:center}.draft-round-picks[_ngcontent-%COMP%]{padding:1rem}"]})};export{ue as Draft};
